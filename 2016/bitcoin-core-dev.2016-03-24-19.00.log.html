<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<title>#bitcoin-core-dev log</title>
<style type="text/css">
/* For the .log.html */
pre { /*line-height: 125%;*/
      white-space: pre-wrap; }
body { background: #f0f0f0; }

body .tm  { color: #007020 }                      /* time */
body .nk  { color: #062873; font-weight: bold }   /* nick, regular */
body .nka { color: #007020; font-weight: bold }  /* action nick */
body .ac  { color: #00A000 }                      /* action line */
body .hi  { color: #4070a0 }                 /* hilights */
/* Things to make particular MeetBot commands stick out */
body .topic     { color: #007020; font-weight: bold }
body .topicline { color: #000080; font-weight: bold }
body .cmd       { color: #007020; font-weight: bold }
body .cmdline  { font-weight: bold }

</style>
</head>

<body>
<pre><a name="l-1"></a><span class="tm">19:00:25</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#startmeeting</span><span class="cmdline"></span>
<a name="l-2"></a><span class="tm">19:00:25</span><span class="nk"> &lt;lightningbot&gt;</span> Meeting started Thu Mar 24 19:00:25 2016 UTC.  The chair is wumpus. Information about MeetBot at http://wiki.debian.org/MeetBot.
<a name="l-3"></a><span class="tm">19:00:25</span><span class="nk"> &lt;lightningbot&gt;</span> Useful Commands: #action #agreed #help #info #idea #link #topic.
<a name="l-4"></a><span class="tm">19:00:47</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jonasschnelli:</span> scope creep is a very bitcoin-y thing
<a name="l-5"></a><span class="tm">19:00:52</span><span class="nk"> &lt;wumpus&gt;</span> ok, topic proposals?
<a name="l-6"></a><span class="tm">19:01:05</span><span class="nk"> &lt;MarcoFalke&gt;</span> python 3 and rpc tests?
<a name="l-7"></a><span class="tm">19:01:14</span><span class="nk"> &lt;wumpus&gt;</span> from last meeitng we have ACTION: merge #7575 (wumpus, 19:04:04)  ... that was done
<a name="l-8"></a><span class="tm">19:01:19</span><span class="nk"> &lt;btcdrak&gt;</span> softfork #7648 status
<a name="l-9"></a><span class="tm">19:01:31</span><span class="nk"> &lt;wumpus&gt;</span> next was ACTION: review #7648 after #7575 is merged (wumpus, 19:09:39)
<a name="l-10"></a><span class="tm">19:01:32</span><span class="nk"> &lt;Luke-Jr&gt;</span> topic proposal: v0.11.3 and v0.10.5
<a name="l-11"></a><span class="tm">19:01:42</span><span class="nk"> &lt;wumpus&gt;</span> how is that going?
<a name="l-12"></a><span class="tm">19:01:53</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">softfork #7648 status</span>
<a name="l-13"></a><span class="tm">19:02:08</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">MarcoFalke:</span> will get to python3 at the end, I think the softfork stuff is most important right now
<a name="l-14"></a><span class="tm">19:02:12</span><span class="nk"> &lt;btcdrak&gt;</span> <span class="cmd">#7648 </span><span class="cmdline">has received some tested ACKs.</span>
<a name="l-15"></a><span class="tm">19:02:37</span><span class="nk"> &lt;MarcoFalke&gt;</span> sure
<a name="l-16"></a><span class="tm">19:03:08</span><span class="nk"> &lt;wumpus&gt;</span> okay, good
<a name="l-17"></a><span class="tm">19:03:46</span><span class="nk"> &lt;wumpus&gt;</span> I think it needs more review still
<a name="l-18"></a><span class="tm">19:04:15</span><span class="nk"> &lt;btcdrak&gt;</span> time to crack the whip.
<a name="l-19"></a><span class="tm">19:04:24</span><span class="nk"> &lt;wumpus&gt;</span> for a softfork the bar is somewhat higher than for random pull #1234
<a name="l-20"></a><span class="tm">19:04:39</span><span class="nk"> &lt;wumpus&gt;</span> yes
<a name="l-21"></a><span class="tm">19:05:03</span><span class="nk"> &lt;jonasschnelli&gt;</span> 7648 looks good and will also review it in details soon (during weekend)
<a name="l-22"></a><span class="tm">19:05:08</span><span class="nk"> &lt;wumpus&gt;</span> I mean I've seen some acks but very little comment on the actual code, that could be a sign everything is perfect, or people need to look better
<a name="l-23"></a><span class="tm">19:05:29</span><span class="nk"> &lt;wumpus&gt;</span> thanks jonasschnelli
<a name="l-24"></a><span class="tm">19:05:40</span><span class="nk"> &lt;btcdrak&gt;</span> <span class="hi">MarcFalke:</span> can you look as well please?
<a name="l-25"></a><span class="tm">19:05:42</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#action </span><span class="cmdline">review more at https://github.com/bitcoin/bitcoin/pull/7648</span>
<a name="l-26"></a><span class="tm">19:05:47</span><span class="nk"> &lt;btcdrak&gt;</span> and CodeShark
<a name="l-27"></a><span class="tm">19:05:52</span><span class="nk"> &lt;wumpus&gt;</span> I'll take a more in-depth look at it as well
<a name="l-28"></a><span class="tm">19:05:55</span><span class="nk"> &lt;btcdrak&gt;</span> ty
<a name="l-29"></a><span class="tm">19:05:57</span><span class="nk"> &lt;MarcoFalke&gt;</span> sure
<a name="l-30"></a><span class="tm">19:06:08</span><span class="nk"> &lt;gmaxwell&gt;</span> has anyone looked to see if there are MTP violations still being accepted on the network?
<a name="l-31"></a><span class="tm">19:06:39</span><span class="nk"> &lt;gmaxwell&gt;</span> I wouldn't consider them a hard blocker to 113 deployment, but if any are, we should make a concerted effort to extinguish them first.
<a name="l-32"></a><span class="tm">19:06:59</span><span class="nk"> &lt;btcdrak&gt;</span> <span class="hi">gmaxwell:</span> there should be 100% coverage of 113 since the upgrade to 0.11.2
<a name="l-33"></a><span class="tm">19:07:16</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">btcdrak:</span> there may be miners with order or modified code, however.
<a name="l-34"></a><span class="tm">19:07:28</span><span class="nk"> &lt;gmaxwell&gt;</span> er, s/order/older/
<a name="l-35"></a><span class="tm">19:07:51</span><span class="nk"> &lt;sipa&gt;</span> s/may be/are/
<a name="l-36"></a><span class="tm">19:08:25</span><span class="nk"> &lt;gmaxwell&gt;</span> if there are any, we should try to find them and get them to stop mining MTP violations.
<a name="l-37"></a><span class="tm">19:09:34</span><span class="nk"> &lt;wumpus&gt;</span> yes
<a name="l-38"></a><span class="tm">19:09:39</span><span class="nk"> &lt;gmaxwell&gt;</span> I can work on this.
<a name="l-39"></a><span class="tm">19:09:49</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">sipa:</span> missed you earlier. ack on allowing for chunked decrypt/decode.
<a name="l-40"></a><span class="tm">19:10:02</span><span class="nk"> &lt;btcdrak&gt;</span> <span class="hi">cfields:</span> can you put 7648 review on your tasklist too please?
<a name="l-41"></a><span class="tm">19:10:08</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#action </span><span class="cmdline">hunt down miners that mine MTP violations</span>
<a name="l-42"></a><span class="tm">19:10:35</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">btcdrak:</span> yes
<a name="l-43"></a><span class="tm">19:11:34</span><span class="nk"> &lt;wumpus&gt;</span> ok
<a name="l-44"></a><span class="tm">19:11:54</span><span class="nk"> &lt;wumpus&gt;</span> next topic I guess
<a name="l-45"></a><span class="tm">19:12:01</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">proposal: v0.11.3 and v0.10.5</span>
<a name="l-46"></a><span class="tm">19:12:29</span><span class="nk"> &lt;sipa&gt;</span> we discussed what would go in last week; did anythkng chang
<a name="l-47"></a><span class="tm">19:12:30</span><span class="nk"> &lt;sipa&gt;</span> ?
<a name="l-48"></a><span class="tm">19:13:03</span><span class="nk"> &lt;wumpus&gt;</span> I don't know, luke-jr requested the topic
<a name="l-49"></a><span class="tm">19:13:10</span><span class="nk"> &lt;btcdrak&gt;</span> well we didnt discuss 0.10.5, we discussed 0.12.1
<a name="l-50"></a><span class="tm">19:13:12</span><span class="nk"> &lt;Luke-Jr&gt;</span> I'm going through https://github.com/bitcoin/bitcoin/pull/7047 again, to check everything included is in 0.12 and make it mergable again
<a name="l-51"></a><span class="tm">19:14:00</span><span class="nk"> &lt;wumpus&gt;</span> that's way too much for a softfork release at least
<a name="l-52"></a><span class="tm">19:14:01</span><span class="nk"> &lt;Luke-Jr&gt;</span> what isn't clear to me is what the plan is for v0.11.3 being released - I assume wumpus is doing that at some point? - and whether I'm taking over for v0.10.5, or if wumpus wanted to do one final 0.10 before passing it off
<a name="l-53"></a><span class="tm">19:14:27</span><span class="nk"> &lt;wumpus&gt;</span> for a normal minor release it'd make more sense
<a name="l-54"></a><span class="tm">19:14:52</span><span class="nk"> &lt;wumpus&gt;</span> yes I'll do the 0.11.x release
<a name="l-55"></a><span class="tm">19:14:58</span><span class="nk"> &lt;MarcoFalke&gt;</span> 7047 also includes a lot of "comment-fixed". I am not sure if they are useful in our branch
<a name="l-56"></a><span class="tm">19:15:01</span><span class="nk"> &lt;gmaxwell&gt;</span> whats deployment of 0.11.2 vs 0.12 look like right now?
<a name="l-57"></a><span class="tm">19:15:06</span><span class="nk"> &lt;MarcoFalke&gt;</span> I'd rather only have bugfixes
<a name="l-58"></a><span class="tm">19:15:08</span><span class="nk"> &lt;wumpus&gt;</span> I'll leave 0.10.x to you
<a name="l-59"></a><span class="tm">19:15:08</span><span class="nk"> &lt;Luke-Jr&gt;</span> are we doing a softfork release in the next month?
<a name="l-60"></a><span class="tm">19:15:21</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">Luke-Jr:</span> i say yes
<a name="l-61"></a><span class="tm">19:15:32</span><span class="nk"> &lt;Luke-Jr&gt;</span> ok, so then we should let these things wait until after that
<a name="l-62"></a><span class="tm">19:15:38</span><span class="nk"> &lt;wumpus&gt;</span> I think we should do a softfork release asap
<a name="l-63"></a><span class="tm">19:15:50</span><span class="nk"> &lt;Luke-Jr&gt;</span> or maybe I should go through it and make sure there's nothing important
<a name="l-64"></a><span class="tm">19:15:52</span><span class="nk"> &lt;wumpus&gt;</span> let's just get those stupid things reviewed and merged
<a name="l-65"></a><span class="tm">19:15:57</span><span class="nk"> &lt;jonasschnelli&gt;</span> As soon as #7648 has been reviewed more and merged
<a name="l-66"></a><span class="tm">19:16:10</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jonasschnelli:</span> and backports reviewed and merged ofc
<a name="l-67"></a><span class="tm">19:16:21</span><span class="nk"> &lt;wumpus&gt;</span> but yes 7648 is the first step
<a name="l-68"></a><span class="tm">19:16:31</span><span class="nk"> &lt;jonasschnelli&gt;</span> RIght
<a name="l-69"></a><span class="tm">19:16:32</span><span class="nk"> &lt;Luke-Jr&gt;</span> (also, depending on ease of backporting the softforks, I may decide to just give up on 0.10 support; tbd)
<a name="l-70"></a><span class="tm">19:16:42</span><span class="nk"> &lt;btcdrak&gt;</span> /Satoshi:0.12.0/	1713
<a name="l-71"></a><span class="tm">19:16:43</span><span class="nk"> &lt;btcdrak&gt;</span> /Satoshi:0.11.2/	1387
<a name="l-72"></a><span class="tm">19:16:50</span><span class="nk"> &lt;jonasschnelli&gt;</span> 0.10 can be given up IMO
<a name="l-73"></a><span class="tm">19:16:55 </span><span class="nka">* jonasschnelli</span> <span class="ac">is checking his seeder data</span>
<a name="l-74"></a><span class="tm">19:17:01</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">Luke-Jr:</span> I think absent someone requesting otherwise (and perhaps funding your effort) you probably should.
<a name="l-75"></a><span class="tm">19:17:08</span><span class="nk"> &lt;Luke-Jr&gt;</span> <span class="hi">jonasschnelli:</span> it's currently Gentoo stable, so at the very least I will need to bump that
<a name="l-76"></a><span class="tm">19:17:21</span><span class="nk"> &lt;btcdrak&gt;</span> The problem with 0.10 is we all need to put review time into the backports and that's difficult when we have trouble even reviewing backports for 0.11
<a name="l-77"></a><span class="tm">19:17:37</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">btcdrak:</span> +1
<a name="l-78"></a><span class="tm">19:17:56</span><span class="nk"> &lt;Luke-Jr&gt;</span> <span class="hi">btcdrak:</span> most backports are trivial, but for softforks I agree if they're not a clean backport
<a name="l-79"></a><span class="tm">19:18:04</span><span class="nk"> &lt;wumpus&gt;</span> right
<a name="l-80"></a><span class="tm">19:18:12</span><span class="nk"> &lt;btcdrak&gt;</span> I think if there is a 0.10.5 release it should be extremely minimal... and frankly, backporting BIP68 wont be fun or easy.
<a name="l-81"></a><span class="tm">19:18:14</span><span class="nk"> &lt;sipa&gt;</span> bip68/112/113 are quite a bit of code
<a name="l-82"></a><span class="tm">19:18:28</span><span class="nk"> &lt;wumpus&gt;</span> let's spend our energy on moving forward
<a name="l-83"></a><span class="tm">19:18:33</span><span class="nk"> &lt;jonasschnelli&gt;</span> 0.10 should be last priority. If someone offers to do that: fine.
<a name="l-84"></a><span class="tm">19:18:41</span><span class="nk"> &lt;gmaxwell&gt;</span> plus, a far backport which is done by one person and used by few more likely won't be materially more stable than a more recent release.
<a name="l-85"></a><span class="tm">19:18:44</span><span class="nk"> &lt;Luke-Jr&gt;</span> ok, so for 0.10 I'll see the complexity in the softfork backports, and if it's anything more than absolutely trivial, I'll just decide to drop it
<a name="l-86"></a><span class="tm">19:18:47</span><span class="nk"> &lt;btcdrak&gt;</span> <span class="hi">Luke-Jr:</span> even BIP68 backport to 0.11 was tricky, not a clean cherry-pick.
<a name="l-87"></a><span class="tm">19:18:58</span><span class="nk"> &lt;Luke-Jr&gt;</span> <span class="hi">btcdrak:</span> well, I'd be backporting to 0.10 *from* 0.11
<a name="l-88"></a><span class="tm">19:19:19</span><span class="nk"> &lt;jonasschnelli&gt;</span> at dnsseed.dump | grep "  100.00% 100.00%" | grep "/Satoshi:0.10." | wc -l       ---&gt; 266
<a name="l-89"></a><span class="tm">19:19:25</span><span class="nk"> &lt;sipa&gt;</span> we can still do critical security updates for 0.10 without choosing to backport sotfork
<a name="l-90"></a><span class="tm">19:19:33</span><span class="nk"> &lt;wumpus&gt;</span> sure
<a name="l-91"></a><span class="tm">19:19:45</span><span class="nk"> &lt;jonasschnelli&gt;</span> 6.3% 0.10.x nodes
<a name="l-92"></a><span class="tm">19:19:49</span><span class="nk"> &lt;btcdrak&gt;</span> so on this topic, people need to also look at backport #7543
<a name="l-93"></a><span class="tm">19:19:58</span><span class="nk"> &lt;Luke-Jr&gt;</span> and for 0.11, sounds like the plan is to do a softfork-only release before any non-essential bugfix backports
<a name="l-94"></a><span class="tm">19:20:08</span><span class="nk"> &lt;CodeShark&gt;</span> +1 jonasschnelli
<a name="l-95"></a><span class="tm">19:20:09</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">sipa:</span> and people who need a v0.10.x node for software compatibility reasons can generally run it behind a newer node
<a name="l-96"></a><span class="tm">19:20:18</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">petertodd:</span> also true
<a name="l-97"></a><span class="tm">19:20:31</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#action </span><span class="cmdline">people need to also look at backport #7543: [0.12] Backport BIP9, BIP68 and BIP112 with softfork</span>
<a name="l-98"></a><span class="tm">19:20:36</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">petertodd:</span> specifically, behind a 0.11 or 0.12 pruned one :)
<a name="l-99"></a><span class="tm">19:20:46</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">sipa:</span> yes! that too
<a name="l-100"></a><span class="tm">19:20:57</span><span class="nk"> &lt;Luke-Jr&gt;</span> <span class="cmd">#action </span><span class="cmdline">0.10: attempt to backport softforks, and if non-trivial, discontinue support</span>
<a name="l-101"></a><span class="tm">19:21:12</span><span class="nk"> &lt;Luke-Jr&gt;</span> <span class="cmd">#action </span><span class="cmdline">0.11: no non-essential fix backports until softfork release</span>
<a name="l-102"></a><span class="tm">19:21:26</span><span class="nk"> &lt;Luke-Jr&gt;</span> <span class="cmd">#action </span><span class="cmdline">bump Gentoo stable to 0.11 (from 0.10)</span>
<a name="l-103"></a><span class="tm">19:21:38</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">Luke-Jr:</span> support is already discontinued according to policy, only critical biffixes
<a name="l-104"></a><span class="tm">19:21:42</span><span class="nk"> &lt;sipa&gt;</span> *bugfixes
<a name="l-105"></a><span class="tm">19:21:51</span><span class="nk"> &lt;CodeShark&gt;</span> I'd say discontinue support for 0.10 unless someone wishes to provide resources for it
<a name="l-106"></a><span class="tm">19:21:59</span><span class="nk"> &lt;wumpus&gt;</span> well if luke-jr wants to try to backport the softfork that's up to him
<a name="l-107"></a><span class="tm">19:21:59</span><span class="nk"> &lt;Luke-Jr&gt;</span> <span class="hi">sipa:</span> policy only dictates guaranteed support, not guaranteed to end
<a name="l-108"></a><span class="tm">19:22:22</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">wumpus:</span> sure, but i don't think that's very relevant here
<a name="l-109"></a><span class="tm">19:22:27</span><span class="nk"> &lt;wumpus&gt;</span> no need to even discuss it here :p
<a name="l-110"></a><span class="tm">19:22:28</span><span class="nk"> &lt;wumpus&gt;</span> right
<a name="l-111"></a><span class="tm">19:22:44</span><span class="nk"> &lt;btcdrak&gt;</span> <span class="cmd">#action </span><span class="cmdline">0.11 review #7716 Backport BIP9 and softfork for BIP's 68,112,113</span>
<a name="l-112"></a><span class="tm">19:22:58</span><span class="nk"> &lt;Luke-Jr&gt;</span> any more topics?
<a name="l-113"></a><span class="tm">19:23:32</span><span class="nk"> &lt;sipa&gt;</span> as soon as we have 0.12.1, i will rebase segwit on top, so segnet can benefit from its bip9/68/112/113 support
<a name="l-114"></a><span class="tm">19:23:37</span><span class="nk"> &lt;cfields&gt;</span> can give a quick update on the net refactor
<a name="l-115"></a><span class="tm">19:23:50</span><span class="nk"> &lt;wumpus&gt;</span> I'd say spend the rest of the meeting time reviewing #7648 :p
<a name="l-116"></a><span class="tm">19:23:53</span><span class="nk"> &lt;wumpus&gt;</span> sure cfields!
<a name="l-117"></a><span class="tm">19:24:00</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">cfields net refactor</span>
<a name="l-118"></a><span class="tm">19:24:34</span><span class="nk"> &lt;sipa&gt;</span> please, stick to the net refactor, not the gross one
<a name="l-119"></a><span class="tm">19:24:56</span><span class="nk"> &lt;cfields&gt;</span> i finally have a working full-featured branch. it's a mess code-wise, but i think it should be approachable in the next day or two after some code movement. I expect to be looking for concept review next week
<a name="l-120"></a><span class="tm">19:24:58</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">cfields:</span> start taking, I can't take the wait.
<a name="l-121"></a><span class="tm">19:25:02</span><span class="nk"> &lt;wumpus&gt;</span> lol
<a name="l-122"></a><span class="tm">19:25:23</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">cfields:</span> I've been testing it on a node btw for last week, seems to be stable and working
<a name="l-123"></a><span class="tm">19:25:48</span><span class="nk"> &lt;wumpus&gt;</span> haven't looked at details of performance etc but no crashes or insane log entries
<a name="l-124"></a><span class="tm">19:26:02</span><span class="nk"> &lt;btcdrak&gt;</span> <span class="hi">sipa:</span> you can cherry-pick from  #7543 in that case
<a name="l-125"></a><span class="tm">19:26:10</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">wumpus:</span> that's great to hear. lots has changed since then, but the core is the same
<a name="l-126"></a><span class="tm">19:26:35</span><span class="nk"> &lt;cfields&gt;</span> i think i have an idea of how to handle code review, but i'd like to get some concept acks first...
<a name="l-127"></a><span class="tm">19:26:50</span><span class="nk"> &lt;wumpus&gt;</span> you got my concept ack at the boston meeting
<a name="l-128"></a><span class="tm">19:26:56</span><span class="nk"> &lt;sipa&gt;</span> and mine
<a name="l-129"></a><span class="tm">19:27:09</span><span class="nk"> &lt;cfields&gt;</span> there's a huge mix of code movement, a new lib, abstraction, etc. I think i have a plan for getting it slotted in
<a name="l-130"></a><span class="tm">19:27:28</span><span class="nk"> &lt;wumpus&gt;</span> great
<a name="l-131"></a><span class="tm">19:27:29</span><span class="nk"> &lt;cfields&gt;</span> ok. i can start PRing chunks into core as i go, then
<a name="l-132"></a><span class="tm">19:27:44</span><span class="nk"> &lt;Luke-Jr&gt;</span> <span class="hi">cfields:</span> practical to add block streaming? ;)
<a name="l-133"></a><span class="tm">19:28:02</span><span class="nk"> &lt;cfields&gt;</span> first step is getting the net stuff instanced. that's a lot of movement without much functional difference
<a name="l-134"></a><span class="tm">19:28:02</span><span class="nk"> &lt;gmaxwell&gt;</span> do not creep cfield's scope. :P
<a name="l-135"></a><span class="tm">19:28:06</span><span class="nk"> &lt;wumpus&gt;</span> please, let's replace the current things first, then add additional features
<a name="l-136"></a><span class="tm">19:28:08</span><span class="nk"> &lt;jonasschnelli&gt;</span> hah
<a name="l-137"></a><span class="tm">19:28:09</span><span class="nk"> &lt;wumpus&gt;</span> example gmaxwell
<a name="l-138"></a><span class="tm">19:28:12</span><span class="nk"> &lt;wumpus&gt;</span> exactly*
<a name="l-139"></a><span class="tm">19:28:13</span><span class="nk"> &lt;cfields&gt;</span> i think that can start going in parallel
<a name="l-140"></a><span class="tm">19:28:37</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">gmaxwell:</span> heh, i've adjusted scope so many times now that i'm certainly not budging again :p
<a name="l-141"></a><span class="tm">19:28:44</span><span class="nk"> &lt;jonasschnelli&gt;</span> The net refactor will be very hard to review already. Lets keep it as simple as possible.
<a name="l-142"></a><span class="tm">19:28:51</span><span class="nk"> &lt;wumpus&gt;</span> that's good, stand your ground , people here are awful :)
<a name="l-143"></a><span class="tm">19:28:57</span><span class="nk"> &lt;cfields&gt;</span> turns out the absolute minimum scope for net refactor is already enormous
<a name="l-144"></a><span class="tm">19:29:07</span><span class="nk"> &lt;jonasschnelli&gt;</span> Indeed.
<a name="l-145"></a><span class="tm">19:29:29</span><span class="nk"> &lt;wumpus&gt;</span> yes it'll already be challenging to get this done before 0.13 I think, but we have to try
<a name="l-146"></a><span class="tm">19:29:31</span><span class="nk"> &lt;Luke-Jr&gt;</span> <span class="hi">gmaxwell:</span> indeed, just hope we don't need to refactor it again after
<a name="l-147"></a><span class="tm">19:29:41</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">Luke-Jr:</span> we absolutely will
<a name="l-148"></a><span class="tm">19:29:48</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">wumpus:</span> yes, it's much later than I was hoping for. If it slips past 0.13, I'll understand.
<a name="l-149"></a><span class="tm">19:29:51</span><span class="nk"> &lt;sipa&gt;</span> but at different layers :)
<a name="l-150"></a><span class="tm">19:30:04</span><span class="nk"> &lt;wumpus&gt;</span> right, this is only the bottom layer
<a name="l-151"></a><span class="tm">19:30:19</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">sipa:</span> well the hope is that it's been split up into chunks that can be changed in the future much easier
<a name="l-152"></a><span class="tm">19:30:37</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">cfields:</span> yes, that's what abstractions are for
<a name="l-153"></a><span class="tm">19:31:27</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">topic:</span> Should we shorty touch how we should proceed with sipas CT AES implementation? Extract to library? Yes/No?
<a name="l-154"></a><span class="tm">19:31:40</span><span class="nk"> &lt;cfields&gt;</span> there are a few hacks that i'm not going to mess with for now. For ex, even though it's all instanced, there's still a g_connman that's used liberally as opposed to the clean way of passing the instance around
<a name="l-155"></a><span class="tm">19:31:42</span><span class="nk"> &lt;wumpus&gt;</span> meh
<a name="l-156"></a><span class="tm">19:31:55</span><span class="nk"> &lt;cfields&gt;</span> i'll start working on a list of todos so that some of the decisions are more clear
<a name="l-157"></a><span class="tm">19:32:24</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">jonasschnelli:</span> extract is a great idea I think - don't have to be fancy, just enough to continue to set a better standard than "roll our own"
<a name="l-158"></a><span class="tm">19:32:36</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">cfields:</span> just PR it! i want to see the code :)
<a name="l-159"></a><span class="tm">19:32:49</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">sipa:</span> code: https://github.com/theuni/bitcoin/tree/net-refactor8
<a name="l-160"></a><span class="tm">19:32:52</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">sipa:</span> i'm still frantically coding it :)
<a name="l-161"></a><span class="tm">19:32:58</span><span class="nk"> &lt;sipa&gt;</span> ah.
<a name="l-162"></a><span class="tm">19:33:07</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">jonasschnelli:</span> nooooooo. everyone shield your eyes from that :)
<a name="l-163"></a><span class="tm">19:33:07</span><span class="nk"> &lt;wumpus&gt;</span> the code is actually buildable and works
<a name="l-164"></a><span class="tm">19:33:14</span><span class="nk"> &lt;sipa&gt;</span> now i have a moral obligation to actually go look, right?
<a name="l-165"></a><span class="tm">19:33:28</span><span class="nk"> &lt;wumpus&gt;</span> well test at least :)
<a name="l-166"></a><span class="tm">19:33:33</span><span class="nk"> &lt;btcdrak&gt;</span> <span class="hi">cfields:</span> love that last commit message :)
<a name="l-167"></a><span class="tm">19:33:35</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">sipa:</span> with the understanding that it's basically my /tmp :)
<a name="l-168"></a><span class="tm">19:33:35</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">cfields:</span> We all know how code during implementation can look. No shame for it!
<a name="l-169"></a><span class="tm">19:34:09</span><span class="nk"> &lt;wumpus&gt;</span> yes :)
<a name="l-170"></a><span class="tm">19:34:31</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">petertodd:</span> I'm also for extracting.
<a name="l-171"></a><span class="tm">19:34:54</span><span class="nk"> &lt;jonasschnelli&gt;</span> Simple autotools setup, add as subtree place on bitcoin/libctaes (or similar)
<a name="l-172"></a><span class="tm">19:34:57</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">CT AES library</span>
<a name="l-173"></a><span class="tm">19:35:12</span><span class="nk"> &lt;Luke-Jr&gt;</span> what is "CT" for here?
<a name="l-174"></a><span class="tm">19:35:14</span><span class="nk"> &lt;wumpus&gt;</span> I don't think extracting it into a library has to affect our use of it
<a name="l-175"></a><span class="tm">19:35:14</span><span class="nk"> &lt;petertodd&gt;</span> jonasschnelli yup, subtree is fine
<a name="l-176"></a><span class="tm">19:35:17</span><span class="nk"> &lt;wumpus&gt;</span> Constant Time
<a name="l-177"></a><span class="tm">19:35:18</span><span class="nk"> &lt;jonasschnelli&gt;</span> constant time
<a name="l-178"></a><span class="tm">19:35:24</span><span class="nk"> &lt;Luke-Jr&gt;</span> ah
<a name="l-179"></a><span class="tm">19:35:45</span><span class="nk"> &lt;sipa&gt;</span> i feel like it's more a code snippet than a library
<a name="l-180"></a><span class="tm">19:35:46</span><span class="nk"> &lt;gmaxwell&gt;</span> constant time.
<a name="l-181"></a><span class="tm">19:35:53</span><span class="nk"> &lt;wumpus&gt;</span> yes, it's more like a snippet
<a name="l-182"></a><span class="tm">19:35:56</span><span class="nk"> &lt;gmaxwell&gt;</span> "Petertodd raised verification concerns for the internal AES implementation. I could suggest some strategies on that." is what I wrote earlier. :P
<a name="l-183"></a><span class="tm">19:35:59</span><span class="nk"> &lt;wumpus&gt;</span> crypto has a rich tradition of copy/paste
<a name="l-184"></a><span class="tm">19:36:11</span><span class="nk"> &lt;cfields&gt;</span> fwiw, I plan on doing the same with libbtcnet
<a name="l-185"></a><span class="tm">19:36:13</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">wumpus:</span> I think placing stuff in libraries follows a modular approach  which is desirable for Bitcoin IMO
<a name="l-186"></a><span class="tm">19:36:24</span><span class="nk"> &lt;Luke-Jr&gt;</span> +1 for libctaes
<a name="l-187"></a><span class="tm">19:36:34</span><span class="nk"> &lt;cfields&gt;</span> i have a tiny/crappy makefile that i use to build it externally, but I plan to just copy/paste it into Core and keep it in sync
<a name="l-188"></a><span class="tm">19:36:35</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">sipa:</span> well, to be clear, you did write that code snippet from scratch yourself right?
<a name="l-189"></a><span class="tm">19:36:35</span><span class="nk"> &lt;wumpus&gt;</span> you could stil include it in a library, but please don't compilicate the build
<a name="l-190"></a><span class="tm">19:36:40</span><span class="nk"> &lt;Luke-Jr&gt;</span> <span class="hi">cfields:</span> libbcnet I hope; what does the BTC unit size have to do with networking? :P
<a name="l-191"></a><span class="tm">19:36:49</span><span class="nk"> &lt;gmaxwell&gt;</span> in any case, I'm not convinced that the standard test vectors prove the code correct. Beyond soliciting outside review, which btcdrak has done.  I was going to suggest trying some mutation testing to see if some additional better test vectors can be constructed.
<a name="l-192"></a><span class="tm">19:36:54</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">sipa:</span> Its a snipped now, ... but we all know how snippets evolve over time.
<a name="l-193"></a><span class="tm">19:37:00</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">Luke-Jr:</span> when i googled "libp2p" some etherium thing came up :)
<a name="l-194"></a><span class="tm">19:37:01</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">petertodd:</span> yes, though the logic gates for the sbox come from a paper
<a name="l-195"></a><span class="tm">19:37:14</span><span class="nk"> &lt;wumpus&gt;</span> I think we should separate concerns here: getting the code into a library, and getting the damn code reviewed
<a name="l-196"></a><span class="tm">19:37:18</span><span class="nk"> &lt;wumpus&gt;</span> the first is easy, just work
<a name="l-197"></a><span class="tm">19:37:18</span><span class="nk"> &lt;Luke-Jr&gt;</span> <span class="hi">cfields:</span> oh great, let's just integrate that! :P
<a name="l-198"></a><span class="tm">19:37:37</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">sipa:</span> right, so it's independent work, which means it's crypto we wrote, which means no matter how small it is, we should at least make a token effort to try to let independent use and review :)
<a name="l-199"></a><span class="tm">19:37:38</span><span class="nk"> &lt;Luke-Jr&gt;</span> <span class="hi">wumpus:</span> I don't feel competent to review crypto code :&lt;
<a name="l-200"></a><span class="tm">19:37:49</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">Luke-Jr:</span> me neither.
<a name="l-201"></a><span class="tm">19:38:01</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">Luke-Jr:</span> so we'll have to find someone that can, btcdrak had some ideas.
<a name="l-202"></a><span class="tm">19:38:04</span><span class="nk"> &lt;gmaxwell&gt;</span> You're all competent to review if the code is constant time or not.
<a name="l-203"></a><span class="tm">19:38:16</span><span class="nk"> &lt;sipa&gt;</span> or that it has test coverage
<a name="l-204"></a><span class="tm">19:38:16</span><span class="nk"> &lt;jonasschnelli&gt;</span> What about apoelstra?
<a name="l-205"></a><span class="tm">19:38:32</span><span class="nk"> &lt;gmaxwell&gt;</span> And probably no one is competent to review if it's correct, fortunately AES is a permutation, which does make confidence building via testing easier.
<a name="l-206"></a><span class="tm">19:38:40</span><span class="nk"> &lt;wumpus&gt;</span> but not if it's correct AES, or has some weird edge cases, mathatical inconsistencies, or other wacky side channels
<a name="l-207"></a><span class="tm">19:38:55</span><span class="nk"> &lt;wumpus&gt;</span> right
<a name="l-208"></a><span class="tm">19:39:02</span><span class="nk"> &lt;sipa&gt;</span> and notice it has no tables or branches, so it would be exceedingly hard to make it broken in a very small number of cases
<a name="l-209"></a><span class="tm">19:39:04</span><span class="nk"> &lt;jonasschnelli&gt;</span> IMO that all speak for splitting it off into a own library.
<a name="l-210"></a><span class="tm">19:39:04</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">gmaxwell:</span> the problem here, is I don't know enough about the problem to know if I'm actually competent to review that
<a name="l-211"></a><span class="tm">19:39:07</span><span class="nk"> &lt;gmaxwell&gt;</span> (by no one, I mean no human. :) )
<a name="l-212"></a><span class="tm">19:39:35</span><span class="nk"> &lt;btcdrak&gt;</span> <span class="hi">petertodd:</span> I asked isis to take a look on a paid basis.
<a name="l-213"></a><span class="tm">19:39:41</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">btcdrak:</span> good!
<a name="l-214"></a><span class="tm">19:39:48</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">petertodd:</span> the requirement is that there should be no leakage of the secret state (key or data) in the timing of the program on any hardware we support.
<a name="l-215"></a><span class="tm">19:39:53</span><span class="nk"> &lt;btcdrak&gt;</span> that's @isislovecruft from Tor for anyone that doesnt know.
<a name="l-216"></a><span class="tm">19:40:01 </span><span class="nka">* Luke-Jr</span> <span class="ac">volunteers to do the splitting-off-into-library work if sipa doesn't want to</span>
<a name="l-217"></a><span class="tm">19:40:18</span><span class="nk"> &lt;sipa&gt;</span> anyway, i'll turn it into a .c/.h; if someone else wants to actually do the work for autotools etc, go ahead.
<a name="l-218"></a><span class="tm">19:40:19</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">Luke-Jr:</span> I already have started that. :)
<a name="l-219"></a><span class="tm">19:40:28</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">Luke-Jr:</span> this will again trigger the subtree-or-external discussion, I can't take that another time
<a name="l-220"></a><span class="tm">19:40:45</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">Luke-Jr:</span> and linux distributions messing it up etc
<a name="l-221"></a><span class="tm">19:40:51</span><span class="nk"> &lt;gmaxwell&gt;</span> it will not be external.
<a name="l-222"></a><span class="tm">19:40:53</span><span class="nk"> &lt;Luke-Jr&gt;</span> <span class="hi">wumpus:</span> seems that discussion should be project-global, not per-lib
<a name="l-223"></a><span class="tm">19:40:56</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">sipa:</span> I have checked to code and it looks pretty Cish.
<a name="l-224"></a><span class="tm">19:41:05</span><span class="nk"> &lt;Luke-Jr&gt;</span> subtree-with-configure-option seems to work
<a name="l-225"></a><span class="tm">19:41:12</span><span class="nk"> &lt;sipa&gt;</span> imho, it can be a separate repository without being a library
<a name="l-226"></a><span class="tm">19:41:22</span><span class="nk"> &lt;sipa&gt;</span> just copy it into your project if you neeed it
<a name="l-227"></a><span class="tm">19:41:27</span><span class="nk"> &lt;wumpus&gt;</span> right.
<a name="l-228"></a><span class="tm">19:41:38</span><span class="nk"> &lt;sipa&gt;</span> it's a single file and has no intention to grow beyond that
<a name="l-229"></a><span class="tm">19:41:56</span><span class="nk"> &lt;gmaxwell&gt;</span> nor any utility to grow beyond that.
<a name="l-230"></a><span class="tm">19:41:59</span><span class="nk"> &lt;jonasschnelli&gt;</span> meh. Adding a build setup should be trivial and would hurt nobody?
<a name="l-231"></a><span class="tm">19:42:02</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">sipa:</span> is there enough non-standard stuff to necessitate a buildsystem? or would a simple makefile do?
<a name="l-232"></a><span class="tm">19:42:11</span><span class="nk"> &lt;wumpus&gt;</span> the API will never change, the implementation will hopefully also never change (excluding critical problems)
<a name="l-233"></a><span class="tm">19:42:22</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">cfields:</span> it will be a single C89 file with no dependencies beyond stdint
<a name="l-234"></a><span class="tm">19:42:36</span><span class="nk"> &lt;Luke-Jr&gt;</span> stdint isn't C89, though?
<a name="l-235"></a><span class="tm">19:42:36</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">wumpus:</span> the only 'change' I could imagine for it is wrapping it with something that uses AESNI when available instead.
<a name="l-236"></a><span class="tm">19:42:48</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">Luke-Jr:</span> it indeed isn't, which is why i mention it :)
<a name="l-237"></a><span class="tm">19:42:50</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">sipa:</span> ah great
<a name="l-238"></a><span class="tm">19:42:56</span><span class="nk"> &lt;gmaxwell&gt;</span> well C89+stdint, or C99...
<a name="l-239"></a><span class="tm">19:43:19</span><span class="nk"> &lt;gmaxwell&gt;</span> stdint is almost universal even in terrible embedded complilers.
<a name="l-240"></a><span class="tm">19:43:28</span><span class="nk"> &lt;jonasschnelli&gt;</span> Are there no plans to extend the "lib" with more stuff? Like for a possible p2p encryption?
<a name="l-241"></a><span class="tm">19:43:36</span><span class="nk"> &lt;wumpus&gt;</span> and if not it's easy enough to define the types yourself
<a name="l-242"></a><span class="tm">19:43:53</span><span class="nk"> &lt;Luke-Jr&gt;</span> <span class="hi">jonasschnelli:</span> well, then the name libctaes would be wrong
<a name="l-243"></a><span class="tm">19:43:57</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jonasschnelli:</span> i'd do that on another layer
<a name="l-244"></a><span class="tm">19:43:58</span><span class="nk"> &lt;jonasschnelli&gt;</span> Right.
<a name="l-245"></a><span class="tm">19:44:03</span><span class="nk"> &lt;wumpus&gt;</span> no, jonasschnelli, that should be something else yet again
<a name="l-246"></a><span class="tm">19:44:05</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jonasschnelli:</span> it would still rely on aes primitives
<a name="l-247"></a><span class="tm">19:44:27</span><span class="nk"> &lt;gmaxwell&gt;</span> This pressure to constantly create "libraries" to dump things in is streesful for me. A well constructed library is a serious amount of work in and of itself.
<a name="l-248"></a><span class="tm">19:44:29</span><span class="nk"> &lt;wumpus&gt;</span> ctaes would be constant time aes :-) I don't think you want/need that for the p2p
<a name="l-249"></a><span class="tm">19:44:31</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">gmaxwell:</span> I may have to use a climbing analogy to get my point accross here :) sure, I can easily read a book on knots and belay systems and feel like I _should_ know everything I need to know to do that stuff safely, but the consequences of failure are high enough - and the field unusual enough - that I'm going to insist I check things out with others generally accepted as experts first - who cares how irrational ...
<a name="l-250"></a><span class="tm">19:44:32</span><span class="nk"> &lt;jonasschnelli&gt;</span> Okay. Then we might agree in a subtree with just a .c/.h instead of a autotools setup.
<a name="l-251"></a><span class="tm">19:44:37</span><span class="nk"> &lt;petertodd&gt;</span> ... that feels. I think general standards for low-level crypto implementations tend in that direction.
<a name="l-252"></a><span class="tm">19:45:05</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jonasschnelli:</span> yes
<a name="l-253"></a><span class="tm">19:45:06</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">jonasschnelli:</span> yes, just a .c/.h is fine! like I said, bare minimum to set a precedent that we're trying to invite outside review
<a name="l-254"></a><span class="tm">19:45:08</span><span class="nk"> &lt;Luke-Jr&gt;</span> subtree with just .c/.h until some future time when someone decides to lib-ify it seems ok
<a name="l-255"></a><span class="tm">19:45:11</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jonasschnelli:</span> that's very common for crypto
<a name="l-256"></a><span class="tm">19:45:18</span><span class="nk"> &lt;sipa&gt;</span> and maybe for performance reasons, it makes sense to use a more complicated faster implementation, and maybe also warrants more maintainance afterwards if it's going to be adopted by other prijects for the purpose of p2p encryption
<a name="l-257"></a><span class="tm">19:45:31</span><span class="nk"> &lt;jonasschnelli&gt;</span> okay.
<a name="l-258"></a><span class="tm">19:45:43</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">petertodd:</span> considering that basically all AES-CBC software (not AESNI) out there is gratitiously timing vulnerable, and we were going to take such a patch ourselves before; I feel you're compent enough to review and increase confidence, if not alone to achieve perfection.
<a name="l-259"></a><span class="tm">19:45:47</span><span class="nk"> &lt;Luke-Jr&gt;</span> <span class="hi">sipa:</span> seems likely other wallets may use it
<a name="l-260"></a><span class="tm">19:45:47</span><span class="nk"> &lt;jonasschnelli&gt;</span> agree on bitcoin/libctaes?
<a name="l-261"></a><span class="tm">19:45:48</span><span class="nk"> &lt;wumpus&gt;</span> and just copy/subtree the thing into your project and include it into your build system, all the dependency micro management isnt' worth it for everything
<a name="l-262"></a><span class="tm">19:46:05</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">Luke-Jr:</span> they absolutely may!
<a name="l-263"></a><span class="tm">19:46:16</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">Luke-Jr:</span> right.  I have two projects where i will use it immediately.
<a name="l-264"></a><span class="tm">19:46:21</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jonasschnelli:</span> bitcoin-core/libctaes it would be then
<a name="l-265"></a><span class="tm">19:46:27</span><span class="nk"> &lt;gmaxwell&gt;</span> as I noted before, this implementation is not super fast. We have no need to make it super fast. It may be of idependant interest to others because it is quite small.
<a name="l-266"></a><span class="tm">19:46:29</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">Luke-Jr:</span> but for wallets, it has no performance requirements
<a name="l-267"></a><span class="tm">19:46:36</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">wumpus:</span> ah. Right. The moving.
<a name="l-268"></a><span class="tm">19:46:56</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">Luke-Jr:</span> which is why it's easy, and needs no dependencies on assemblers or instruction sets, or simd extensions, or ...
<a name="l-269"></a><span class="tm">19:47:13 </span><span class="nka">* Luke-Jr</span> <span class="ac">not sure libctaes makes sense as bitcoin-core as opposed to just bitcoin, but meh</span>
<a name="l-270"></a><span class="tm">19:47:38</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">gmaxwell:</span> yeah, I probably am - I also learned how to do climbing/caving ropework by buying a book on it, some equipment, and going out to find some trees to practice on. Doesn't mean it was a good idea. :) just having a separate repo with a bare .c/.h goes a long way to making our intentions clear and having good precedents, even if pragmatically we need a solution right now.
<a name="l-271"></a><span class="tm">19:47:38</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jonasschnelli:</span> which reminds me, I think I still need to add you to that project
<a name="l-272"></a><span class="tm">19:47:49</span><span class="nk"> &lt;jonasschnelli&gt;</span> bitcoin/ should be consensus critical stuff
<a name="l-273"></a><span class="tm">19:47:52</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jonasschnelli:</span> we're not actually doing anything with it at the moment
<a name="l-274"></a><span class="tm">19:47:59</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jonasschnelli:</span> right
<a name="l-275"></a><span class="tm">19:48:09</span><span class="nk"> &lt;jonasschnelli&gt;</span> +1 ;-)
<a name="l-276"></a><span class="tm">19:48:20</span><span class="nk"> &lt;cfields&gt;</span> topic has strayed a bit :)
<a name="l-277"></a><span class="tm">19:48:35</span><span class="nk"> &lt;wumpus&gt;</span> yes
<a name="l-278"></a><span class="tm">19:48:55</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">petertodd:</span> ok, agreed
<a name="l-279"></a><span class="tm">19:49:09</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">sipa:</span> thanks!
<a name="l-280"></a><span class="tm">19:49:28</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">convert python RPC tests to python 3</span>
<a name="l-281"></a><span class="tm">19:49:29</span><span class="nk"> &lt;gmaxwell&gt;</span> I am disappointed that all of this time is being wasted over faffing about libraries, for code that has very narrow independant interest and likely against the wishes of its author. .. and no one commented on further verification strategy.
<a name="l-282"></a><span class="tm">19:49:49 </span><span class="nka">* gmaxwell</span> <span class="ac">sees topic is over.</span>
<a name="l-283"></a><span class="tm">19:50:00</span><span class="nk"> &lt;MarcoFalke&gt;</span> I think it's cleaner to just switch to py3
<a name="l-284"></a><span class="tm">19:50:04</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">wumpus:</span> concept ack!
<a name="l-285"></a><span class="tm">19:50:26</span><span class="nk"> &lt;MarcoFalke&gt;</span> but I'd like to hear any drawbacks first.
<a name="l-286"></a><span class="tm">19:50:30</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> I agree, I think this will do just as well as a code snippet, but I don't think discussing this further is constructive. The people that want a library so bad can work on it I guess :)
<a name="l-287"></a><span class="tm">19:50:41</span><span class="nk"> &lt;Luke-Jr&gt;</span> py3 vs py2, I can think of no drawbacks to exclusively py3
<a name="l-288"></a><span class="tm">19:50:44</span><span class="nk"> &lt;wumpus&gt;</span> as you may have read in https://github.com/bitcoin/bitcoin/issues/7717, the next release of ubuntu, 16.04, xenial something will no longer ship python 2
<a name="l-289"></a><span class="tm">19:50:47</span><span class="nk"> &lt;btcdrak&gt;</span> <span class="hi">MarcoFalke:</span> agreed
<a name="l-290"></a><span class="tm">19:51:01</span><span class="nk"> &lt;jonasschnelli&gt;</span> Is  the reason for the py3 switch the deprecating of py2 or the missing of it in some of the distributions?
<a name="l-291"></a><span class="tm">19:51:09</span><span class="nk"> &lt;wumpus&gt;</span> I think this makes a nice moment to decide on a switch
<a name="l-292"></a><span class="tm">19:51:16</span><span class="nk"> &lt;MarcoFalke&gt;</span> ok, so I will close the "refactor py2 code" pull and just go py3 only
<a name="l-293"></a><span class="tm">19:51:22</span><span class="nk"> &lt;wumpus&gt;</span> we're modernizing the build environment anyway by starting to rely on c++11
<a name="l-294"></a><span class="tm">19:51:31</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">MarcoFalke:</span> it's the first step right
<a name="l-295"></a><span class="tm">19:51:43</span><span class="nk"> &lt;jonasschnelli&gt;</span> ACK on py3... the RPC tests are not something we need "full portability".
<a name="l-296"></a><span class="tm">19:51:56</span><span class="nk"> &lt;wumpus&gt;</span> for the build system I have py2+py3 compatibility ready
<a name="l-297"></a><span class="tm">19:51:56</span><span class="nk"> &lt;Luke-Jr&gt;</span> actually, we should retain support py2 at least initially
<a name="l-298"></a><span class="tm">19:52:00</span><span class="nk"> &lt;Luke-Jr&gt;</span> since we may need to backport
<a name="l-299"></a><span class="tm">19:52:08</span><span class="nk"> &lt;wumpus&gt;</span> for the RPC tests I don't think that is necessary
<a name="l-300"></a><span class="tm">19:52:09</span><span class="nk"> &lt;petertodd&gt;</span> I'm not sure there exist any build environments that we need to support that are py2 only
<a name="l-301"></a><span class="tm">19:52:23</span><span class="nk"> &lt;wumpus&gt;</span> agree petertodd
<a name="l-302"></a><span class="tm">19:52:28</span><span class="nk"> &lt;jonasschnelli&gt;</span> agree with petertodd
<a name="l-303"></a><span class="tm">19:52:30</span><span class="nk"> &lt;cfields&gt;</span> agreed
<a name="l-304"></a><span class="tm">19:52:32</span><span class="nk"> &lt;sipa&gt;</span> agree, the backport trees could also just switch to py3
<a name="l-305"></a><span class="tm">19:52:42</span><span class="nk"> &lt;Luke-Jr&gt;</span> if it's not much effort, moving to py2+py3, and then to py3 before 0.13 would be best
<a name="l-306"></a><span class="tm">19:52:52</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">Luke-Jr:</span> that's a lot more work
<a name="l-307"></a><span class="tm">19:52:58</span><span class="nk"> &lt;Luke-Jr&gt;</span> if it's a lot more work, forget it
<a name="l-308"></a><span class="tm">19:53:05</span><span class="nk"> &lt;wumpus&gt;</span> I did that for scripts used by the build system itself
<a name="l-309"></a><span class="tm">19:53:10</span><span class="nk"> &lt;wumpus&gt;</span> but the test framework is huge
<a name="l-310"></a><span class="tm">19:53:21</span><span class="nk"> &lt;wumpus&gt;</span> and it's a lot of work for people to make sure it works for both python versions
<a name="l-311"></a><span class="tm">19:53:25</span><span class="nk"> &lt;MarcoFalke&gt;</span> considering that the current rpc test are full of bugs due to missing maintanance and review, doing a py2+3 coverage is impossible
<a name="l-312"></a><span class="tm">19:53:25</span><span class="nk"> &lt;wumpus&gt;</span> for every change
<a name="l-313"></a><span class="tm">19:53:37</span><span class="nk"> &lt;sipa&gt;</span> i think we should just outright switch to py3
<a name="l-314"></a><span class="tm">19:53:39</span><span class="nk"> &lt;jonasschnelli&gt;</span> Yes. No backward comp. for test script please.
<a name="l-315"></a><span class="tm">19:53:42</span><span class="nk"> &lt;petertodd&gt;</span> fwiw, I'm somewhat in favor of making my own python-bitcoinlib py3-only, simply because I personally never use it on py2, which makes me worried I'm missing bugs
<a name="l-316"></a><span class="tm">19:53:42</span><span class="nk"> &lt;wumpus&gt;</span> exactly, practical concerns kind of rule this out
<a name="l-317"></a><span class="tm">19:54:16</span><span class="nk"> &lt;btcdrak&gt;</span> I think we should switch to py3 outright also
<a name="l-318"></a><span class="tm">19:54:27</span><span class="nk"> &lt;wumpus&gt;</span> that's clear, then
<a name="l-319"></a><span class="tm">19:54:31</span><span class="nk"> &lt;jonasschnelli&gt;</span> And kudos to MarcoFalke for working on this!
<a name="l-320"></a><span class="tm">19:54:36</span><span class="nk"> &lt;wumpus&gt;</span> yes!
<a name="l-321"></a><span class="tm">19:54:55</span><span class="nk"> &lt;btcdrak&gt;</span> +1
<a name="l-322"></a><span class="tm">19:55:32</span><span class="nk"> &lt;MarcoFalke&gt;</span> You can pipe the files through 2to3 and then "only" check the diff.
<a name="l-323"></a><span class="tm">19:55:32</span><span class="nk"> &lt;wumpus&gt;</span> ok, that concludes the topic I guess, I'm happy we can finally agree on something :)
<a name="l-324"></a><span class="tm">19:55:39</span><span class="nk"> &lt;cfields&gt;</span> yes, it's much easier for us than most because it's all internal and we really have no downstreams to cater to
<a name="l-325"></a><span class="tm">19:55:41</span><span class="nk"> &lt;wumpus&gt;</span> more topics?
<a name="l-326"></a><span class="tm">19:55:58</span><span class="nk"> &lt;wumpus&gt;</span> 5 minutes to go
<a name="l-327"></a><span class="tm">19:56:26</span><span class="nk"> &lt;gmaxwell&gt;</span> Lets end early.
<a name="l-328"></a><span class="tm">19:56:29</span><span class="nk"> &lt;MarcoFalke&gt;</span> <span class="cmd">#action </span><span class="cmdline">Close https://github.com/bitcoin/bitcoin/pull/7722 and switch to py3</span>
<a name="l-329"></a><span class="tm">19:56:33</span><span class="nk"> &lt;wumpus&gt;</span> great
<a name="l-330"></a><span class="tm">19:56:39</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#endmeeting</span><span class="cmdline"></span></pre>
</body></html>
