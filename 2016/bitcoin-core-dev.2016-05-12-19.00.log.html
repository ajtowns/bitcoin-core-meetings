<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<title>#bitcoin-core-dev log</title>
<style type="text/css">
/* For the .log.html */
pre { /*line-height: 125%;*/
      white-space: pre-wrap; }
body { background: #f0f0f0; }

body .tm  { color: #007020 }                      /* time */
body .nk  { color: #062873; font-weight: bold }   /* nick, regular */
body .nka { color: #007020; font-weight: bold }  /* action nick */
body .ac  { color: #00A000 }                      /* action line */
body .hi  { color: #4070a0 }                 /* hilights */
/* Things to make particular MeetBot commands stick out */
body .topic     { color: #007020; font-weight: bold }
body .topicline { color: #000080; font-weight: bold }
body .cmd       { color: #007020; font-weight: bold }
body .cmdline  { font-weight: bold }

</style>
</head>

<body>
<pre><a name="l-1"></a><span class="tm">19:00:44</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#startmeeting</span><span class="cmdline"></span>
<a name="l-2"></a><span class="tm">19:00:44</span><span class="nk"> &lt;lightningbot&gt;</span> Meeting started Thu May 12 19:00:44 2016 UTC.  The chair is wumpus. Information about MeetBot at http://wiki.debian.org/MeetBot.
<a name="l-3"></a><span class="tm">19:00:44</span><span class="nk"> &lt;lightningbot&gt;</span> Useful Commands: #action #agreed #help #info #idea #link #topic.
<a name="l-4"></a><span class="tm">19:01:12</span><span class="nk"> &lt;BlueMatt&gt;</span> topics?
<a name="l-5"></a><span class="tm">19:01:37</span><span class="nk"> &lt;wumpus&gt;</span> from last week:
<a name="l-6"></a><span class="tm">19:01:48</span><span class="nk"> &lt;wumpus&gt;</span> add a file bip-0009/assignments.md in the bips repository:  btcdrak made a pull for that
<a name="l-7"></a><span class="tm">19:02:05</span><span class="nk"> &lt;wumpus&gt;</span> discuss testnet activation date on bitcoin-dev mailing list
<a name="l-8"></a><span class="tm">19:02:15</span><span class="nk"> &lt;wumpus&gt;</span> ead bluematt's compact block bip
<a name="l-9"></a><span class="tm">19:02:19</span><span class="nk"> &lt;wumpus&gt;</span> +r
<a name="l-10"></a><span class="tm">19:02:59</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#link </span><span class="cmdline">https://github.com/bitcoin/bips/pull/386</span>
<a name="l-11"></a><span class="tm">19:03:30</span><span class="nk"> &lt;wumpus&gt;</span> any other topic proposals?
<a name="l-12"></a><span class="tm">19:03:31</span><span class="nk"> &lt;luke-jr&gt;</span> on that note, it'd be nice if people didn't ACK/NACK bips they are not a listed author of ;)
<a name="l-13"></a><span class="tm">19:04:14</span><span class="nk"> &lt;sipa&gt;</span> was segwit testnet discussed on the ml?
<a name="l-14"></a><span class="tm">19:04:19</span><span class="nk"> &lt;kanzure&gt;</span> <span class="hi">luke-jr:</span> please elaborate.
<a name="l-15"></a><span class="tm">19:04:25</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">re:</span> compact block, got good feedback from a few, made some slight tweaks but need to finish tweaks in the coming days, so no need to discuss here, I think?
<a name="l-16"></a><span class="tm">19:05:06</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">kanzure:</span> when it comes to a BIP draft, the only ACK/NACK that matters is the Author(s); others posting ACK/NACK just makes me spend time looking at the Author header to confirm I need to ignore it
<a name="l-17"></a><span class="tm">19:05:12</span><span class="nk"> &lt;wumpus&gt;</span> well in the case of #386 I felt I had the right to give my opinion because I was one of the people to come up with the idea last meeting, even though I'm not listed as author
<a name="l-18"></a><span class="tm">19:05:28</span><span class="nk"> &lt;sipa&gt;</span> i guess the question is where BIPs are to be discussed
<a name="l-19"></a><span class="tm">19:05:38</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">sipa:</span> bitcoin-dev ML
<a name="l-20"></a><span class="tm">19:05:40</span><span class="nk"> &lt;sipa&gt;</span> and the idea is that that would be the mailinglist
<a name="l-21"></a><span class="tm">19:05:43</span><span class="nk"> &lt;sipa&gt;</span> but...
<a name="l-22"></a><span class="tm">19:05:56</span><span class="nk"> &lt;kanzure&gt;</span> <span class="hi">luke-jr:</span> wouldn't NACKs from non-authors still be useful? why should the authors be the only trusted source of updates ? i don't understand.
<a name="l-23"></a><span class="tm">19:06:17</span><span class="nk"> &lt;instagibbs&gt;</span> oh, the compact blocks got a bip#
<a name="l-24"></a><span class="tm">19:06:29</span><span class="nk"> &lt;paveljanik&gt;</span> I don't understand either. If the author dies in accident, we can no longer change the BIP? or what?
<a name="l-25"></a><span class="tm">19:06:30</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">luke-jr:</span> i'd suggest that you just come up with a way to distinguish.   for instance ACK/NACK shoudl be interpreted by the author and the author shoudl say Approved or Ready or something for your knowledge on when to merge
<a name="l-26"></a><span class="tm">19:06:31</span><span class="nk"> &lt;wumpus&gt;</span> I agree that ack/nack isn't very useful, in comparison to more detailed comments
<a name="l-27"></a><span class="tm">19:06:31</span><span class="nk"> &lt;kanzure&gt;</span> <span class="hi">luke-jr:</span> i'm willing to believe you're right but you need better reasons yo.
<a name="l-28"></a><span class="tm">19:06:40</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">kanzure:</span> if I were author of a BIP an ACK would give me confidence; a NACK could be useful criticism
<a name="l-29"></a><span class="tm">19:06:42</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">paveljanik:</span> an active BIP can't be modified anyway
<a name="l-30"></a><span class="tm">19:06:43</span><span class="nk"> &lt;kanzure&gt;</span> <span class="hi">wumpus:</span> right, sure.
<a name="l-31"></a><span class="tm">19:06:48</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">kanzure:</span> the BIP is a document by the Author(s). ideally, they should have exclusive merge access for changes, but GitHub doesn't support that
<a name="l-32"></a><span class="tm">19:06:54</span><span class="nk"> &lt;paveljanik&gt;</span> text clarification, etc...
<a name="l-33"></a><span class="tm">19:06:59</span><span class="nk"> &lt;kanzure&gt;</span> okay this is just trivial though, luke-jr isn't going to stop me from ACKing on BIPs i didn't author :)
<a name="l-34"></a><span class="tm">19:07:04</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">sipa:</span> in some cases it should be, if for instance the BIP wording is incorrect ala 34
<a name="l-35"></a><span class="tm">19:07:18</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">paveljanik:</span> BIP 1 technically allows me to reassign BIP Author in some cases IIRC
<a name="l-36"></a><span class="tm">19:07:18</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">morcos:</span> yeah - makes sense
<a name="l-37"></a><span class="tm">19:07:39</span><span class="nk"> &lt;jonasschnelli&gt;</span> We should also define a rule how we deal with links to implementations that have implemented the BIP.
<a name="l-38"></a><span class="tm">19:07:48</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jonasschnelli:</span> yes
<a name="l-39"></a><span class="tm">19:07:53</span><span class="nk"> &lt;jonasschnelli&gt;</span> IMO we should not add any implementation links.
<a name="l-40"></a><span class="tm">19:07:58</span><span class="nk"> &lt;jonasschnelli&gt;</span> (expect of sample impl.)
<a name="l-41"></a><span class="tm">19:08:00</span><span class="nk"> &lt;wumpus&gt;</span> many bips have a list of implementations; what's wrong with that?
<a name="l-42"></a><span class="tm">19:08:08</span><span class="nk"> &lt;jonasschnelli&gt;</span> Its just noisy
<a name="l-43"></a><span class="tm">19:08:12</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">wumpus:</span> in BIP32 there are continuously pull requests to add links
<a name="l-44"></a><span class="tm">19:08:16</span><span class="nk"> &lt;gmaxwell&gt;</span> it gets flooded with spammy updates.
<a name="l-45"></a><span class="tm">19:08:17</span><span class="nk"> &lt;wumpus&gt;</span> I think it can be useful to have e.g. implementations in many languages
<a name="l-46"></a><span class="tm">19:08:18</span><span class="nk"> &lt;jonasschnelli&gt;</span> And we don't control the implementations I guess
<a name="l-47"></a><span class="tm">19:08:20</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">wumpus:</span> which imho function as nothing more than advertizement
<a name="l-48"></a><span class="tm">19:08:26</span><span class="nk"> &lt;kanzure&gt;</span> and then we have to moderate the additions
<a name="l-49"></a><span class="tm">19:08:27</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">sipa:</span> Yes!
<a name="l-50"></a><span class="tm">19:08:30</span><span class="nk"> &lt;gmaxwell&gt;</span> And if we're not looking at it, we're eventually going to get a malware example BIP32 impl. :)
<a name="l-51"></a><span class="tm">19:08:32</span><span class="nk"> &lt;wumpus&gt;</span> ok...
<a name="l-52"></a><span class="tm">19:08:34</span><span class="nk"> &lt;luke-jr&gt;</span> BIP 2 comments would be a nice place to list implementations, but that was controverisal
<a name="l-53"></a><span class="tm">19:09:07</span><span class="nk"> &lt;jonasschnelli&gt;</span> I could imaging more and more advertising like PR to come up in future.
<a name="l-54"></a><span class="tm">19:09:12</span><span class="nk"> &lt;wumpus&gt;</span> I think the requirement should at least be to point to the code
<a name="l-55"></a><span class="tm">19:09:15</span><span class="nk"> &lt;wumpus&gt;</span> not just the product
<a name="l-56"></a><span class="tm">19:09:15</span><span class="nk"> &lt;paveljanik&gt;</span> so what is the topic now? ;-)
<a name="l-57"></a><span class="tm">19:09:22</span><span class="nk"> &lt;wumpus&gt;</span> to prevent advertizement
<a name="l-58"></a><span class="tm">19:09:32</span><span class="nk"> &lt;kanzure&gt;</span> i think the topic was "feedback about compact block relay BIP things"
<a name="l-59"></a><span class="tm">19:09:50</span><span class="nk"> &lt;jonasschnelli&gt;</span> Which still intersects (a little bit)
<a name="l-60"></a><span class="tm">19:10:13</span><span class="nk"> &lt;jcorgan&gt;</span> it is useful, however, when reading a BIP, to at least get pointed to reference code, but it need not be every implementation that anyone wants to list thereafter
<a name="l-61"></a><span class="tm">19:10:20</span><span class="nk"> &lt;wumpus&gt;</span> I think the topic is how to handle BIP implementations, which is as good a topic as anything
<a name="l-62"></a><span class="tm">19:10:48</span><span class="nk"> &lt;wumpus&gt;</span> but then you get the fight about what is reference code and what is not
<a name="l-63"></a><span class="tm">19:10:58</span><span class="nk"> &lt;jonasschnelli&gt;</span> Links are always difficult. You need to check them... then what if a link diverges from the BIP specification?
<a name="l-64"></a><span class="tm">19:11:07</span><span class="nk"> &lt;jonasschnelli&gt;</span> Do we check it?
<a name="l-65"></a><span class="tm">19:11:08</span><span class="nk"> &lt;wumpus&gt;</span> in some cases it's clear if the BIP author wrote code themselves
<a name="l-66"></a><span class="tm">19:11:13</span><span class="nk"> &lt;kanzure&gt;</span> yeah another threat vector is someone selling their github account in the future
<a name="l-67"></a><span class="tm">19:11:17</span><span class="nk"> &lt;kanzure&gt;</span> and then a BIP links to someone's github
<a name="l-68"></a><span class="tm">19:11:21</span><span class="nk"> &lt;jonasschnelli&gt;</span> Yes. These are the link we should keep there...
<a name="l-69"></a><span class="tm">19:11:33</span><span class="nk"> &lt;jcorgan&gt;</span> or the BIP author themselves pick one or more...
<a name="l-70"></a><span class="tm">19:11:38</span><span class="nk"> &lt;gmaxwell&gt;</span> If it's upfront then we can trust the bip author and review process to have had some chance to verify it.
<a name="l-71"></a><span class="tm">19:11:42</span><span class="nk"> &lt;wumpus&gt;</span> yes, I'd say it's up to the BIP author
<a name="l-72"></a><span class="tm">19:11:46</span><span class="nk"> &lt;wumpus&gt;</span> like other changes to the BIP
<a name="l-73"></a><span class="tm">19:11:46</span><span class="nk"> &lt;kanzure&gt;</span> other problem is keeping track of upstream updates like security fixes, oops. anyway, this is a lot of work.
<a name="l-74"></a><span class="tm">19:11:57</span><span class="nk"> &lt;kanzure&gt;</span> we should include hashes of the reference source code, in the BIP text
<a name="l-75"></a><span class="tm">19:11:58</span><span class="nk"> &lt;luke-jr&gt;</span> maybe BIP PRs should be PGP signed
<a name="l-76"></a><span class="tm">19:12:03</span><span class="nk"> &lt;wumpus&gt;</span> this is not something that should be globally decided
<a name="l-77"></a><span class="tm">19:12:16</span><span class="nk"> &lt;gmaxwell&gt;</span> I could see the criteria being different for different BIPs.
<a name="l-78"></a><span class="tm">19:12:19</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">wumpus:</span> Yes. This makes sense.
<a name="l-79"></a><span class="tm">19:12:20</span><span class="nk"> &lt;kanzure&gt;</span> by hashing the source code we can at least have a way for readers to verify that the source code is still the part we meant to hyperlink to :)
<a name="l-80"></a><span class="tm">19:12:22</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> exactly
<a name="l-81"></a><span class="tm">19:12:33</span><span class="nk"> &lt;wumpus&gt;</span> I mean the author of bip32 could say 'enough is enough'
<a name="l-82"></a><span class="tm">19:12:43</span><span class="nk"> &lt;jcorgan&gt;</span> er, link to a URL and commit hash?
<a name="l-83"></a><span class="tm">19:12:44</span><span class="nk"> &lt;wumpus&gt;</span> some other BIPs have far fewer implementations and the author may be happy to see one
<a name="l-84"></a><span class="tm">19:12:48</span><span class="nk"> &lt;gmaxwell&gt;</span> (unfortunately, it's BIP32 that gets 95% of this-- key generation is an especially awkward place for random found on the internet code)
<a name="l-85"></a><span class="tm">19:12:52</span><span class="nk"> &lt;petertodd&gt;</span> my BIP65 links to two separate demo repos that just give some sample code, which is probably something we can generally consider as acceptable (ignoring the issue of more complex implementations that aren't pure demos)
<a name="l-86"></a><span class="tm">19:13:09</span><span class="nk"> &lt;jonasschnelli&gt;</span> I like jcorgan idea to link to sourcecode-only with a commit hash
<a name="l-87"></a><span class="tm">19:13:16</span><span class="nk"> &lt;jonasschnelli&gt;</span> But kinda static.
<a name="l-88"></a><span class="tm">19:13:30</span><span class="nk"> &lt;wumpus&gt;</span> Itend to agree with that. Link to the actual code, not the product
<a name="l-89"></a><span class="tm">19:14:11</span><span class="nk"> &lt;wumpus&gt;</span> not 'blawallet implements bip32', no, *the code linked here shows how we implemented BIP32 in language Z*
<a name="l-90"></a><span class="tm">19:14:29</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">wumpus:</span> agree
<a name="l-91"></a><span class="tm">19:14:29</span><span class="nk"> &lt;luke-jr&gt;</span> +1
<a name="l-92"></a><span class="tm">19:14:33</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">wumpus:</span> +1
<a name="l-93"></a><span class="tm">19:14:39</span><span class="nk"> &lt;paveljanik&gt;</span> yes
<a name="l-94"></a><span class="tm">19:14:43</span><span class="nk"> &lt;jonasschnelli&gt;</span> ack
<a name="l-95"></a><span class="tm">19:14:49</span><span class="nk"> &lt;wumpus&gt;</span> ok
<a name="l-96"></a><span class="tm">19:14:54</span><span class="nk"> &lt;kanzure&gt;</span> we should review existing bips for source code links that do not include a commit hash. branch names are not OK.
<a name="l-97"></a><span class="tm">19:15:01</span><span class="nk"> &lt;kanzure&gt;</span> i mean, branch names without a commit hash are not OK.
<a name="l-98"></a><span class="tm">19:15:01</span><span class="nk"> &lt;wumpus&gt;</span> other topics?
<a name="l-99"></a><span class="tm">19:15:38</span><span class="nk"> &lt;paveljanik&gt;</span> Revies Jonas' HD - #8035
<a name="l-100"></a><span class="tm">19:15:56</span><span class="nk"> &lt;jonasschnelli&gt;</span> I have a tiny topic proposal that is very into the impl. teretorry..
<a name="l-101"></a><span class="tm">19:16:02</span><span class="nk"> &lt;jonasschnelli&gt;</span> RPC long poll notifications
<a name="l-102"></a><span class="tm">19:16:07</span><span class="nk"> &lt;kanzure&gt;</span> have we received an overview from sipa yet about areas of segwit that he feels should be most thoroughly reviewed
<a name="l-103"></a><span class="tm">19:16:12</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">kanzure:</span> no, sorry
<a name="l-104"></a><span class="tm">19:16:22</span><span class="nk"> &lt;kanzure&gt;</span> can we get 10 volunteers to heckle sipa about this?
<a name="l-105"></a><span class="tm">19:16:23</span><span class="nk"> &lt;sipa&gt;</span> thanks for the reminder
<a name="l-106"></a><span class="tm">19:16:34</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#action </span><span class="cmdline">Revies Jonas' HD - #8035</span>
<a name="l-107"></a><span class="tm">19:16:52</span><span class="nk"> &lt;jonasschnelli&gt;</span> https://github.com/bitcoin/bitcoin/pull/8035 ... very simple and easy to review
<a name="l-108"></a><span class="tm">19:17:12</span><span class="nk"> &lt;paveljanik&gt;</span> jonasschnelli, can you add some after-merge TODO list there?
<a name="l-109"></a><span class="tm">19:17:18</span><span class="nk"> &lt;jonasschnelli&gt;</span> I'm happy to add some RPC tests...
<a name="l-110"></a><span class="tm">19:17:36</span><span class="nk"> &lt;jonasschnelli&gt;</span> There is no required after-merge PR... thats the nice thing.
<a name="l-111"></a><span class="tm">19:17:49</span><span class="nk"> &lt;jonasschnelli&gt;</span> But most important we should enable flexible bip32 keypath
<a name="l-112"></a><span class="tm">19:17:50</span><span class="nk"> &lt;paveljanik&gt;</span> import, dump... at least...
<a name="l-113"></a><span class="tm">19:17:52</span><span class="nk"> &lt;instagibbs&gt;</span> jonasschnelli, a bit hard to rpc test without import/dump? (perhaps offline discussion)
<a name="l-114"></a><span class="tm">19:18:18</span><span class="nk"> &lt;jonasschnelli&gt;</span> There are concerns with importing single keys into the bip32 wallet...
<a name="l-115"></a><span class="tm">19:18:32</span><span class="nk"> &lt;jonasschnelli&gt;</span> They would not be covered by "a old backup"
<a name="l-116"></a><span class="tm">19:18:44</span><span class="nk"> &lt;wumpus&gt;</span> but that's kind of obvious :)
<a name="l-117"></a><span class="tm">19:18:51</span><span class="nk"> &lt;btcdrak&gt;</span> maybe need a sweep feature.
<a name="l-118"></a><span class="tm">19:19:06</span><span class="nk"> &lt;wumpus&gt;</span> yes, a sweep feature would be nice
<a name="l-119"></a><span class="tm">19:19:09</span><span class="nk"> &lt;jonasschnelli&gt;</span> There are plenty of possible features...
<a name="l-120"></a><span class="tm">19:19:24</span><span class="nk"> &lt;jonasschnelli&gt;</span> But because of the lack of reviewers,.. we need babysteps
<a name="l-121"></a><span class="tm">19:19:28</span><span class="nk"> &lt;sipa&gt;</span> let's not discuss all possible features
<a name="l-122"></a><span class="tm">19:19:29</span><span class="nk"> &lt;luke-jr&gt;</span> sweep would be nice, but non-trivial (currently no way to iterate over the UTXO set I think)
<a name="l-123"></a><span class="tm">19:19:38</span><span class="nk"> &lt;sipa&gt;</span> just what is necessary to work and test
<a name="l-124"></a><span class="tm">19:19:38</span><span class="nk"> &lt;jonasschnelli&gt;</span> agree with sipa.
<a name="l-125"></a><span class="tm">19:19:46</span><span class="nk"> &lt;jonasschnelli&gt;</span> Just review and ack it! :P
<a name="l-126"></a><span class="tm">19:19:48</span><span class="nk"> &lt;luke-jr&gt;</span> so what about RPC longpoll?
<a name="l-127"></a><span class="tm">19:19:49</span><span class="nk"> &lt;wumpus&gt;</span> I agree
<a name="l-128"></a><span class="tm">19:19:58</span><span class="nk"> &lt;sipa&gt;</span> if import/export is necessary for testing, then maybe some functionality for that is warranted
<a name="l-129"></a><span class="tm">19:20:00</span><span class="nk"> &lt;wumpus&gt;</span> scope creep agian
<a name="l-130"></a><span class="tm">19:20:23</span><span class="nk"> &lt;instagibbs&gt;</span> well, it only came up due to testing
<a name="l-131"></a><span class="tm">19:21:10</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">luke-jr:</span> https://github.com/bitcoin/bitcoin/pull/7949
<a name="l-132"></a><span class="tm">19:21:19</span><span class="nk"> &lt;jonasschnelli&gt;</span> RPC long poll would would allow remote GUI and remote wallet with a very easy setup. IMO it could allow third party developers to write simple remote GUIS, web-frontends, etc.
<a name="l-133"></a><span class="tm">19:22:07</span><span class="nk"> &lt;jonasschnelli&gt;</span> I would even say RPC long poll has more potential then ZMQ for core.
<a name="l-134"></a><span class="tm">19:22:10</span><span class="nk"> &lt;wumpus&gt;</span> I'm kind of divided on the notification thing to be honest - I'd prefer to stick to only one notification mechanism in bitcoin core (apart from the silly -Xnotify), and somehow zmq got a precedent there
<a name="l-135"></a><span class="tm">19:22:41</span><span class="nk"> &lt;luke-jr&gt;</span> calling pollnotifications myself seems like it would disrupt an application relying on it?
<a name="l-136"></a><span class="tm">19:22:45</span><span class="nk"> &lt;jonasschnelli&gt;</span> I also don't like multiple notification channels.
<a name="l-137"></a><span class="tm">19:22:49</span><span class="nk"> &lt;luke-jr&gt;</span> ie, we need channels
<a name="l-138"></a><span class="tm">19:22:56</span><span class="nk"> &lt;jonasschnelli&gt;</span> But how would you connect a remote GUI over the internet...
<a name="l-139"></a><span class="tm">19:23:03</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">wumpus:</span> zmq is crazy though :&lt;
<a name="l-140"></a><span class="tm">19:23:16</span><span class="nk"> &lt;luke-jr&gt;</span> also note we already have longpolling
<a name="l-141"></a><span class="tm">19:23:17</span><span class="nk"> &lt;wumpus&gt;</span> yes it should definitely have multiple channels, the current code supports only one client
<a name="l-142"></a><span class="tm">19:23:27</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">wumpus:</span> no
<a name="l-143"></a><span class="tm">19:23:28</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">luke-jr:</span> where were you to NACK zmq when it was added?
<a name="l-144"></a><span class="tm">19:23:33</span><span class="nk"> &lt;jcorgan&gt;</span> i'm happy to look at improving zmq
<a name="l-145"></a><span class="tm">19:23:34</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jonasschnelli:</span> no RPC over internet ever :&lt;
<a name="l-146"></a><span class="tm">19:23:35</span><span class="nk"> &lt;jonasschnelli&gt;</span> I have added support for &lt;n&gt; clients
<a name="l-147"></a><span class="tm">19:23:50</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">wumpus:</span> just because zmq is crazy doesn't mean optional ZMQ support should be excluded ..
<a name="l-148"></a><span class="tm">19:23:50</span><span class="nk"> &lt;jonasschnelli&gt;</span> RPC over internet over a reverse proxy is a wide use pratice.
<a name="l-149"></a><span class="tm">19:23:55</span><span class="nk"> &lt;wumpus&gt;</span> (I don't think zmq is necessarily crazy)
<a name="l-150"></a><span class="tm">19:24:04</span><span class="nk"> &lt;jtimon&gt;</span> sorry, what are the complaints with zmq? it is optional anyway
<a name="l-151"></a><span class="tm">19:24:18</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jtimon:</span> I'm not sure either, it seems to be fashionable to complain about it
<a name="l-152"></a><span class="tm">19:24:21</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jtimon:</span> it's not optional if it is an excuse to exclude other systems
<a name="l-153"></a><span class="tm">19:24:32</span><span class="nk"> &lt;luke-jr&gt;</span> zmq breaks protocol compatibility for minor bumps
<a name="l-154"></a><span class="tm">19:24:34</span><span class="nk"> &lt;jonasschnelli&gt;</span> Working towards decoupling of the GUI and the wallet requires well defined channels/APIs
<a name="l-155"></a><span class="tm">19:24:39</span><span class="nk"> &lt;luke-jr&gt;</span> ie, 4.1 won't work with 4.0 right
<a name="l-156"></a><span class="tm">19:25:00</span><span class="nk"> &lt;jonasschnelli&gt;</span> ZMQ would require a tunnel (VPN, stunnel, etc.).
<a name="l-157"></a><span class="tm">19:25:06</span><span class="nk"> &lt;luke-jr&gt;</span> also see all the Elements functionary problems due to ZMQ
<a name="l-158"></a><span class="tm">19:25:14</span><span class="nk"> &lt;jcorgan&gt;</span> ZMQ 4.x is implementing CurveCP
<a name="l-159"></a><span class="tm">19:25:18</span><span class="nk"> &lt;jtimon&gt;</span> I think it's a wonderful tool I would like to use more (although maybe the fact that its creator rewrote it completely in nanomsg may indeed indicate that some parts of zmq have become too complex)
<a name="l-160"></a><span class="tm">19:25:20</span><span class="nk"> &lt;wumpus&gt;</span> zmq is basically only useful for local system, but so is RPC, it's not meant to be used over the internet
<a name="l-161"></a><span class="tm">19:25:45</span><span class="nk"> &lt;jcorgan&gt;</span> see comment about curvecp
<a name="l-162"></a><span class="tm">19:25:54</span><span class="nk"> &lt;wumpus&gt;</span> if you write tunneling for RPC - why not tunnel the notifications too?
<a name="l-163"></a><span class="tm">19:26:00</span><span class="nk"> &lt;jonasschnelli&gt;</span> I just think Core users would love to have a GUI/wallet-frontend that can run on a different machine.
<a name="l-164"></a><span class="tm">19:26:11</span><span class="nk"> &lt;jcorgan&gt;</span> http://curvezmq.org/
<a name="l-165"></a><span class="tm">19:26:16</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">wumpus:</span> exactly, it's for your intranet or at most inside a vpn (although I haven't tried that myself)
<a name="l-166"></a><span class="tm">19:26:19</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jonasschnelli:</span> yes, for years now that has been desirable
<a name="l-167"></a><span class="tm">19:26:25</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jonasschnelli:</span> I agree, but does that need RPC notifications?
<a name="l-168"></a><span class="tm">19:26:28</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">wumpus:</span> RPC does work extremly well in reverse-proxy mode.
<a name="l-169"></a><span class="tm">19:26:30</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jonasschnelli:</span> what would you use it for?
<a name="l-170"></a><span class="tm">19:26:46</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">wumpus:</span> right now it requires polling
<a name="l-171"></a><span class="tm">19:26:51</span><span class="nk"> &lt;wumpus&gt;</span> e.g. to get notification of transactions/blocks the P2P protocol works fine
<a name="l-172"></a><span class="tm">19:26:53</span><span class="nk"> &lt;jonasschnelli&gt;</span> Look at rtorrent or any other RPC daemon software.
<a name="l-173"></a><span class="tm">19:27:32</span><span class="nk"> &lt;jonasschnelli&gt;</span> Polling is extremely inefficient. Long polling would allow clients to get "realtime" events while not require any other dependencies...
<a name="l-174"></a><span class="tm">19:27:37</span><span class="nk"> &lt;jonasschnelli&gt;</span> And the code changes are tiny...
<a name="l-175"></a><span class="tm">19:27:37</span><span class="nk"> &lt;wumpus&gt;</span> yes, agreed jonasschnelli
<a name="l-176"></a><span class="tm">19:27:47</span><span class="nk"> &lt;wumpus&gt;</span> yes the code changes are tiny
<a name="l-177"></a><span class="tm">19:28:09</span><span class="nk"> &lt;jonasschnelli&gt;</span> You could setup a save and secure remote bitcoind with a single apache/nginx config.
<a name="l-178"></a><span class="tm">19:28:18</span><span class="nk"> &lt;wumpus&gt;</span> but I'm a bit afraid the same will happen as with REST, people will want to pile up things on top, and now for every notification people will want zmq and rpc longpull support
<a name="l-179"></a><span class="tm">19:28:19</span><span class="nk"> &lt;jonasschnelli&gt;</span> Now do the same with ZMQ notifications... :)
<a name="l-180"></a><span class="tm">19:28:47</span><span class="nk"> &lt;wumpus&gt;</span> just like people want every possible data item both through RPC and REST
<a name="l-181"></a><span class="tm">19:29:00</span><span class="nk"> &lt;sipa&gt;</span> well ZMQ/P2P are suboptimal to write a remote GUI, as you can't filter for just wallet transactions
<a name="l-182"></a><span class="tm">19:29:03</span><span class="nk"> &lt;wumpus&gt;</span> I believe thatthere is value to  keeping core limited to one interface
<a name="l-183"></a><span class="tm">19:29:07</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">wumpus:</span> I don't see why this is a problem
<a name="l-184"></a><span class="tm">19:29:10</span><span class="nk"> &lt;jonasschnelli&gt;</span> Yes. If i had a blank paper. I would drop ZMQ and REST in favor or RPC longpoll and the normal RPC.
<a name="l-185"></a><span class="tm">19:29:32</span><span class="nk"> &lt;jcorgan&gt;</span> longpoll does indeed solve some of my original motivation for adding ZMQ
<a name="l-186"></a><span class="tm">19:29:32</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jonasschnelli:</span> i think you're biased because you're only thinking about one use case
<a name="l-187"></a><span class="tm">19:29:37</span><span class="nk"> &lt;wumpus&gt;</span> well my iniitial idea for notifications was also something like longpoll, or a streaming socket
<a name="l-188"></a><span class="tm">19:29:41</span><span class="nk"> &lt;wumpus&gt;</span> then a proxy from that to zmq
<a name="l-189"></a><span class="tm">19:29:44</span><span class="nk"> &lt;wumpus&gt;</span> but zmq was first
<a name="l-190"></a><span class="tm">19:30:05</span><span class="nk"> &lt;luke-jr&gt;</span> zmq is optional
<a name="l-191"></a><span class="tm">19:30:15</span><span class="nk"> &lt;luke-jr&gt;</span> someone shouldn't need to install zmq for notifications
<a name="l-192"></a><span class="tm">19:30:17</span><span class="nk"> &lt;jtimon&gt;</span> zmq's req/rep could replace both rpc and rest
<a name="l-193"></a><span class="tm">19:30:19</span><span class="nk"> &lt;jonasschnelli&gt;</span> There is one big advantage of RPC long polling...
<a name="l-194"></a><span class="tm">19:30:26</span><span class="nk"> &lt;jonasschnelli&gt;</span> you can have private notifications...
<a name="l-195"></a><span class="tm">19:30:31</span><span class="nk"> &lt;jonasschnelli&gt;</span> secured behind auth
<a name="l-196"></a><span class="tm">19:30:34</span><span class="nk"> &lt;wumpus&gt;</span> do we want private notifications?
<a name="l-197"></a><span class="tm">19:30:35</span><span class="nk"> &lt;jonasschnelli&gt;</span> Like a new relevant wallet tx comes in
<a name="l-198"></a><span class="tm">19:30:43</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">wumpus:</span> for a remote wallet gui you do
<a name="l-199"></a><span class="tm">19:30:52</span><span class="nk"> &lt;jonasschnelli&gt;</span> It would be on the same level then the RPC security...
<a name="l-200"></a><span class="tm">19:30:56</span><span class="nk"> &lt;jonasschnelli&gt;</span> just instead of poll you can have push
<a name="l-201"></a><span class="tm">19:31:06</span><span class="nk"> &lt;wumpus&gt;</span> connect a remote wallet GUI through RPC?
<a name="l-202"></a><span class="tm">19:31:10</span><span class="nk"> &lt;wumpus&gt;</span> wasn't RPC meant to be for local usage?
<a name="l-203"></a><span class="tm">19:31:15</span><span class="nk"> &lt;jonasschnelli&gt;</span> I would not add this over ZMQ because of the unknown risks
<a name="l-204"></a><span class="tm">19:31:20</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jonasschnelli:</span> btw FYI https://en.bitcoin.it/wiki/Wallet_protocol
<a name="l-205"></a><span class="tm">19:31:32</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">wumpus:</span> that is an argument.
<a name="l-206"></a><span class="tm">19:31:33</span><span class="nk"> &lt;wumpus&gt;</span> I think the idea was to attach a *wallet*, not a wallet GUI
<a name="l-207"></a><span class="tm">19:31:47</span><span class="nk"> &lt;wumpus&gt;</span> the wallet needs to be split from the core
<a name="l-208"></a><span class="tm">19:31:58</span><span class="nk"> &lt;luke-jr&gt;</span> a wallet can be attached over p2p fine
<a name="l-209"></a><span class="tm">19:32:01</span><span class="nk"> &lt;jonasschnelli&gt;</span> Another solution would be to provide a tiny daemon that would interact between core &lt;-&gt; remote GUI/wallet.
<a name="l-210"></a><span class="tm">19:32:15</span><span class="nk"> &lt;wumpus&gt;</span> I'd prefer for core to handle semi-public data, then have a more restricted wallet
<a name="l-211"></a><span class="tm">19:32:17</span><span class="nk"> &lt;jonasschnelli&gt;</span> But that tiny daemon would speak RPC with the outside/internet.
<a name="l-212"></a><span class="tm">19:32:20</span><span class="nk"> &lt;luke-jr&gt;</span> ideally we should have node &lt;-&gt; wallet &lt;-&gt; GUI
<a name="l-213"></a><span class="tm">19:32:47</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">luke-jr:</span> yes
<a name="l-214"></a><span class="tm">19:32:51</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">luke-jr:</span> But how would you see the communication channel between wallet &lt;&gt; GUI?
<a name="l-215"></a><span class="tm">19:32:57</span><span class="nk"> &lt;jcorgan&gt;</span> another motivation for adding ZMQ was to allow bitcoind to be a trusted "border gateway", that spoke P2P and consensus, and then stuff behind it would be very simple ZMQ-based software that didn't need to know all about those things
<a name="l-216"></a><span class="tm">19:33:02</span><span class="nk"> &lt;wumpus&gt;</span> but wallet&lt;-&gt;GUI could be a competely different protocol than node&lt;-&gt;wallet
<a name="l-217"></a><span class="tm">19:33:02</span><span class="nk"> &lt;jonasschnelli&gt;</span> Needs to be bidirect.
<a name="l-218"></a><span class="tm">19:33:07</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jonasschnelli:</span> see wiki link; or something like what you're doing
<a name="l-219"></a><span class="tm">19:33:15</span><span class="nk"> &lt;jonasschnelli&gt;</span> node &lt;&gt; wallet is probably p2p?
<a name="l-220"></a><span class="tm">19:33:19</span><span class="nk"> &lt;sipa&gt;</span> yes
<a name="l-221"></a><span class="tm">19:33:21</span><span class="nk"> &lt;luke-jr&gt;</span> yes
<a name="l-222"></a><span class="tm">19:33:45</span><span class="nk"> &lt;morcos&gt;</span> node &lt;-&gt; wallet being p2p leaves a lot of missing pieces
<a name="l-223"></a><span class="tm">19:33:46</span><span class="nk"> &lt;wumpus&gt;</span> maybe authentiated P2P
<a name="l-224"></a><span class="tm">19:33:47</span><span class="nk"> &lt;morcos&gt;</span> fee estimation
<a name="l-225"></a><span class="tm">19:33:47</span><span class="nk"> &lt;jonasschnelli&gt;</span> But what direction do we want to go for &lt;wallet&gt; &lt;-&gt; &lt;gui&gt;?
<a name="l-226"></a><span class="tm">19:33:48</span><span class="nk"> &lt;wumpus&gt;</span> as you proposed
<a name="l-227"></a><span class="tm">19:33:55</span><span class="nk"> &lt;wumpus&gt;</span> with some private extensions
<a name="l-228"></a><span class="tm">19:33:59</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jonasschnelli:</span> up to the wallet
<a name="l-229"></a><span class="tm">19:34:06</span><span class="nk"> &lt;morcos&gt;</span> mempool actions (eviction, how close to top of mempool, whether it was accepted)
<a name="l-230"></a><span class="tm">19:34:12</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">morcos:</span> fee estimations can be done with authentication/private extensions.
<a name="l-231"></a><span class="tm">19:34:14</span><span class="nk"> &lt;BlueMatt&gt;</span> ehh, lets not layer everything onto p2p extensions
<a name="l-232"></a><span class="tm">19:34:23</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jonasschnelli:</span> XMPP! /s
<a name="l-233"></a><span class="tm">19:34:38</span><span class="nk"> &lt;jtimon&gt;</span> why people want to remove zmq? I still don't undesrtand
<a name="l-234"></a><span class="tm">19:34:41</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">sipa:</span> That's why I propose RPC long poll (as a "wallet" feature). :)
<a name="l-235"></a><span class="tm">19:34:55</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jonasschnelli:</span> i'm not sure our wallet should provide that
<a name="l-236"></a><span class="tm">19:35:01</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jonasschnelli:</span> at least not at this stage
<a name="l-237"></a><span class="tm">19:35:02</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">BlueMatt:</span> well if we have a autenticated+encryped P2P protocol, adding private extensions is attractive
<a name="l-238"></a><span class="tm">19:35:27</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jtimon:</span> I don't want to remove zmq. But I do think we should have one notification mechanism.
<a name="l-239"></a><span class="tm">19:35:39</span><span class="nk"> &lt;kanzure&gt;</span> notifications over zeromq would be nice
<a name="l-240"></a><span class="tm">19:35:42</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">wumpus:</span> why not it be zmq?
<a name="l-241"></a><span class="tm">19:35:43</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jtimon:</span> I just want to keep ZMQ as an optional feature, not necessary for this stuff
<a name="l-242"></a><span class="tm">19:35:55</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jtimon:</span> I don't want to amintain an endless pile-up of different external notification mechanisms
<a name="l-243"></a><span class="tm">19:36:08</span><span class="nk"> &lt;jonasschnelli&gt;</span> Yes. We don't want that.
<a name="l-244"></a><span class="tm">19:36:10</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">wumpus:</span> ok, why not use ONLY zmq?
<a name="l-245"></a><span class="tm">19:36:10</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">wumpus:</span> its quite attractive to shove everything into one monolithic protocol, indeed, but I do think there is a lot of value in splitting things out (though I wouldnt be upset if they were logically different code that just happened to have the same on-wire protocol or so)
<a name="l-246"></a><span class="tm">19:36:11</span><span class="nk"> &lt;jcorgan&gt;</span> <span class="hi">jtimon:</span> i agree that zmq req/rep and pub/sub could provide the entirety of needed interfaces to bitcoind, but that's an argument lost years ago :)
<a name="l-247"></a><span class="tm">19:36:23</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jtimon:</span> then it's no longer optional
<a name="l-248"></a><span class="tm">19:36:24</span><span class="nk"> &lt;kanzure&gt;</span> unfortunately the simplest private notification stuff that the rest of the community would understand would be.... web hooks. :(
<a name="l-249"></a><span class="tm">19:36:39</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jcorgan:</span> except ZMQ has no protocol compatibility
<a name="l-250"></a><span class="tm">19:36:44</span><span class="nk"> &lt;wumpus&gt;</span> websocket would work
<a name="l-251"></a><span class="tm">19:36:49</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">wumpus:</span> i think we can move towards deprecating some things that we view as redundant.  what we should do now though is decide what would work for a node &lt;-&gt; wallet communication protocol.  b/c that is something we defintiely want.
<a name="l-252"></a><span class="tm">19:36:56</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">luke-jr:</span> ok, either we have 1, we remove zmq or we make it non-optional
<a name="l-253"></a><span class="tm">19:36:59</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">wumpus:</span> websocket doesn't define a protocol
<a name="l-254"></a><span class="tm">19:37:03</span><span class="nk"> &lt;wumpus&gt;</span> but just as well as longpoll
<a name="l-255"></a><span class="tm">19:37:08</span><span class="nk"> &lt;jonasschnelli&gt;</span> websockets have bad security
<a name="l-256"></a><span class="tm">19:37:24</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">wumpus:</span> i think it may be reasonable to say that zmq is for node notifications (which are unauthenticated) and longpoll for wallet notifications
<a name="l-257"></a><span class="tm">19:37:26</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jtimon:</span> if we can only have 1, then IMO zmq can go
<a name="l-258"></a><span class="tm">19:37:30</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">morcos:</span> what would you propose to deprecate?
<a name="l-259"></a><span class="tm">19:37:33</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">luke-jr:</span> what do you mean by "protocol compatibility"?
<a name="l-260"></a><span class="tm">19:37:40</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jtimon:</span> but I don't think we should limit to 1
<a name="l-261"></a><span class="tm">19:37:50</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">sipa:</span> but what jonasschnelli wants is not wallet notifications
<a name="l-262"></a><span class="tm">19:37:51</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jtimon:</span> ZMQ 4.0 can't talk to ZMQ 4.1
<a name="l-263"></a><span class="tm">19:37:53</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">luke-jr:</span> and IMO, if we only want to have one, zmq should stay
<a name="l-264"></a><span class="tm">19:37:55</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">wumpus:</span> yes it is
<a name="l-265"></a><span class="tm">19:38:01</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">sipa:</span> he wants the same stuff as is now offered over zmq
<a name="l-266"></a><span class="tm">19:38:08</span><span class="nk"> &lt;jonasschnelli&gt;</span> wumpus sipa: What i want is going toward wallet notifications
<a name="l-267"></a><span class="tm">19:38:11</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">wumpus:</span> well my argument is to first define the right way to do node &lt;-&gt; wallet and then do that (even if it means adding something) and then we can revisit and see what we have that is extraneous
<a name="l-268"></a><span class="tm">19:38:17</span><span class="nk"> &lt;jonasschnelli&gt;</span> But also notifications that could enable a remote GUI
<a name="l-269"></a><span class="tm">19:38:21</span><span class="nk"> &lt;sipa&gt;</span> i don't think so; nothing of what is offered over ZMQ is what you need for a remote wallet GUI
<a name="l-270"></a><span class="tm">19:38:21</span><span class="nk"> &lt;jonasschnelli&gt;</span> (mempool / peers, etc9
<a name="l-271"></a><span class="tm">19:38:38</span><span class="nk"> &lt;jonasschnelli&gt;</span> A Core node GUI on a smartphone....
<a name="l-272"></a><span class="tm">19:38:47</span><span class="nk"> &lt;jonasschnelli&gt;</span> Which can't work over ZMQ
<a name="l-273"></a><span class="tm">19:39:05</span><span class="nk"> &lt;sipa&gt;</span> i think we shouldn't discuss that in the current stage
<a name="l-274"></a><span class="tm">19:39:07</span><span class="nk"> &lt;jcorgan&gt;</span> of course it *could*
<a name="l-275"></a><span class="tm">19:39:15</span><span class="nk"> &lt;jcorgan&gt;</span> but not as it is written today
<a name="l-276"></a><span class="tm">19:39:25</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jonasschnelli:</span> how would you protect the RPC connection to the smartphone?
<a name="l-277"></a><span class="tm">19:39:26</span><span class="nk"> &lt;sipa&gt;</span> i don't want my bitcoin core full node software to be accessible by smartphones on the internet, i think
<a name="l-278"></a><span class="tm">19:39:29</span><span class="nk"> &lt;kanzure&gt;</span> <span class="hi">jcorgan:</span> how much difference?
<a name="l-279"></a><span class="tm">19:39:34</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jonasschnelli:</span> the same tunneling tool could route the notifications from zmq
<a name="l-280"></a><span class="tm">19:39:39</span><span class="nk"> &lt;jcorgan&gt;</span> zmq is a transport
<a name="l-281"></a><span class="tm">19:39:40</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">wumpus:</span> reverse proxy, SSL auth, mod_security
<a name="l-282"></a><span class="tm">19:39:44</span><span class="nk"> &lt;sipa&gt;</span> except the p2p protocol, which is must provide by necessarily
<a name="l-283"></a><span class="tm">19:39:49</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">jonasschnelli:</span> don't you think we shoudl concentrate on node &lt;-&gt; wallet now?  b/c then different people could build different wallet &lt;-&gt; gui protocols if we wanted.  our core responsiblity is the node
<a name="l-284"></a><span class="tm">19:39:57</span><span class="nk"> &lt;jcorgan&gt;</span> you have to define a protocol/serialization/encapsulation to run over it
<a name="l-285"></a><span class="tm">19:39:59</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jcorgan:</span> except then you need to make sure your ZMQ lib versions match, which is just annoying
<a name="l-286"></a><span class="tm">19:40:15</span><span class="nk"> &lt;jcorgan&gt;</span> you can say that about dozens of other libs
<a name="l-287"></a><span class="tm">19:40:17</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">morcos:</span> I'm working on node &lt;-&gt; wallet. That's why I'm working on auth/enc. :)
<a name="l-288"></a><span class="tm">19:40:23</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">jonasschnelli:</span> how can something "not work over ZMQ"? can't you proxy the messages through some other protocol outside of bitcoind once you get the zmq messages?
<a name="l-289"></a><span class="tm">19:40:35</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jcorgan:</span> most protocols are compatible across lib versions
<a name="l-290"></a><span class="tm">19:40:37</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jtimon:</span> because authentication
<a name="l-291"></a><span class="tm">19:40:37</span><span class="nk"> &lt;jonasschnelli&gt;</span> I don't want to talk SPV over unencrypted channels...
<a name="l-292"></a><span class="tm">19:40:49</span><span class="nk"> &lt;kanzure&gt;</span> unencrypted...?
<a name="l-293"></a><span class="tm">19:40:51</span><span class="nk"> &lt;jcorgan&gt;</span> anyway, if anyone wants to pursue making changes to the current zmq implementation, we can talk in zurich about it
<a name="l-294"></a><span class="tm">19:40:52</span><span class="nk"> &lt;wumpus&gt;</span> wellt he same protocol that offers RPC over the internet needs authentication too
<a name="l-295"></a><span class="tm">19:40:54</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">jtimon:</span> Sure can you. But can a normal user do that?
<a name="l-296"></a><span class="tm">19:40:57</span><span class="nk"> &lt;wumpus&gt;</span> you have exactly the same problem there
<a name="l-297"></a><span class="tm">19:41:25</span><span class="nk"> &lt;jonasschnelli&gt;</span> I just compared the requirements to setup a remote rtorrent GUI with a possible remote Core node GUI.
<a name="l-298"></a><span class="tm">19:41:46</span><span class="nk"> &lt;wumpus&gt;</span> in any case, I'm not strongly against longpoll RPC notifications
<a name="l-299"></a><span class="tm">19:41:52</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">jonasschnelli:</span> well, what was your "normal user" using isntead of zmq?
<a name="l-300"></a><span class="tm">19:41:54</span><span class="nk"> &lt;jonasschnelli&gt;</span> And i feal that rpc long polls would result in a easy setup...
<a name="l-301"></a><span class="tm">19:42:14</span><span class="nk"> &lt;sipa&gt;</span> morcos, wumpus, jonasschnelli: i agree node &lt;-&gt; wallet is what we should be talking about first, and the apparent need to add private extensions is a sign of a deeper problem: an SPV wallet without trusted full node will be lacking in features
<a name="l-302"></a><span class="tm">19:42:22</span><span class="nk"> &lt;kanzure&gt;</span> easiest setup for non-core-developers is going to be web hooks :(
<a name="l-303"></a><span class="tm">19:42:36</span><span class="nk"> &lt;kanzure&gt;</span> not rpc
<a name="l-304"></a><span class="tm">19:42:50</span><span class="nk"> &lt;d4de&gt;</span> 0MQ supports GSSAPI and Curve auth, unencrypted?!
<a name="l-305"></a><span class="tm">19:42:54</span><span class="nk"> &lt;wumpus&gt;</span> and indeed, RPC longpoll can be supported without linking against external dependencies
<a name="l-306"></a><span class="tm">19:42:56</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">sipa:</span> good point, but maybe thats a separate problem to solve?
<a name="l-307"></a><span class="tm">19:42:57</span><span class="nk"> &lt;wumpus&gt;</span> which is an advantage
<a name="l-308"></a><span class="tm">19:42:59</span><span class="nk"> &lt;jonasschnelli&gt;</span> &lt;/rpc-long-poll-advertizing&gt; I'm happy to keep the PR alive... I'll also try to work on a intermediate script that could -&gt; ZMQ and does -&gt; RPC
<a name="l-309"></a><span class="tm">19:43:17</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">morcos:</span> well if that problem is solved (unsure how...), maybe we don't need private extensions :)
<a name="l-310"></a><span class="tm">19:43:37</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jonasschnelli:</span> you can't... ZMQ doesn't offer wallet-filtered events
<a name="l-311"></a><span class="tm">19:43:38</span><span class="nk"> &lt;morcos&gt;</span> yes, but it'll always be superior to some degree to have access to a trusted node
<a name="l-312"></a><span class="tm">19:43:44</span><span class="nk"> &lt;instagibbs&gt;</span> sipa, do you mean things like access to mempool, etc?
<a name="l-313"></a><span class="tm">19:43:49</span><span class="nk"> &lt;wumpus&gt;</span> at the least we should make a clear division about *what* should be offered over RPC longpoll and what over zmq and what over (theoretic) P2P extensions
<a name="l-314"></a><span class="tm">19:43:51</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">instagibbs:</span> yes, and fee estimation
<a name="l-315"></a><span class="tm">19:43:51</span><span class="nk"> &lt;morcos&gt;</span> so we shouldn't limit ourselves to things that you can't do without that
<a name="l-316"></a><span class="tm">19:43:52</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">sipa:</span> you still can talk RPC...
<a name="l-317"></a><span class="tm">19:43:57</span><span class="nk"> &lt;wumpus&gt;</span> so not everything ends up on all three
<a name="l-318"></a><span class="tm">19:44:07</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">sipa:</span> just the notifications need to be ZMQ to avoid polling..
<a name="l-319"></a><span class="tm">19:44:09</span><span class="nk"> &lt;instagibbs&gt;</span> even if you have access to full node over p2p, that doesn't get you that (maybe that's what you meant)
<a name="l-320"></a><span class="tm">19:44:28</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">sipa:</span> thats why I think adding long poll would not change the security aspect.
<a name="l-321"></a><span class="tm">19:44:42</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jonasschnelli:</span> but you don't want to send a ZMQ event for every transaction over the wire... that would consume as much bandwidth as just the p2p protocol
<a name="l-322"></a><span class="tm">19:44:55</span><span class="nk"> &lt;wumpus&gt;</span> adding longpoll to RPC won't change any security aspect
<a name="l-323"></a><span class="tm">19:45:02</span><span class="nk"> &lt;luke-jr&gt;</span> more, since ZMQ is ASCII :P
<a name="l-324"></a><span class="tm">19:45:07</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">luke-jr:</span> wut?
<a name="l-325"></a><span class="tm">19:45:09</span><span class="nk"> &lt;kanzure&gt;</span> rpc thread count exhaustion might change a security aspect
<a name="l-326"></a><span class="tm">19:45:17</span><span class="nk"> &lt;wumpus&gt;</span> (except if it encourages opening up your RPC port to the internet)
<a name="l-327"></a><span class="tm">19:45:20</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">sipa:</span> Right. Long poll could then be extended to relevant wallet txes.
<a name="l-328"></a><span class="tm">19:45:25</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">kanzure:</span> you need user/pass for that, so only the owner can attack it
<a name="l-329"></a><span class="tm">19:45:37</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">kanzure:</span> I would be against unauthenticated longpolls, that's for sure
<a name="l-330"></a><span class="tm">19:45:47</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">sipa:</span> at least the main protocol design (it transmits binary data as-is, IIRC)
<a name="l-331"></a><span class="tm">19:45:52</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">kanzure:</span> and if you can authenticate you can do *much* worse things than hold up threads
<a name="l-332"></a><span class="tm">19:45:59</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">sipa:</span> of course you can filter stuff with zmq, you can do anything with zmq, is "network complete"
<a name="l-333"></a><span class="tm">19:46:17</span><span class="nk"> &lt;jtimon&gt;</span> you may need more processes
<a name="l-334"></a><span class="tm">19:46:23</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jtimon:</span> that's like saying that x86 asm is better than http, because it can do everything
<a name="l-335"></a><span class="tm">19:46:35</span><span class="nk"> &lt;jonasschnelli&gt;</span> Another + for RPC long poll: no dependencies...
<a name="l-336"></a><span class="tm">19:46:36</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jtimon:</span> of course you can filter, but the filter would be too late
<a name="l-337"></a><span class="tm">19:46:41</span><span class="nk"> &lt;wumpus&gt;</span> so anyhow: I'd say continue your work jonasschnelli
<a name="l-338"></a><span class="tm">19:46:46</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">sipa:</span> I really don't undesrtand what you claim can't be done with zmq
<a name="l-339"></a><span class="tm">19:46:46</span><span class="nk"> &lt;kanzure&gt;</span> my zeromq person just left the channel in a huff ("these people are retarded") hah...
<a name="l-340"></a><span class="tm">19:46:53</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">wumpus:</span> Okay.. I keep the PR warm.
<a name="l-341"></a><span class="tm">19:47:03</span><span class="nk"> &lt;luke-jr&gt;</span> again, we ALREADY have longpolling, so I don't see why make a big deal of it
<a name="l-342"></a><span class="tm">19:47:19</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">sipa:</span> you want to filter by a set of addresses or something?
<a name="l-343"></a><span class="tm">19:47:19</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">luke-jr:</span> Yes. It's not a big deal...
<a name="l-344"></a><span class="tm">19:47:32</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jtimon:</span> we don't want ZMQ to be authenticated, so it can't provide wallet-specific information, which means the ZMQ client will need to do the filtering
<a name="l-345"></a><span class="tm">19:47:40</span><span class="nk"> &lt;wumpus&gt;</span> people seem to have trouble to get zmq to work in practice, maybe if you can provide some easy examples for RPC longpolling then it will be the more popular way to do notifications soon
<a name="l-346"></a><span class="tm">19:47:42</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">sipa:</span> Agree
<a name="l-347"></a><span class="tm">19:47:49</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jtimon:</span> which is duplicating logic, because that's something the wallet should do, not the gui
<a name="l-348"></a><span class="tm">19:47:58</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">wumpus:</span> Okay. I'll add some examples... good point!
<a name="l-349"></a><span class="tm">19:48:02</span><span class="nk"> &lt;wumpus&gt;</span> (I had so much trouble convincing joinmarket to use zmq notifications instead of wacky -notifyX scripts that I just gave u)
<a name="l-350"></a><span class="tm">19:48:11</span><span class="nk"> &lt;luke-jr&gt;</span> LP is really simple. just make a normal request and wait ☺
<a name="l-351"></a><span class="tm">19:48:15</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">wumpus:</span> hah .. yes. Another +1 for RPC long poll. :)
<a name="l-352"></a><span class="tm">19:48:27</span><span class="nk"> &lt;wumpus&gt;</span> maybe it's the extra dependency, maybe it's unfamiliarity, I don't know.
<a name="l-353"></a><span class="tm">19:48:31</span><span class="nk"> &lt;jonasschnelli&gt;</span> People will call exes on every transaction...
<a name="l-354"></a><span class="tm">19:48:37</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">sipa:</span> oh, you don't want authenticated connections going through zmq processes...I don't undesrtand why, but ok, that seems to be the piece I was missing
<a name="l-355"></a><span class="tm">19:48:39</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jtimon:</span> so yes, of course, you can do anything, if you reimplement the wallet in the client, but that was exactly what we were trying to avoid :)
<a name="l-356"></a><span class="tm">19:48:47</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">luke-jr:</span> lots of things time out.
<a name="l-357"></a><span class="tm">19:48:58</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">gmaxwell:</span> time out doesnt matter
<a name="l-358"></a><span class="tm">19:48:58</span><span class="nk"> &lt;gmaxwell&gt;</span> this discussion seems ratholed.
<a name="l-359"></a><span class="tm">19:49:07</span><span class="nk"> &lt;jonasschnelli&gt;</span> Because you have a queue/state on the server
<a name="l-360"></a><span class="tm">19:49:15</span><span class="nk"> &lt;wumpus&gt;</span> timeout doesn't matter with longpoll, you can just re-request
<a name="l-361"></a><span class="tm">19:49:19</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">sipa:</span> no, I would just use some kind of authentication
<a name="l-362"></a><span class="tm">19:49:21</span><span class="nk"> &lt;kanzure&gt;</span> we need more user metric survey data about whehter rpc is really easy for folks. i think all the web app developers only know web hooks and HTTP.
<a name="l-363"></a><span class="tm">19:49:51</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">kanzure:</span> moving away from JSON-RPC as the main RPC API is out of the question at this stage
<a name="l-364"></a><span class="tm">19:50:02</span><span class="nk"> &lt;wumpus&gt;</span> just too much software and libraries that assume it
<a name="l-365"></a><span class="tm">19:50:07</span><span class="nk"> &lt;sipa&gt;</span> are there other topics?
<a name="l-366"></a><span class="tm">19:50:20</span><span class="nk"> &lt;kanzure&gt;</span> er i did not mean to unintentionally advocate for moving away from json-rpc
<a name="l-367"></a><span class="tm">19:50:52</span><span class="nk"> &lt;wumpus&gt;</span> doesn't seem to be
<a name="l-368"></a><span class="tm">19:51:11</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#endmeeting</span><span class="cmdline"></span></pre>
</body></html>
