<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<title>#bitcoin-core-dev log</title>
<style type="text/css">
/* For the .log.html */
pre { /*line-height: 125%;*/
      white-space: pre-wrap; }
body { background: #f0f0f0; }

body .tm  { color: #007020 }                      /* time */
body .nk  { color: #062873; font-weight: bold }   /* nick, regular */
body .nka { color: #007020; font-weight: bold }  /* action nick */
body .ac  { color: #00A000 }                      /* action line */
body .hi  { color: #4070a0 }                 /* hilights */
/* Things to make particular MeetBot commands stick out */
body .topic     { color: #007020; font-weight: bold }
body .topicline { color: #000080; font-weight: bold }
body .cmd       { color: #007020; font-weight: bold }
body .cmdline  { font-weight: bold }

</style>
</head>

<body>
<pre><a name="l-1"></a><span class="tm">19:01:03</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#startmeeting</span><span class="cmdline"></span>
<a name="l-2"></a><span class="tm">19:01:03</span><span class="nk"> &lt;lightningbot&gt;</span> Meeting started Thu Jul 28 19:01:03 2016 UTC.  The chair is wumpus. Information about MeetBot at http://wiki.debian.org/MeetBot.
<a name="l-3"></a><span class="tm">19:01:03</span><span class="nk"> &lt;lightningbot&gt;</span> Useful Commands: #action #agreed #help #info #idea #link #topic.
<a name="l-4"></a><span class="tm">19:01:05</span><span class="nk"> &lt;kanzure&gt;</span> greetings
<a name="l-5"></a><span class="tm">19:01:42</span><span class="nk"> &lt;wumpus&gt;</span> topc suggestions?
<a name="l-6"></a><span class="tm">19:01:49</span><span class="nk"> &lt;jtimon&gt;</span> proposed topic eliminate ISM (NicolasDorier's #8391)
<a name="l-7"></a><span class="tm">19:02:10</span><span class="nk"> &lt;luke-jr&gt;</span> about to board flight..
<a name="l-8"></a><span class="tm">19:02:15</span><span class="nk"> &lt;wumpus&gt;</span> rc2 is very near being tagged, https://github.com/bitcoin/bitcoin/milestone/20, could use some extra review for https://github.com/bitcoin/bitcoin/pull/8408
<a name="l-9"></a><span class="tm">19:02:40</span><span class="nk"> &lt;wumpus&gt;</span> but that's the only remaining pull tagged 0.13 left
<a name="l-10"></a><span class="tm">19:02:48</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">wumpus:</span> releadse notes still need to not recommend/opressure bad policy
<a name="l-11"></a><span class="tm">19:03:08</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">luke-jr:</span> ok
<a name="l-12"></a><span class="tm">19:03:19</span><span class="nk"> &lt;luke-jr&gt;</span> tag applicable pr pls
<a name="l-13"></a><span class="tm">19:03:20</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">wumpus:</span> shouldn't #8412 be in 0.13?
<a name="l-14"></a><span class="tm">19:03:25</span><span class="nk"> &lt;wumpus&gt;</span> but I guess people don't agree on what 'bad policy' is
<a name="l-15"></a><span class="tm">19:03:38</span><span class="nk"> &lt;kanzure&gt;</span> also about to board a flight in a bit
<a name="l-16"></a><span class="tm">19:03:41</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">wumpus:</span> â€¦
<a name="l-17"></a><span class="tm">19:03:50</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">luke-jr:</span> don't elipises wumpus.
<a name="l-18"></a><span class="tm">19:03:51</span><span class="nk"> &lt;jonasschnelli&gt;</span> I think it should
<a name="l-19"></a><span class="tm">19:03:57</span><span class="nk"> &lt;jonasschnelli&gt;</span> (8412)
<a name="l-20"></a><span class="tm">19:04:19</span><span class="nk"> &lt;jonasschnelli&gt;</span> I'll tag it
<a name="l-21"></a><span class="tm">19:04:20</span><span class="nk"> &lt;jtimon&gt;</span> in fact, I think it should go in 0.12.2 if there's going to be one
<a name="l-22"></a><span class="tm">19:04:27</span><span class="nk"> &lt;wumpus&gt;</span> I'm fine with 8412, hadn't heard of it before
<a name="l-23"></a><span class="tm">19:04:40</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">wumpus:</span> yeah, just created it yesterday
<a name="l-24"></a><span class="tm">19:04:47</span><span class="nk"> &lt;sipa&gt;</span> 8412 seems harmless and silly not to include
<a name="l-25"></a><span class="tm">19:04:53</span><span class="nk"> &lt;jonasschnelli&gt;</span> It's a inconsequence with no risk attached to it (IMO)
<a name="l-26"></a><span class="tm">19:05:00</span><span class="nk"> &lt;wumpus&gt;</span> seems we agree
<a name="l-27"></a><span class="tm">19:05:08</span><span class="nk"> &lt;jtimon&gt;</span> great
<a name="l-28"></a><span class="tm">19:05:18</span><span class="nk"> &lt;luke-jr&gt;</span> the current release nites recommends and undisputably bad policy. if there is controversy it shouldnt recommend anything
<a name="l-29"></a><span class="tm">19:05:32</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">luke-jr:</span> do you have a proposed update to the release notes?
<a name="l-30"></a><span class="tm">19:05:37</span><span class="nk"> &lt;gmaxwell&gt;</span> RE 8412: why are we adding flags for long locked in network features?
<a name="l-31"></a><span class="tm">19:05:59</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">sdaftuar:</span> any clues where to poke at #8096? Do you still think that's a blocker for release, or calling it a fluke?
<a name="l-32"></a><span class="tm">19:06:22</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">wumpus:</span> yes, the pr is open for a week now
<a name="l-33"></a><span class="tm">19:06:33</span><span class="nk"> &lt;cfields&gt;</span> err.. sorry for topic drift. we can pick that up later.
<a name="l-34"></a><span class="tm">19:06:36</span><span class="nk"> &lt;jtimon&gt;</span> what is the "bad policy"? what am I missing?
<a name="l-35"></a><span class="tm">19:06:43</span><span class="nk"> &lt;gmaxwell&gt;</span> okay never mind, I didn't look at the patch initially, I thought it was GBT rather than libconsensus.
<a name="l-36"></a><span class="tm">19:06:52</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">luke-jr:</span> the only PR I know of also changes quite some code
<a name="l-37"></a><span class="tm">19:06:55</span><span class="nk"> &lt;jonasschnelli&gt;</span> https://github.com/bitcoin/bitcoin/pull/8388/
<a name="l-38"></a><span class="tm">19:07:05</span><span class="nk"> &lt;jonasschnelli&gt;</span> Yes. Its not an release not only PR
<a name="l-39"></a><span class="tm">19:07:12</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">luke-jr:</span> i don't understand why we need to change anything now.  segwit is not released.  using blockmaxcost is fine for 0.13
<a name="l-40"></a><span class="tm">19:07:17</span><span class="nk"> &lt;gmaxwell&gt;</span> s/not/note/
<a name="l-41"></a><span class="tm">19:07:26</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jtimon:</span> blockmaxweight rsther than blockmaxsize
<a name="l-42"></a><span class="tm">19:07:27</span><span class="nk"> &lt;morcos&gt;</span> uh, or weight
<a name="l-43"></a><span class="tm">19:07:44</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">gmaxwell:</span> thanks. :)
<a name="l-44"></a><span class="tm">19:07:58</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">wumpus:</span> because people were insisting the code had to change to remove the recommencaation
<a name="l-45"></a><span class="tm">19:08:14</span><span class="nk"> &lt;gmaxwell&gt;</span> I think it's foolish that we're still releasing with settings that don't reflect the near ubiquitious network usage.
<a name="l-46"></a><span class="tm">19:08:32</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">luke-jr:</span> we shouldn't be relying on miners picking safe policy that only harms themselves
<a name="l-47"></a><span class="tm">19:08:37</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">gmaxwell:</span> on that note, agree with sipa that we should decouple the consensus flags bit poisitions from the script flags', but that's only for master
<a name="l-48"></a><span class="tm">19:08:48</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">luke-jr:</span> if we're not fine with larger blocks, we shouldn't do segwit as-is
<a name="l-49"></a><span class="tm">19:09:02</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">sipa:</span> agreed
<a name="l-50"></a><span class="tm">19:09:15</span><span class="nk"> &lt;morcos&gt;</span> where we is the big we
<a name="l-51"></a><span class="tm">19:09:16</span><span class="nk"> &lt;sipa&gt;</span> in practice, nearly every miner will set the max block size and weight to the maximum allowed value
<a name="l-52"></a><span class="tm">19:09:22</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">morcos:</span> yes!
<a name="l-53"></a><span class="tm">19:09:40</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">sipa:</span> we cannot stop segwit for better or worse
<a name="l-54"></a><span class="tm">19:09:46</span><span class="nk"> &lt;gmaxwell&gt;</span> Asking miners to produce blocks smaller than the network technically allows is a failed policy, in nay case, as we've seen. The default has been 750k-- but go look at the chain, no 750k blocks to be seen. :P
<a name="l-55"></a><span class="tm">19:09:48</span><span class="nk"> &lt;luke-jr&gt;</span> and hopefully in some monthhs larger blocks WILL vbe fine
<a name="l-56"></a><span class="tm">19:10:00</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">sipa:</span> prqactice is tbd
<a name="l-57"></a><span class="tm">19:10:01</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">luke-jr:</span> 'fine' is not a boolean
<a name="l-58"></a><span class="tm">19:10:27</span><span class="nk"> &lt;luke-jr&gt;</span> i need to boardâ€¦
<a name="l-59"></a><span class="tm">19:10:41</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> on the other hand, miners not dumbly using the default settings is great, it's exactly what should be happening
<a name="l-60"></a><span class="tm">19:10:44</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">luke-jr:</span> well nothing special will happen because you aren't here. :P go board, we can talk later.
<a name="l-61"></a><span class="tm">19:10:45</span><span class="nk"> &lt;morcos&gt;</span> i think it would be fine to include an explanation of the difference in the release notes without making a judgement about whether or not you should want to have blocks with size smaller than what might be created if you only limited by weight
<a name="l-62"></a><span class="tm">19:10:54</span><span class="nk"> &lt;luke-jr&gt;</span> bbl
<a name="l-63"></a><span class="tm">19:11:49</span><span class="nk"> &lt;jtimon&gt;</span> the way I see it, the default is stupid to kind of force miners not to use the default (and to avoid being changing some defaults all the time)
<a name="l-64"></a><span class="tm">19:11:57</span><span class="nk"> &lt;morcos&gt;</span> if we don't recommend using size but explain why the option exists, then i also see no reason to cache size, if some people want to use it, its ok if its calc'ed on the fly (as current code does)_
<a name="l-65"></a><span class="tm">19:12:06</span><span class="nk"> &lt;jtimon&gt;</span> so the issue is that weight has a bigger default than size had?
<a name="l-66"></a><span class="tm">19:12:10</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jtimon:</span> yes, I thought that was the point
<a name="l-67"></a><span class="tm">19:12:30</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jtimon:</span> otherwise it's back to 'devs decide the values'
<a name="l-68"></a><span class="tm">19:12:46</span><span class="nk"> &lt;btcdrak&gt;</span> sorry I am late. #8412 should be included.
<a name="l-69"></a><span class="tm">19:12:52</span><span class="nk"> &lt;jtimon&gt;</span> yeah, and people asking to increase op_return size and shit
<a name="l-70"></a><span class="tm">19:13:20</span><span class="nk"> &lt;gmaxwell&gt;</span> IMO we should just make the defaults the maximums. Doing otherwise is thereatics, we know that users will immediately set them to the largest allowed values. And the few that wouldn't will happily manually reduce them.
<a name="l-71"></a><span class="tm">19:13:52</span><span class="nk"> &lt;jtimon&gt;</span> re #8412 should I open the PR to 0.13 then?
<a name="l-72"></a><span class="tm">19:13:54</span><span class="nk"> &lt;gmaxwell&gt;</span> this argument specifically applies to the 'max weight/size' things because we have expirence there with how they will be set in practice.
<a name="l-73"></a><span class="tm">19:14:20</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jtimon:</span> 8412 will backport trivially, no need for backport PR
<a name="l-74"></a><span class="tm">19:14:35</span><span class="nk"> &lt;gmaxwell&gt;</span> (also, FWIW, the income difference between 750k size and maximum is non-trivial).
<a name="l-75"></a><span class="tm">19:15:29</span><span class="nk"> &lt;jtimon&gt;</span> no strong opinion, it seems natural to take the oportunity of moving from size to weight to change the default to something more used, but I will complain when somebody asks to change it later
<a name="l-76"></a><span class="tm">19:15:34</span><span class="nk"> &lt;wumpus&gt;</span> I really don't like to go back to discussing what defaults to use, e.g. we've had tons of pull requests to change the default block size and we've always used the reasoning explained by jtimon to hold them off
<a name="l-77"></a><span class="tm">19:15:40</span><span class="nk"> &lt;wumpus&gt;</span> but indeed, no strong opinion either
<a name="l-78"></a><span class="tm">19:16:10</span><span class="nk"> &lt;jtimon&gt;</span> if we want to set a lower default to "force people" not to use defaults there, that's fine with me as well
<a name="l-79"></a><span class="tm">19:16:31</span><span class="nk"> &lt;sipa&gt;</span> the current 0.13 code does not change any defaults
<a name="l-80"></a><span class="tm">19:16:36</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">wumpus:</span> i suppose the confusion is that now that we have 2 options, its totally non-intuitive how to se tthem given they have non max defaults
<a name="l-81"></a><span class="tm">19:16:46</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">sipa:</span> then what's the problem again?
<a name="l-82"></a><span class="tm">19:16:49</span><span class="nk"> &lt;sipa&gt;</span> and the release notes explain the difference, and that only using weight is faster
<a name="l-83"></a><span class="tm">19:16:54</span><span class="nk"> &lt;wumpus&gt;</span> yes, what is the problem then?
<a name="l-84"></a><span class="tm">19:16:58</span><span class="nk"> &lt;sipa&gt;</span> i think the code and notes in 0.13 are fine
<a name="l-85"></a><span class="tm">19:17:46</span><span class="nk"> &lt;gmaxwell&gt;</span> The notes don't seem to inform me how to set it to the maximum.
<a name="l-86"></a><span class="tm">19:18:07</span><span class="nk"> &lt;gmaxwell&gt;</span> which is what 99% of the users are going to want to do, as it's what they currently do.
<a name="l-87"></a><span class="tm">19:18:21</span><span class="nk"> &lt;sipa&gt;</span> ok, let's fix that in the --help message?
<a name="l-88"></a><span class="tm">19:18:47</span><span class="nk"> &lt;gmaxwell&gt;</span> They won't read that. They'll read the release notes with greater odds than --help.
<a name="l-89"></a><span class="tm">19:18:55</span><span class="nk"> &lt;wumpus&gt;</span> if it's what they currently do ,then why would the default even matter? they override it already.
<a name="l-90"></a><span class="tm">19:18:57</span><span class="nk"> &lt;gmaxwell&gt;</span> (otherwise they wouldn't know of the maxweight option at all)
<a name="l-91"></a><span class="tm">19:18:58</span><span class="nk"> &lt;sipa&gt;</span> i assume they'll read neither
<a name="l-92"></a><span class="tm">19:19:13</span><span class="nk"> &lt;sdaftuar&gt;</span> (Note that for mainnet, in this release, the equivalent parameter for -blockmaxweight would be four times the desired -blockmaxsize. See BIP 141 for additional details.)
<a name="l-93"></a><span class="tm">19:19:16</span><span class="nk"> &lt;morcos&gt;</span> you need to know how to set the limits to max, and also not have the code to unnecessary extra serialization
<a name="l-94"></a><span class="tm">19:19:28</span><span class="nk"> &lt;gmaxwell&gt;</span> The default doesn't matter, except it forces people to override, which they'll likely get wrong now that it's been made more complicated.
<a name="l-95"></a><span class="tm">19:19:59</span><span class="nk"> &lt;wumpus&gt;</span> in any case the help message and release notes should be clear, if they are missing information that needs to be added
<a name="l-96"></a><span class="tm">19:20:22</span><span class="nk"> &lt;gmaxwell&gt;</span> E.g. you'll read that release note and then change your maxsize to maxweight, and then be surprised when their blocks are 250k. :P
<a name="l-97"></a><span class="tm">19:20:43</span><span class="nk"> &lt;achow101&gt;</span> why not just set it to the max? I can't see any reason why users would complain about that given that that is what they are going to do anyways
<a name="l-98"></a><span class="tm">19:21:13</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">achow101:</span> that was the argument I was making before. wumpus correctly notes that going and debating defaults again isn't great.
<a name="l-99"></a><span class="tm">19:21:17</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">gmaxwell:</span> ok, so you want to just clarify how to select the max block size in the --help because now it's more complicated than before and add something to the release notes?
<a name="l-100"></a><span class="tm">19:21:30</span><span class="nk"> &lt;gmaxwell&gt;</span> In particular luke will go on a public attack campaign, and some are trying to avoid it.
<a name="l-101"></a><span class="tm">19:21:42</span><span class="nk"> &lt;wumpus&gt;</span> because we should not be in the business of determining what values miners should use, we've always tried to avoid that, for good reason
<a name="l-102"></a><span class="tm">19:21:47</span><span class="nk"> &lt;gmaxwell&gt;</span> (because he sees a kind of principled position arising from setting a more correct default which no one uses)
<a name="l-103"></a><span class="tm">19:22:34</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">wumpus:</span> not at question of should, it's a question of 'does', and forcing people to set settings which are now somewhat complex due to the new option is a bit unfortunate.
<a name="l-104"></a><span class="tm">19:22:38</span><span class="nk"> &lt;wumpus&gt;</span> if you want to inform people how to set the maximum, then adding how to do so in the release notes makes sense
<a name="l-105"></a><span class="tm">19:22:52</span><span class="nk"> &lt;gmaxwell&gt;</span> yes, I can make a PR that explains how to do that.
<a name="l-106"></a><span class="tm">19:22:53</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> we've been there; this really feels like deja vu
<a name="l-107"></a><span class="tm">19:23:34</span><span class="nk"> &lt;wumpus&gt;</span> so to be clear: the current 0.13 defaults will cause miners to do something else than create 750kb blocks, as was the case for 0.12?
<a name="l-108"></a><span class="tm">19:23:56</span><span class="nk"> &lt;gmaxwell&gt;</span> No, the defaults are functionally equal to 0.12's.
<a name="l-109"></a><span class="tm">19:23:59</span><span class="nk"> &lt;sdaftuar&gt;</span> <span class="hi">wumpus:</span> no, that is not the case.
<a name="l-110"></a><span class="tm">19:24:07</span><span class="nk"> &lt;wumpus&gt;</span> ok, good then
<a name="l-111"></a><span class="tm">19:24:17</span><span class="nk"> &lt;morcos&gt;</span> i think the release notes are accurate and relatively comprehensive enough right now.  unfortunately, i think the logic that exists is complicated enough that miners will make mistakes and either create smaller blocks than they meant to or slow down their mining computation
<a name="l-112"></a><span class="tm">19:24:32</span><span class="nk"> &lt;gmaxwell&gt;</span> the default maxweight is 3 million, which, with no witness txn is exactly equal to 750k maxsize.
<a name="l-113"></a><span class="tm">19:24:43</span><span class="nk"> &lt;jtimon&gt;</span> I really don't understand luke-jr's issue if the defaults are untouched
<a name="l-114"></a><span class="tm">19:25:03</span><span class="nk"> &lt;morcos&gt;</span> i'm not sure what the solution to that is other than explaining exactly what you should do if you want to mine max size blocks, which might be seen as a recommendation
<a name="l-115"></a><span class="tm">19:25:25</span><span class="nk"> &lt;wumpus&gt;</span> explaining in the release notes and documentation is exactly the right thing to do
<a name="l-116"></a><span class="tm">19:25:29</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">jtimon:</span> because a maxweight of 3m allows for a 3mb block in future versions with segwit activated and he doesn't want miners being instructed to use maxweight.
<a name="l-117"></a><span class="tm">19:25:31</span><span class="nk"> &lt;instagibbs&gt;</span> jtimon, theoretical size max would be 3MB I think
<a name="l-118"></a><span class="tm">19:25:35</span><span class="nk"> &lt;wumpus&gt;</span> so people understand what is being done
<a name="l-119"></a><span class="tm">19:25:50</span><span class="nk"> &lt;wumpus&gt;</span> instead of saying 'this is too complicated for you, just follow the defaults'
<a name="l-120"></a><span class="tm">19:26:10</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">wumpus:</span> 'just follow the defaults' was never my position.
<a name="l-121"></a><span class="tm">19:26:31</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">gmaxwell:</span> why do miners need to be instructed about maxweight before activation? (not that I'm against informing people beforehand)
<a name="l-122"></a><span class="tm">19:26:43</span><span class="nk"> &lt;gmaxwell&gt;</span> Rather, we have defaults that match AFAICT what _no one_ wants, meaning that there is no one who can go "oh what the defaults want is already what I want, so I don't have to screw with anything."
<a name="l-123"></a><span class="tm">19:26:50</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> I know, but that's what would effectively happen if the defaults are just the maximum which everyone uses
<a name="l-124"></a><span class="tm">19:26:52</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">gmaxwell:</span> exactly
<a name="l-125"></a><span class="tm">19:27:42</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> people will start using the defaults, and be recommended using the defaults, which makes us in charge of determining the values. Next release there will be 20 pulls again of people that want to change the default to their favourite value, to lead others into using it
<a name="l-126"></a><span class="tm">19:27:47</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">jtimon:</span> they need to be informed because we kept blockmaxsize as an option, but it is slower to calculate (by unknown amount)
<a name="l-127"></a><span class="tm">19:27:59</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">jtimon:</span> because he believes its establishing a bad set of practices which will hold over. I think he's right that it will hold over.. but only slightly, people are also going to immediately crank to maximum. I think luke realizes this too, but is adopting a principled position of not supporting something he thinks is bad even if it is inevitable.
<a name="l-128"></a><span class="tm">19:28:00</span><span class="nk"> &lt;jtimon&gt;</span> ok, so imagining what most are doing and assuming they don't touch their configuration for now and don't do anything about weigh (ie use the default), everything will be fine, right?
<a name="l-129"></a><span class="tm">19:28:16</span><span class="nk"> &lt;gmaxwell&gt;</span> And he think it is bad until compactblock deployment has proven that miners producing larger blocks is okay.
<a name="l-130"></a><span class="tm">19:28:16</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">morcos:</span> I see
<a name="l-131"></a><span class="tm">19:28:18</span><span class="nk"> &lt;wumpus&gt;</span> hence, I really think defaults discussion is a waste of time, it just creates more of the same
<a name="l-132"></a><span class="tm">19:29:08</span><span class="nk"> &lt;gmaxwell&gt;</span> instead we get worse discussions because we have setting which actively trip up users.
<a name="l-133"></a><span class="tm">19:29:08</span><span class="nk"> &lt;sipa&gt;</span> i think we can just leave defaults as they are now
<a name="l-134"></a><span class="tm">19:29:21</span><span class="nk"> &lt;gmaxwell&gt;</span> Sorry, wumpus, the software doesn't exist to save us from discussion, it exists to serve its users.
<a name="l-135"></a><span class="tm">19:29:28</span><span class="nk"> &lt;wumpus&gt;</span> that's what we've learned from previous messing around with defaults, I don't understand why you've certainly changed your mind about this
<a name="l-136"></a><span class="tm">19:29:28</span><span class="nk"> &lt;gmaxwell&gt;</span> I agree that we can leave them.
<a name="l-137"></a><span class="tm">19:29:31</span><span class="nk"> &lt;instagibbs&gt;</span> ack for leaving as-is
<a name="l-138"></a><span class="tm">19:29:45</span><span class="nk"> &lt;jtimon&gt;</span> mhmm, if they were creating bigger blocks, they will keep doing so, and if they were using the default, they will keep doing so
<a name="l-139"></a><span class="tm">19:29:57</span><span class="nk"> &lt;gmaxwell&gt;</span> But we need instructions for setting them to maximum, because as is people will screw it up and produce 250k blocks (and if you care about complaining: they'll accuse us of being sneaky)
<a name="l-140"></a><span class="tm">19:30:08</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> where did I claim that the software exists to save us from discussion!??
<a name="l-141"></a><span class="tm">19:30:14</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> wtf is this
<a name="l-142"></a><span class="tm">19:30:16</span><span class="nk"> &lt;jtimon&gt;</span> if they move to weigh because it's cheaper but still use the default, the size is the same
<a name="l-143"></a><span class="tm">19:30:19</span><span class="nk"> &lt;morcos&gt;</span> I think the lesson to be learned here is we make the code too complicated by trying to be all things to all people.  For policy (not consensus) related decisions, i don't think we need to be able to support every possible thing.   We waste so much time trying to shoehorn in things like priority and maxsize, while simultaneously trying to make the code more efficient
<a name="l-144"></a><span class="tm">19:30:31</span><span class="nk"> &lt;sipa&gt;</span> agree
<a name="l-145"></a><span class="tm">19:31:33</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">wumpus:</span> I'm sorry, thats what I'm reading out of your position on the defaults. I feel like you're basically arguing that we should have setting we know are bad and don't match usage, because it allows to refuse to discuss the defaults.
<a name="l-146"></a><span class="tm">19:31:52</span><span class="nk"> &lt;Eliel_&gt;</span> Well, you could always just make the mining part refuse to function unless the user manually sets the required config values :P
<a name="l-147"></a><span class="tm">19:31:55</span><span class="nk"> &lt;gmaxwell&gt;</span> I think thats an argument that we should make the software objectively worse in order to avoid debates over what is better.
<a name="l-148"></a><span class="tm">19:32:04</span><span class="nk"> &lt;gmaxwell&gt;</span> I apologize for reading so much into it.
<a name="l-149"></a><span class="tm">19:32:06</span><span class="nk"> &lt;Eliel_&gt;</span> as in, no dfaults
<a name="l-150"></a><span class="tm">19:32:17</span><span class="nk"> &lt;jtimon&gt;</span> anyway, it seems this is mostly an issue for luke-jr, so I don't see the point in keeping discussing it while he is on a plane
<a name="l-151"></a><span class="tm">19:32:25</span><span class="nk"> &lt;achow101&gt;</span> <span class="hi">Eliel_:</span> it's not very user friendly though
<a name="l-152"></a><span class="tm">19:32:30</span><span class="nk"> &lt;sipa&gt;</span> how about we leave things as is, and in the future (whenever that may be) we find a way to simplify the options (back to one argument, for example)
<a name="l-153"></a><span class="tm">19:32:40</span><span class="nk"> &lt;sdaftuar&gt;</span> ACK simplifying in the future
<a name="l-154"></a><span class="tm">19:32:45</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">sipa:</span> i think thats the best we're going to get at this point
<a name="l-155"></a><span class="tm">19:32:47</span><span class="nk"> &lt;sipa&gt;</span> that can 1) solve the problem of inadvisable defaults
<a name="l-156"></a><span class="tm">19:32:49</span><span class="nk"> &lt;gmaxwell&gt;</span> But we really do need to have instructions on doing what people will do. And when we write those luke will complain because it will be arguable that we are endorsing those settings. Cannot escape the drama. :)
<a name="l-157"></a><span class="tm">19:33:07</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">Eliel_:</span> yes, that has been suggested before
<a name="l-158"></a><span class="tm">19:33:19</span><span class="nk"> &lt;sipa&gt;</span> and 2) by changing things at the same time as simplifying the logic, it is not necessarily a recommendation
<a name="l-159"></a><span class="tm">19:33:21</span><span class="nk"> &lt;achow101&gt;</span> <span class="hi">gmaxwell:</span> just tell him to suck it up  and deal with it
<a name="l-160"></a><span class="tm">19:33:22</span><span class="nk"> &lt;Eliel_&gt;</span> <span class="hi">achow101:</span> that depends... if the error message comes with a link to a good instructional document, it might actually be a pretty good result.
<a name="l-161"></a><span class="tm">19:33:36</span><span class="nk"> &lt;gmaxwell&gt;</span> luke only insisted we have the size option because compactblocks is not yet deployed, and if relay network isn't working, orphaning is highly related to size.
<a name="l-162"></a><span class="tm">19:33:46</span><span class="nk"> &lt;gmaxwell&gt;</span> It didn't seem like it was worth debating.
<a name="l-163"></a><span class="tm">19:33:52</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">gmaxwell:</span> i'd argue we can leave the release notes as is (which luke might still object to) and then just use other channels to explain to people very simply how they can create max blocks if they want.  simple.  set -blockmaxweight=4000000 and dont' set blockmaxsize at all
<a name="l-164"></a><span class="tm">19:33:57</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">Eliel_:</span> it may be better than setting silly defaults, but there was never agreement to do it
<a name="l-165"></a><span class="tm">19:34:09</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">morcos:</span> I can agree with that too.
<a name="l-166"></a><span class="tm">19:34:24</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">gmaxwell:</span> maybe overkill instructions with all the options (keep using the default in a more efficient way (ie not using maxsize) and do what most poeple do) is enough for luke-jr?
<a name="l-167"></a><span class="tm">19:34:26</span><span class="nk"> &lt;Eliel_&gt;</span> <span class="hi">wumpus:</span> that's pretty much my reasoning behind the suggestion.
<a name="l-168"></a><span class="tm">19:34:41</span><span class="nk"> &lt;Eliel_&gt;</span> if you can't set defaults the way most people want them, don't set any.
<a name="l-169"></a><span class="tm">19:34:51</span><span class="nk"> &lt;morcos&gt;</span> I'm also fine with that suggestion
<a name="l-170"></a><span class="tm">19:35:04</span><span class="nk"> &lt;gmaxwell&gt;</span> luke argued for that for years.
<a name="l-171"></a><span class="tm">19:35:11</span><span class="nk"> &lt;Eliel_&gt;</span> and about user friendliness... do you really want to allow people to mine without understanding what they're doing?
<a name="l-172"></a><span class="tm">19:35:15</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">Eliel_:</span> the thing is that people disagree deeply over these setings
<a name="l-173"></a><span class="tm">19:35:26</span><span class="nk"> &lt;jtimon&gt;</span> other topics?
<a name="l-174"></a><span class="tm">19:36:02</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">eliminate ISM (NicolasDorier's #8391)</span>
<a name="l-175"></a><span class="tm">19:36:11</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">Eliel_:</span> absolutely.
<a name="l-176"></a><span class="tm">19:36:51</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">Eliel_:</span> participants in the network should be avoiding judgement, they're not in charge of the system because they participate.. and not because they have some theoretical technical ability to censor varrious behaviors.
<a name="l-177"></a><span class="tm">19:37:04</span><span class="nk"> &lt;kanzure&gt;</span> i need to leave. i would like to request that folks send me topic suggestions for my wishlist for the upcoming gathering. not end of the world if it doesn't happen, but having a few thoughts prepared is worthwhile.
<a name="l-178"></a><span class="tm">19:37:37</span><span class="nk"> &lt;wumpus&gt;</span> ping jtimon
<a name="l-179"></a><span class="tm">19:37:43</span><span class="nk"> &lt;jtimon&gt;</span> this is quite important for other libconsensus refactors, the sooner it is merged the easy it will be to PR other changes, I would really appreciate fast review, test and merge of #8391
<a name="l-180"></a><span class="tm">19:38:18</span><span class="nk"> &lt;jtimon&gt;</span> I would say it's the most important libconsensus' PR opened right now
<a name="l-181"></a><span class="tm">19:38:32</span><span class="nk"> &lt;wumpus&gt;</span> I think we already agreed removing ISM was a good thing lastm eeting, is there more to discuss about it?
<a name="l-182"></a><span class="tm">19:39:03</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">wumpus:</span> well, I hope not, but that's why I bring it up (apart from asking for review)
<a name="l-183"></a><span class="tm">19:39:21</span><span class="nk"> &lt;wumpus&gt;</span> yes it does need more review/testing
<a name="l-184"></a><span class="tm">19:39:27</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#action </span><span class="cmdline">review https://github.com/bitcoin/bitcoin/pull/8391</span>
<a name="l-185"></a><span class="tm">19:39:40</span><span class="nk"> &lt;jtimon&gt;</span> thanks
<a name="l-186"></a><span class="tm">19:39:42</span><span class="nk"> &lt;cfields&gt;</span> next topic suggestion: boost threads/sync replacement for master
<a name="l-187"></a><span class="tm">19:40:01</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">boost threads/sync replacement for master</span>
<a name="l-188"></a><span class="tm">19:40:11</span><span class="nk"> &lt;jtimon&gt;</span> and of course nacks and nits always the sooner the better
<a name="l-189"></a><span class="tm">19:40:16</span><span class="nk"> &lt;cfields&gt;</span> https://github.com/bitcoin/bitcoin/pull/8023
<a name="l-190"></a><span class="tm">19:40:27</span><span class="nk"> &lt;cfields&gt;</span> is nowish a good time to start pushing for that?
<a name="l-191"></a><span class="tm">19:40:37</span><span class="nk"> &lt;wumpus&gt;</span> sounds good to me
<a name="l-192"></a><span class="tm">19:41:18</span><span class="nk"> &lt;gmaxwell&gt;</span> neat.
<a name="l-193"></a><span class="tm">19:41:20</span><span class="nk"> &lt;cfields&gt;</span> ok. it's a drop-in replacement for interruptible boost threads/condvars. preferred to switch chunks at a time, or all in one go?
<a name="l-194"></a><span class="tm">19:41:26</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">cfields:</span> since it's disruptive, the "refactor window" seems like the perfect time for it, no?
<a name="l-195"></a><span class="tm">19:41:31</span><span class="nk"> &lt;wumpus&gt;</span> what about your network refactor? seems we should start merging for that as well?
<a name="l-196"></a><span class="tm">19:42:11</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">cfields:</span> what would 'chunks at a time' mean, using two potentially conflicting thread libraries?
<a name="l-197"></a><span class="tm">19:42:11</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">wumpus:</span> yea, review/acks of 2 outstanding PRs would be a big help...
<a name="l-198"></a><span class="tm">19:42:17</span><span class="nk"> &lt;jtimon&gt;</span> oh, #8023 is not disruptive at all
<a name="l-199"></a><span class="tm">19:42:23</span><span class="nk"> &lt;cfields&gt;</span> sec for numbers
<a name="l-200"></a><span class="tm">19:42:29</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">cfields:</span> can you post the links? ok
<a name="l-201"></a><span class="tm">19:42:58</span><span class="nk"> &lt;NicolasDorier&gt;</span> I'm back.
<a name="l-202"></a><span class="tm">19:43:03</span><span class="nk"> &lt;NicolasDorier&gt;</span> for removing ISM
<a name="l-203"></a><span class="tm">19:43:04</span><span class="nk"> &lt;wumpus&gt;</span> welcome back
<a name="l-204"></a><span class="tm">19:43:10</span><span class="nk"> &lt;NicolasDorier&gt;</span> I synched nodes successfully
<a name="l-205"></a><span class="tm">19:43:20</span><span class="nk"> &lt;NicolasDorier&gt;</span> so basically, it needs some review from other people, but should be good
<a name="l-206"></a><span class="tm">19:43:27</span><span class="nk"> &lt;cfields&gt;</span> <span class="cmd">#8128 </span><span class="cmdline">and #8085</span>
<a name="l-207"></a><span class="tm">19:43:51</span><span class="nk"> &lt;btcdrak&gt;</span> <span class="hi">NicolasDorier:</span> ok I'll run a full sync this weekend
<a name="l-208"></a><span class="tm">19:43:52</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#action </span><span class="cmdline">review+test https://github.com/bitcoin/bitcoin/pull/8128 Net: Turn net structures into dumb storage classes</span>
<a name="l-209"></a><span class="tm">19:44:03</span><span class="nk"> &lt;cfields&gt;</span> <span class="cmd">#8085 </span><span class="cmdline">is a beast to rebase. I have it done locally, but I'm waiting for #8128 to go in before rebasing again and pushing</span>
<a name="l-210"></a><span class="tm">19:44:10</span><span class="nk"> &lt;sipa&gt;</span> i tried switching some subset of the code to std::thread before, and it was impossible... you need to change it everywhere at once
<a name="l-211"></a><span class="tm">19:44:24</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#action </span><span class="cmdline">review+test https://github.com/bitcoin/bitcoin/pull/8085 p2p: Begin encapsulation</span>
<a name="l-212"></a><span class="tm">19:44:54</span><span class="nk"> &lt;cfields&gt;</span> ok, I'll approach it as one big change then
<a name="l-213"></a><span class="tm">19:45:11</span><span class="nk"> &lt;wumpus&gt;</span> yes it probably makes most sense to do it all as once, it's painful but at least it should be a one time pain then
<a name="l-214"></a><span class="tm">19:46:24</span><span class="nk"> &lt;NicolasDorier&gt;</span> <span class="hi">question:</span> what you call "refactor windows" what is it ?
<a name="l-215"></a><span class="tm">19:46:31</span><span class="nk"> &lt;cfields&gt;</span> ok. iirc there are 1/2 pre-reqs left for boost-specific usage, then basically a search/replace. I'll go back through my notes and do pulls for the pre-reqs.
<a name="l-216"></a><span class="tm">19:47:52</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">NicolasDorier:</span> well the best time for larger changes in 0.14 is now, as there's still some months to go before the release and there is enough time to address problems that come up
<a name="l-217"></a><span class="tm">19:48:16</span><span class="nk"> &lt;wumpus&gt;</span> e.g. you wouldn't want to switch the thread library a few days before release
<a name="l-218"></a><span class="tm">19:48:25</span><span class="nk"> &lt;NicolasDorier&gt;</span> ok nice to know, as I'm working around libconsensus... will go a bit quicker so
<a name="l-219"></a><span class="tm">19:48:49</span><span class="nk"> &lt;NicolasDorier&gt;</span> oh
<a name="l-220"></a><span class="tm">19:49:29</span><span class="nk"> &lt;NicolasDorier&gt;</span> about https://github.com/bitcoin/bitcoin/pull/8259 when will it be merged for 0.13 ?
<a name="l-221"></a><span class="tm">19:49:47</span><span class="nk"> &lt;jtimon&gt;</span> re ISM (sorry for not saying it earlier), thoughts on https://github.com/jtimon/bitcoin/commit/273e27bd0c086f5ba20cebc2f5ec9e24f9d79015 ? independently on adding it to the PR or leave it for later
<a name="l-222"></a><span class="tm">19:49:51</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">NicolasDorier:</span> we'll need to backport that to 0.13 before segwit
<a name="l-223"></a><span class="tm">19:50:03</span><span class="nk"> &lt;NicolasDorier&gt;</span> ok
<a name="l-224"></a><span class="tm">19:51:01</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">NicolasDorier:</span> it's not even merged for master yet, after it is it can be backported
<a name="l-225"></a><span class="tm">19:51:37</span><span class="nk"> &lt;wumpus&gt;</span> I'll add a "needs backport" label
<a name="l-226"></a><span class="tm">19:51:50</span><span class="nk"> &lt;NicolasDorier&gt;</span> ok no prob
<a name="l-227"></a><span class="tm">19:52:03</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">NicolasDorier:</span> thanks for the reminder on that btw
<a name="l-228"></a><span class="tm">19:52:13</span><span class="nk"> &lt;wumpus&gt;</span> seems to need some more review too
<a name="l-229"></a><span class="tm">19:52:29</span><span class="nk"> &lt;NicolasDorier&gt;</span> <span class="hi">jtimon:</span> I'd like to see it go personally, but I don't know the reason why bip34Hash was here in the first place
<a name="l-230"></a><span class="tm">19:52:50</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jtimon:</span> i vaguely remember there were ugly interactions between the cache code that avoids some database operation, bip30 and bip34... but i don't remember the details
<a name="l-231"></a><span class="tm">19:52:53</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#action </span><span class="cmdline">review https://github.com/bitcoin/bitcoin/pull/8259 Hash Cache</span>
<a name="l-232"></a><span class="tm">19:53:14</span><span class="nk"> &lt;jtimon&gt;</span> uff, #8259 is ultra disruptive to consensus branch, should review...
<a name="l-233"></a><span class="tm">19:53:46</span><span class="nk"> &lt;NicolasDorier&gt;</span> <span class="hi">jtimon:</span> yes, I was asking because as part of our work on libconsensus, we'll need to be fixed on that
<a name="l-234"></a><span class="tm">19:54:21</span><span class="nk"> &lt;jtimon&gt;</span> yep, you agreed on #8346 first, right?
<a name="l-235"></a><span class="tm">19:54:46</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jtimon:</span> 8259 will need backport to 0.13
<a name="l-236"></a><span class="tm">19:55:03</span><span class="nk"> &lt;NicolasDorier&gt;</span> yes
<a name="l-237"></a><span class="tm">19:56:07</span><span class="nk"> &lt;wumpus&gt;</span> ok, any final topics?
<a name="l-238"></a><span class="tm">19:57:01</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">sipa:</span> damm, and #8346 cannot be backported because it's a refactor, "refactor winwow interlocking", before a release it's really the worse time to make refactors, but I repeated this many times...
<a name="l-239"></a><span class="tm">19:57:18</span><span class="nk"> &lt;wumpus&gt;</span> no, refactors will not be backported, that is too risky
<a name="l-240"></a><span class="tm">19:58:02</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">wumpus:</span> then having the "refactor window" precisely when we're backporting more stuff is a bad idea
<a name="l-241"></a><span class="tm">19:58:03</span><span class="nk"> &lt;sipa&gt;</span> it's fine, we'll find a solution for that
<a name="l-242"></a><span class="tm">19:58:05</span><span class="nk"> &lt;wumpus&gt;</span> well wait until after the release then jtimon
<a name="l-243"></a><span class="tm">19:58:19</span><span class="nk"> &lt;wumpus&gt;</span> hopefully rc2 will be the last
<a name="l-244"></a><span class="tm">19:58:34</span><span class="nk"> &lt;wumpus&gt;</span> that'd mean the release can be next week or so
<a name="l-245"></a><span class="tm">19:58:48</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">wumpus:</span> if that still counts as "refactor window" I'm happy, I know when they start but I don't have a clear idea on when they finish
<a name="l-246"></a><span class="tm">19:58:59</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">wumpus:</span> the issue is that 8346 won't be backported to 0.13, but 8259 will be, thus 8259 can't be based on that refactor
<a name="l-247"></a><span class="tm">19:59:31</span><span class="nk"> &lt;sipa&gt;</span> but i don't think it's a big issue
<a name="l-248"></a><span class="tm">19:59:32</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">sipa:</span> yes, moving the refactor window to after the 0.13.0 release won't help for that
<a name="l-249"></a><span class="tm">19:59:53</span><span class="nk"> &lt;sipa&gt;</span> sometimes code needs non-trivial backports
<a name="l-250"></a><span class="tm">19:59:55</span><span class="nk"> &lt;sipa&gt;</span> so be it
<a name="l-251"></a><span class="tm">19:59:58</span><span class="nk"> &lt;wumpus&gt;</span> yes
<a name="l-252"></a><span class="tm">20:00:08</span><span class="nk"> &lt;wumpus&gt;</span> it's still trivial compared to backporting to 0.12
<a name="l-253"></a><span class="tm">20:00:23</span><span class="nk"> &lt;sipa&gt;</span> DOING
<a name="l-254"></a><span class="tm">20:00:26</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#endmeeting</span><span class="cmdline"></span></pre>
</body></html>
