<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<title>#bitcoin-core-dev log</title>
<style type="text/css">
/* For the .log.html */
pre { /*line-height: 125%;*/
      white-space: pre-wrap; }
body { background: #f0f0f0; }

body .tm  { color: #007020 }                      /* time */
body .nk  { color: #062873; font-weight: bold }   /* nick, regular */
body .nka { color: #007020; font-weight: bold }  /* action nick */
body .ac  { color: #00A000 }                      /* action line */
body .hi  { color: #4070a0 }                 /* hilights */
/* Things to make particular MeetBot commands stick out */
body .topic     { color: #007020; font-weight: bold }
body .topicline { color: #000080; font-weight: bold }
body .cmd       { color: #007020; font-weight: bold }
body .cmdline  { font-weight: bold }

</style>
</head>

<body>
<pre><a name="l-1"></a><span class="tm">19:04:02</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#startmeeting</span><span class="cmdline"></span>
<a name="l-2"></a><span class="tm">19:04:02</span><span class="nk"> &lt;lightningbot&gt;</span> Meeting started Thu Oct 13 19:04:02 2016 UTC.  The chair is wumpus. Information about MeetBot at http://wiki.debian.org/MeetBot.
<a name="l-3"></a><span class="tm">19:04:02</span><span class="nk"> &lt;lightningbot&gt;</span> Useful Commands: #action #agreed #help #info #idea #link #topic.
<a name="l-4"></a><span class="tm">19:04:49</span><span class="nk"> &lt;BlueMatt&gt;</span> ok, start with 13.1 status update?
<a name="l-5"></a><span class="tm">19:04:52</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">0.13.1</span>
<a name="l-6"></a><span class="tm">19:04:56</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">kanzure:</span> https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2016-October/013204.html
<a name="l-7"></a><span class="tm">19:05:10</span><span class="nk"> &lt;wumpus&gt;</span> I've just done all the remaining backports in https://github.com/bitcoin/bitcoin/pull/8916
<a name="l-8"></a><span class="tm">19:05:12</span><span class="nk"> &lt;BlueMatt&gt;</span> looks like we're one pr away from 13.1, sipa jl2012 or sdaftuar, where are we?
<a name="l-9"></a><span class="tm">19:05:19</span><span class="nk"> &lt;sipa&gt;</span> close.
<a name="l-10"></a><span class="tm">19:05:20</span><span class="nk"> &lt;BlueMatt&gt;</span> on 8916
<a name="l-11"></a><span class="tm">19:05:27</span><span class="nk"> &lt;MarcoFalke&gt;</span> <span class="cmd">#link </span><span class="cmdline">https://github.com/bitcoin/bitcoin/pull/8916</span>
<a name="l-12"></a><span class="tm">19:05:28</span><span class="nk"> &lt;wumpus&gt;</span> this leaves #8499
<a name="l-13"></a><span class="tm">19:05:41</span><span class="nk"> &lt;BlueMatt&gt;</span> oh, sorry, 8916 is backports, meant 8499
<a name="l-14"></a><span class="tm">19:05:47</span><span class="nk"> &lt;sipa&gt;</span> close.
<a name="l-15"></a><span class="tm">19:05:48</span><span class="nk"> &lt;btcdrak&gt;</span> was 8393 backported yet?
<a name="l-16"></a><span class="tm">19:06:12</span><span class="nk"> &lt;wumpus&gt;</span> 0.13.0 wallet bug about importaddress and scriptpubkeys &lt;- issue id?
<a name="l-17"></a><span class="tm">19:06:40</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">btcdrak:</span> yes, that one is part of #8916
<a name="l-18"></a><span class="tm">19:06:43</span><span class="nk"> &lt;sipa&gt;</span> jl2012 has been writing a lot of tests for 8499, as there are a lot of edge cases. i believe they're all identified and fixable noe
<a name="l-19"></a><span class="tm">19:06:48</span><span class="nk"> &lt;BlueMatt&gt;</span> ok, so i guess hopefully by next meeting (or late this week) the final few commits on #8499 should be ready for review and we can finalize then?
<a name="l-20"></a><span class="tm">19:06:49</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">wumpus:</span> will file one soon
<a name="l-21"></a><span class="tm">19:07:44</span><span class="nk"> &lt;wumpus&gt;</span> so there's another blocker for 0.13.1? ok
<a name="l-22"></a><span class="tm">19:07:57</span><span class="nk"> &lt;sipa&gt;</span> it's part of 8499
<a name="l-23"></a><span class="tm">19:08:09</span><span class="nk"> &lt;sipa&gt;</span> will be fixed simulteneously
<a name="l-24"></a><span class="tm">19:08:24</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">wumpus:</span> bip9 parameters?
<a name="l-25"></a><span class="tm">19:08:58</span><span class="nk"> &lt;gmaxwell&gt;</span> BIP9 recommends it be set roughly a month after software release. I don't currently see a reason to deviate from that.
<a name="l-26"></a><span class="tm">19:09:01</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jtimon:</span> that's a topic suggestion I suppose?
<a name="l-27"></a><span class="tm">19:09:28</span><span class="nk"> &lt;gmaxwell&gt;</span> There should be some list discussion. I have been one on oneing with large users of Bitcoin for the last couple weeks.
<a name="l-28"></a><span class="tm">19:09:29</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">gmaxwell:</span> ack
<a name="l-29"></a><span class="tm">19:09:36</span><span class="nk"> &lt;instagibbs&gt;</span> So would the idea be to set it only at final release and not RC?
<a name="l-30"></a><span class="tm">19:09:56</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">instagibbs:</span> I think we would set it at RC and take a guess.
<a name="l-31"></a><span class="tm">19:09:56</span><span class="nk"> &lt;sipa&gt;</span> it should be set for RC
<a name="l-32"></a><span class="tm">19:10:06</span><span class="nk"> &lt;sipa&gt;</span> but if a new RC is needed, we can jncrement
<a name="l-33"></a><span class="tm">19:10:10</span><span class="nk"> &lt;instagibbs&gt;</span> Ok.
<a name="l-34"></a><span class="tm">19:10:36</span><span class="nk"> &lt;gmaxwell&gt;</span> it doesn't have to be precise. The strong invariaent is that the start date should be _after_ the release. :)
<a name="l-35"></a><span class="tm">19:10:43</span><span class="nk"> &lt;michagogo&gt;</span> Worst case, if there are a lot of RCs that can be adjusted before the last one
<a name="l-36"></a><span class="tm">19:10:48</span><span class="nk"> &lt;wumpus&gt;</span> there can't be changes between the last RC and final
<a name="l-37"></a><span class="tm">19:10:53</span><span class="nk"> &lt;MarcoFalke&gt;</span> Huh? If we just increment it may cause a consensus bug?
<a name="l-38"></a><span class="tm">19:10:55</span><span class="nk"> &lt;wumpus&gt;</span> so it must be set for every RC too, I'm afraid
<a name="l-39"></a><span class="tm">19:10:56</span><span class="nk"> &lt;gmaxwell&gt;</span> keeping in mind that it'll take minimum of 4 weeks to activate post start.
<a name="l-40"></a><span class="tm">19:11:03</span><span class="nk"> &lt;MarcoFalke&gt;</span> I mean nodes don't agree
<a name="l-41"></a><span class="tm">19:11:04</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">MarcoFalke:</span> assuming miners run RCs
<a name="l-42"></a><span class="tm">19:11:07</span><span class="nk"> &lt;michagogo&gt;</span> But the last RC is generally within a week or so of final release
<a name="l-43"></a><span class="tm">19:11:12</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">MarcoFalke:</span> people should not use rc apart from testing
<a name="l-44"></a><span class="tm">19:11:13</span><span class="nk"> &lt;michagogo&gt;</span> (Or, the other way around...)
<a name="l-45"></a><span class="tm">19:11:16</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">michagogo:</span> yes
<a name="l-46"></a><span class="tm">19:11:21</span><span class="nk"> &lt;sipa&gt;</span> indeed
<a name="l-47"></a><span class="tm">19:11:21</span><span class="nk"> &lt;MarcoFalke&gt;</span> fine
<a name="l-48"></a><span class="tm">19:11:34</span><span class="nk"> &lt;sipa&gt;</span> when do we exoect 0.13.1rc1?
<a name="l-49"></a><span class="tm">19:11:37</span><span class="nk"> &lt;gmaxwell&gt;</span> so I would recommend taking a best guess and changing it if release ends up past that date.
<a name="l-50"></a><span class="tm">19:11:38</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">BIP9 parameters</span>
<a name="l-51"></a><span class="tm">19:11:52</span><span class="nk"> &lt;cfields&gt;</span> whoops. Late, but made it.
<a name="l-52"></a><span class="tm">19:11:54</span><span class="nk"> &lt;BlueMatt&gt;</span> lets avoid setting it differently in different rcs
<a name="l-53"></a><span class="tm">19:11:58</span><span class="nk"> &lt;sdaftuar&gt;</span> i don't think we can just change bip9 params during the rc process
<a name="l-54"></a><span class="tm">19:12:03</span><span class="nk"> &lt;sdaftuar&gt;</span> that's a consensus change
<a name="l-55"></a><span class="tm">19:12:11</span><span class="nk"> &lt;sdaftuar&gt;</span> we almost screwed this up in 0.13.0
<a name="l-56"></a><span class="tm">19:12:12</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">sipa:</span> all depends on #8499 + the bug fix for 0.13.1
<a name="l-57"></a><span class="tm">19:12:34</span><span class="nk"> &lt;wumpus&gt;</span> I'd do 0.13.1 today if it was not for those
<a name="l-58"></a><span class="tm">19:12:36</span><span class="nk"> &lt;sipa&gt;</span> i'm sure we'll be ready next seek
<a name="l-59"></a><span class="tm">19:12:50</span><span class="nk"> &lt;sipa&gt;</span> (i'd like to say tomorrow, but who knows)
<a name="l-60"></a><span class="tm">19:12:58</span><span class="nk"> &lt;morcos&gt;</span> it seems not a bad idea to take a conservative estimate of the length of time the RC process will take, add a month to that and use the date.
<a name="l-61"></a><span class="tm">19:13:00</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">proposal:</span> do not set activation parameters in rc1, set them in an rc when we believe we are ready (ie last rc + 1 week or so) and then let that sit for a week before final tag
<a name="l-62"></a><span class="tm">19:13:10</span><span class="nk"> &lt;morcos&gt;</span> so use 2 months after the time you issue the first RC for instance?
<a name="l-63"></a><span class="tm">19:13:13</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">morcos:</span> that makes sense to me
<a name="l-64"></a><span class="tm">19:13:15</span><span class="nk"> &lt;wumpus&gt;</span> I usually estimate a month for the RC phase, for major releases
<a name="l-65"></a><span class="tm">19:13:16</span><span class="nk"> &lt;btcdrak&gt;</span> <span class="hi">BlueMatt:</span> +1
<a name="l-66"></a><span class="tm">19:13:16</span><span class="nk"> &lt;instagibbs&gt;</span> I think picking and staying with it is best.
<a name="l-67"></a><span class="tm">19:13:22</span><span class="nk"> &lt;morcos&gt;</span> or right, like matt said
<a name="l-68"></a><span class="tm">19:13:23</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">BlueMatt:</span> the RC's are supposted to be the same as the release.
<a name="l-69"></a><span class="tm">19:13:25</span><span class="nk"> &lt;btcdrak&gt;</span> There is no way rc1 will pass anyway.
<a name="l-70"></a><span class="tm">19:13:31</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">btcdrak:</span> unsure.
<a name="l-71"></a><span class="tm">19:13:33</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">gmaxwell:</span> then lets call the first rc beta :)
<a name="l-72"></a><span class="tm">19:13:34</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">btcdrak:</span> ha ha
<a name="l-73"></a><span class="tm">19:13:54</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">btcdrak:</span> I think it's likely to do so, I've spent a lot more time on 0.13 branch than master lately.
<a name="l-74"></a><span class="tm">19:14:02</span><span class="nk"> &lt;jtimon&gt;</span> BlueMatt's solution is fine as well
<a name="l-75"></a><span class="tm">19:14:04</span><span class="nk"> &lt;wumpus&gt;</span> the last RC is supposed to be the same as the release, you could do a RC that is not *really* a release candidate I guess ...
<a name="l-76"></a><span class="tm">19:14:18</span><span class="nk"> &lt;BlueMatt&gt;</span> ok, so new proposal: lets do a "beta" phase first, and then graduate to rc?
<a name="l-77"></a><span class="tm">19:14:18</span><span class="nk"> &lt;michagogo&gt;</span> Prerc1?
<a name="l-78"></a><span class="tm">19:14:22</span><span class="nk"> &lt;michagogo&gt;</span> rc0?
<a name="l-79"></a><span class="tm">19:14:23</span><span class="nk"> &lt;btcdrak&gt;</span> 0.13.1pre
<a name="l-80"></a><span class="tm">19:14:42</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">btcdrak:</span> if we know rc1 won't pass how come we make it an rc?
<a name="l-81"></a><span class="tm">19:14:52</span><span class="nk"> &lt;gmaxwell&gt;</span> I think we're over thinking it. The purpose of the starting time was simply to avoid the case where there was a risk that a feature got activated before any released version of the implementation for it existed at all-- because we found that miners were running master/candidates.
<a name="l-82"></a><span class="tm">19:14:55</span><span class="nk"> &lt;wumpus&gt;</span> I guess we can use beta now that bitcoin core itself is no longer beta
<a name="l-83"></a><span class="tm">19:15:00</span><span class="nk"> &lt;michagogo&gt;</span> <span class="hi">jtimon:</span> its more like, if it passes, something's "wrong"
<a name="l-84"></a><span class="tm">19:15:10</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">michagogo:</span> not following
<a name="l-85"></a><span class="tm">19:15:12</span><span class="nk"> &lt;wumpus&gt;</span> thoug hI"d prefer just calling it rc, all tooling is setup for that
<a name="l-86"></a><span class="tm">19:15:14</span><span class="nk"> &lt;michagogo&gt;</span> Like when your code compiles without errors the first time
<a name="l-87"></a><span class="tm">19:15:15</span><span class="nk"> &lt;sipa&gt;</span> i don't like this. just pick a date reasonably far in the future and do rc1
<a name="l-88"></a><span class="tm">19:15:26</span><span class="nk"> &lt;BlueMatt&gt;</span> so set parameters to 1.5 months for rc1? or 2?
<a name="l-89"></a><span class="tm">19:15:27</span><span class="nk"> &lt;gmaxwell&gt;</span> Considering that there is a _minimum_ 4032 block interval from startdate to activation, there is a LOT of safty margin here.
<a name="l-90"></a><span class="tm">19:15:37</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">sipa:</span> +1
<a name="l-91"></a><span class="tm">19:15:45</span><span class="nk"> &lt;wumpus&gt;</span> just estimate 2 months for the RC process
<a name="l-92"></a><span class="tm">19:15:46</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">sipa:</span> agreed. Otherwise there's no way we'll be able to explain the semantics.
<a name="l-93"></a><span class="tm">19:15:48</span><span class="nk"> &lt;wumpus&gt;</span> that should be ample enough
<a name="l-94"></a><span class="tm">19:15:48</span><span class="nk"> &lt;BlueMatt&gt;</span> ok, I'm ok with something like 2 months from rc1
<a name="l-95"></a><span class="tm">19:15:55</span><span class="nk"> &lt;btcdrak&gt;</span> most releases take 3 or 4 rcs, so if we set the date for 5 weeks on rc1 that would cover it I am sure.
<a name="l-96"></a><span class="tm">19:15:58</span><span class="nk"> &lt;morcos&gt;</span> or is wumpus saying 3 months
<a name="l-97"></a><span class="tm">19:16:07</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">michagogo:</span> you mean we expect to have more than one? sure, but we shouldn't make it rc if there's known bugs or required changes is my point
<a name="l-98"></a><span class="tm">19:16:09</span><span class="nk"> &lt;BlueMatt&gt;</span> ehh, I'd rather be conservative btcdrak
<a name="l-99"></a><span class="tm">19:16:12</span><span class="nk"> &lt;wumpus&gt;</span> no, two months is fine
<a name="l-100"></a><span class="tm">19:16:15</span><span class="nk"> &lt;morcos&gt;</span> 2 months for process, one for it to be released
<a name="l-101"></a><span class="tm">19:16:17</span><span class="nk"> &lt;BlueMatt&gt;</span> i mean I'm ok with 1.5 months, too
<a name="l-102"></a><span class="tm">19:16:17</span><span class="nk"> &lt;achow101&gt;</span> I think two months after rc1 is fine
<a name="l-103"></a><span class="tm">19:16:27</span><span class="nk"> &lt;michagogo&gt;</span> <span class="hi">jtimon:</span> well, obviously the goal is for rc1 to = final
<a name="l-104"></a><span class="tm">19:16:28</span><span class="nk"> &lt;morcos&gt;</span> ok, i'm fine with either, less than 2 is a bit rushing it
<a name="l-105"></a><span class="tm">19:16:33</span><span class="nk"> &lt;btcdrak&gt;</span> this is like an auction.
<a name="l-106"></a><span class="tm">19:16:40</span><span class="nk"> &lt;gmaxwell&gt;</span> There are many people who _urgently_ want segwit activated yesturday.
<a name="l-107"></a><span class="tm">19:16:40</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">michagogo:</span> undesrtood
<a name="l-108"></a><span class="tm">19:16:42</span><span class="nk"> &lt;wumpus&gt;</span> usually I estimate 1 month for rc1-&gt;final, but this maybe be more involved than usual, dunno
<a name="l-109"></a><span class="tm">19:16:46</span><span class="nk"> &lt;michagogo&gt;</span> Just like when you write code the goal is for it to compile perfectly the first time :P
<a name="l-110"></a><span class="tm">19:16:56</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">wumpus:</span> or less, hopefully
<a name="l-111"></a><span class="tm">19:17:05</span><span class="nk"> &lt;BlueMatt&gt;</span> :p
<a name="l-112"></a><span class="tm">19:17:07</span><span class="nk"> &lt;sipa&gt;</span> i think this rc will be much shorter
<a name="l-113"></a><span class="tm">19:17:14</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">BlueMatt:</span> well this is a minor release, so it *should* be shorter
<a name="l-114"></a><span class="tm">19:17:17</span><span class="nk"> &lt;gmaxwell&gt;</span> I think it would be fine to set start date 1 month after final. Even then if RCs take two months we still will not be at risk of activation before a software release.
<a name="l-115"></a><span class="tm">19:17:18</span><span class="nk"> &lt;btcdrak&gt;</span> well we could just commit to sleepless nights to make release happen on time :-p
<a name="l-116"></a><span class="tm">19:17:30</span><span class="nk"> &lt;sdaftuar&gt;</span> <span class="hi">gmaxwell:</span> the downside to rushing this out is that there's less time for everyone to test with the updated policy changes on testnet
<a name="l-117"></a><span class="tm">19:17:32</span><span class="nk"> &lt;gmaxwell&gt;</span> er 1 month after RC1 not final.
<a name="l-118"></a><span class="tm">19:17:44</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">sdaftuar:</span> most of them are no-ops on testnet.
<a name="l-119"></a><span class="tm">19:17:55</span><span class="nk"> &lt;sdaftuar&gt;</span> <span class="hi">gmaxwell:</span> how so?
<a name="l-120"></a><span class="tm">19:17:58</span><span class="nk"> &lt;gmaxwell&gt;</span> though I have been running with the patches applied and testnet set to enforce policy.
<a name="l-121"></a><span class="tm">19:18:06</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">sdaftuar:</span> testnet doesn't enforce standardness rules.
<a name="l-122"></a><span class="tm">19:18:13</span><span class="nk"> &lt;BlueMatt&gt;</span> i mean can we get testnet miners to do compact-enforcement today?
<a name="l-123"></a><span class="tm">19:18:13</span><span class="nk"> &lt;sdaftuar&gt;</span> yes it does, for the script checks
<a name="l-124"></a><span class="tm">19:18:17</span><span class="nk"> &lt;BlueMatt&gt;</span> that should be most of it?
<a name="l-125"></a><span class="tm">19:18:35</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">phantomcircuit:</span> Lightsword please do that ^
<a name="l-126"></a><span class="tm">19:18:38</span><span class="nk"> &lt;btcdrak&gt;</span> well remember there are non Core nodes mining on testnet
<a name="l-127"></a><span class="tm">19:18:43</span><span class="nk"> &lt;sdaftuar&gt;</span> <span class="hi">gmaxwell:</span> am i missing something?
<a name="l-128"></a><span class="tm">19:19:00</span><span class="nk"> &lt;btcdrak&gt;</span> I think lightsword's miner must be off, none of roasbeef's txs are getting mined.
<a name="l-129"></a><span class="tm">19:19:06</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">sdaftuar:</span> no, though not all the new policy is scriptchecks.
<a name="l-130"></a><span class="tm">19:19:23</span><span class="nk"> &lt;gmaxwell&gt;</span> In any case, I don't think we should decide for sure here, we should make a list post.
<a name="l-131"></a><span class="tm">19:19:23</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">btcdrak:</span> I'll be firing mine up in the next day or two
<a name="l-132"></a><span class="tm">19:19:38</span><span class="nk"> &lt;sdaftuar&gt;</span> <span class="hi">gmaxwell:</span> sure not all, but the most significant ones IMO
<a name="l-133"></a><span class="tm">19:19:41</span><span class="nk"> &lt;jtimon&gt;</span> prosed topic, maybe not for today: testnet4
<a name="l-134"></a><span class="tm">19:19:50</span><span class="nk"> &lt;btcdrak&gt;</span> There are 4k unconfirmed "spam" txs https://testnet.smartbit.com.au/
<a name="l-135"></a><span class="tm">19:20:09</span><span class="nk"> &lt;gmaxwell&gt;</span> But I think we should be suggesting 1month post rc1 as the starting time, when we do. Unless something specific comes up that suggests otherwise.
<a name="l-136"></a><span class="tm">19:20:13</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">gmaxwell:</span> agreed, for now lets recommend 1.25 months from rc1 release on the list, and get some testnet miners spun up mining #8499 today so that we're less worried about sdaftuar's objection?
<a name="l-137"></a><span class="tm">19:20:35</span><span class="nk"> &lt;gmaxwell&gt;</span> Keep in mind, in prior softforks the starting time was infinitely far in the past. And BIP9 made its way through 95% of its development with no starting time.
<a name="l-138"></a><span class="tm">19:20:42</span><span class="nk"> &lt;michagogo&gt;</span> <span class="hi">BlueMatt:</span> perhaps 50 days for roundness
<a name="l-139"></a><span class="tm">19:20:44</span><span class="nk"> &lt;michagogo&gt;</span> Or 55
<a name="l-140"></a><span class="tm">19:20:56</span><span class="nk"> &lt;sipa&gt;</span> nov 15.
<a name="l-141"></a><span class="tm">19:21:10</span><span class="nk"> &lt;michagogo&gt;</span> That's good too
<a name="l-142"></a><span class="tm">19:21:16</span><span class="nk"> &lt;btcdrak&gt;</span> great.
<a name="l-143"></a><span class="tm">19:21:23</span><span class="nk"> &lt;michagogo&gt;</span> (A birthday gift for my brother, perhaps?)
<a name="l-144"></a><span class="tm">19:21:23</span><span class="nk"> &lt;gmaxwell&gt;</span> it was added because for one prior sf we ended up with &gt;30% hashpower weeks before release... and that was for a SF with no quieting period... so it had a real risk of activating basically before a release.
<a name="l-145"></a><span class="tm">19:22:07</span><span class="nk"> &lt;wumpus&gt;</span> I doubt that's a risk for segwit
<a name="l-146"></a><span class="tm">19:22:16</span><span class="nk"> &lt;gmaxwell&gt;</span> Agreed.
<a name="l-147"></a><span class="tm">19:22:19</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">gmaxwell:</span> I think it's useful beyond that
<a name="l-148"></a><span class="tm">19:22:41</span><span class="nk"> &lt;btcdrak&gt;</span> yes, the fact BIP9 requires 4-6 weeks to kick in realistically, makes it less of an issue
<a name="l-149"></a><span class="tm">19:23:02</span><span class="nk"> &lt;sipa&gt;</span> nov 15 is close to a retarget
<a name="l-150"></a><span class="tm">19:23:06</span><span class="nk"> &lt;gmaxwell&gt;</span> 4-8 weeks with 6 weeks being the average if all miners immediately upgrade.
<a name="l-151"></a><span class="tm">19:23:08</span><span class="nk"> &lt;btcdrak&gt;</span> ok so Nov 15th it is?
<a name="l-152"></a><span class="tm">19:23:11</span><span class="nk"> &lt;sipa&gt;</span> maybe we want to pick a date just before a retarget
<a name="l-153"></a><span class="tm">19:23:35</span><span class="nk"> &lt;achow101&gt;</span> nov 15th sounds good (at 00:00 AM?)
<a name="l-154"></a><span class="tm">19:23:36</span><span class="nk"> &lt;btcdrak&gt;</span> <span class="hi">sipa:</span> yes and remember Bitfury are turning on a _lot_ of hash rate going forward
<a name="l-155"></a><span class="tm">19:23:38</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">btcdrak:</span> probably shouldn't be just setting it here, but just have a feel for what we think is reasonable.
<a name="l-156"></a><span class="tm">19:23:54 </span><span class="nka">* jtimon</span> <span class="ac">wishes we had chosen hieght instead of time not to wonder what will be close to retarget</span>
<a name="l-157"></a><span class="tm">19:24:11</span><span class="nk"> &lt;sipa&gt;</span> yes, let's propose on the ML
<a name="l-158"></a><span class="tm">19:24:16</span><span class="nk"> &lt;BlueMatt&gt;</span> ok, seems like we have rough consensus on a month after rc1 is probably a reasonable recommendation, so lets propose to the ml
<a name="l-159"></a><span class="tm">19:24:23</span><span class="nk"> &lt;instagibbs&gt;</span> Ack
<a name="l-160"></a><span class="tm">19:24:50</span><span class="nk"> &lt;wumpus&gt;</span> yes
<a name="l-161"></a><span class="tm">19:24:59</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">sipa:</span> do you want to do the list thing, or should I or?
<a name="l-162"></a><span class="tm">19:25:05</span><span class="nk"> &lt;sipa&gt;</span> i will
<a name="l-163"></a><span class="tm">19:25:08</span><span class="nk"> &lt;jtimon&gt;</span> ack on following up on the mailing list, it seems nobody is unhappy about either rc1 + 1 month nor rc2 + 2 month
<a name="l-164"></a><span class="tm">19:25:19</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#action </span><span class="cmdline">propose segwit activation parameters on the ML</span>
<a name="l-165"></a><span class="tm">19:25:20</span><span class="nk"> &lt;jtimon&gt;</span> nor 15 nov
<a name="l-166"></a><span class="tm">19:25:29</span><span class="nk"> &lt;BlueMatt&gt;</span> ok, next topic?
<a name="l-167"></a><span class="tm">19:25:49</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">testnet4 (jtimon)</span>
<a name="l-168"></a><span class="tm">19:26:03</span><span class="nk"> &lt;BlueMatt&gt;</span> why?
<a name="l-169"></a><span class="tm">19:26:08</span><span class="nk"> &lt;achow101&gt;</span> ^
<a name="l-170"></a><span class="tm">19:26:12</span><span class="nk"> &lt;wumpus&gt;</span> @jtimon
<a name="l-171"></a><span class="tm">19:26:16</span><span class="nk"> &lt;jtimon&gt;</span> well, I would prefer to discuss verifyBlock vs processBlock actually
<a name="l-172"></a><span class="tm">19:26:33</span><span class="nk"> &lt;wumpus&gt;</span> lol you proposed the topic
<a name="l-173"></a><span class="tm">19:26:42</span><span class="nk"> &lt;jtimon&gt;</span> but some people complained about testnet being unreliable
<a name="l-174"></a><span class="tm">19:27:00</span><span class="nk"> &lt;BlueMatt&gt;</span> isnt that a number of miners thing?
<a name="l-175"></a><span class="tm">19:27:04</span><span class="nk"> &lt;wumpus&gt;</span> do you have a concrete proposal to fix that?
<a name="l-176"></a><span class="tm">19:27:08</span><span class="nk"> &lt;gmaxwell&gt;</span> That has little to do with 'testnet4'  I think. It just is that testnet is not consistently mined.
<a name="l-177"></a><span class="tm">19:27:08</span><span class="nk"> &lt;sipa&gt;</span> i don't know that resetting would help
<a name="l-178"></a><span class="tm">19:27:11</span><span class="nk"> &lt;jtimon&gt;</span> my main interest would be to remove the special case for testnet on pow
<a name="l-179"></a><span class="tm">19:27:26</span><span class="nk"> &lt;BlueMatt&gt;</span> that would make it more unreliable?
<a name="l-180"></a><span class="tm">19:27:31</span><span class="nk"> &lt;jtimon&gt;</span> don't drop diff to 1, maybe just add a max difficulty or something simpler
<a name="l-181"></a><span class="tm">19:27:55</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">BlueMatt:</span> I doubts so
<a name="l-182"></a><span class="tm">19:28:09</span><span class="nk"> &lt;BlueMatt&gt;</span> i mean we added that rule because testnet was unreliable
<a name="l-183"></a><span class="tm">19:28:22</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">BlueMatt:</span> and did it solved it?
<a name="l-184"></a><span class="tm">19:28:25</span><span class="nk"> &lt;BlueMatt&gt;</span> though i have no intuition for properly setting a max testnet diff that is reasonable
<a name="l-185"></a><span class="tm">19:28:33</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">jtimon:</span> it made it an order of magnitude (or two) better
<a name="l-186"></a><span class="tm">19:28:38</span><span class="nk"> &lt;wumpus&gt;</span> yes, without it it is even worse
<a name="l-187"></a><span class="tm">19:28:44</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">BlueMatt:</span> fair enough
<a name="l-188"></a><span class="tm">19:28:44</span><span class="nk"> &lt;btcdrak&gt;</span> max diff would be a disaster
<a name="l-189"></a><span class="tm">19:28:51</span><span class="nk"> &lt;jtimon&gt;</span> maybe next topic?
<a name="l-190"></a><span class="tm">19:28:55</span><span class="nk"> &lt;sipa&gt;</span> we could live without the permanent reset bug, though
<a name="l-191"></a><span class="tm">19:29:01</span><span class="nk"> &lt;wumpus&gt;</span> any other topics?
<a name="l-192"></a><span class="tm">19:29:59</span><span class="nk"> &lt;wumpus&gt;</span> *crickets*
<a name="l-193"></a><span class="tm">19:30:37</span><span class="nk"> &lt;achow101&gt;</span> the prefinal alert that was supposed to happen but didn't?
<a name="l-194"></a><span class="tm">19:30:41</span><span class="nk"> &lt;wumpus&gt;</span> well, that concludes the meeting early I guess. Let's make sure we can have a 0.13.1rc1 by next week
<a name="l-195"></a><span class="tm">19:30:42</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">libconsensus:</span> verifyBlock vs processBlock (ie the latter takes care of reorgs, updates the utxo, etc)
<a name="l-196"></a><span class="tm">19:30:50</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">achow101:</span> suggested prefinal alert
<a name="l-197"></a><span class="tm">19:31:09</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">jtimon:</span> a lot of people would like us to have a signed testnet using the pluggable pow stuff that is in elements, so that it would have perfectly predictable blocks and perfectly predictable reorgs.
<a name="l-198"></a><span class="tm">19:31:37</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">achow101:</span> we need to write explination text for bitcoin.org and I haven't had time to do it and no one else has stepped up.
<a name="l-199"></a><span class="tm">19:31:44</span><span class="nk"> &lt;gmaxwell&gt;</span> I have an alert ready to go.
<a name="l-200"></a><span class="tm">19:31:49</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">gmaxwell:</span> I would be more than happy to put that in core if it's desirable, thanks for letting me know
<a name="l-201"></a><span class="tm">19:31:50</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">prefinal alert</span>
<a name="l-202"></a><span class="tm">19:31:52</span><span class="nk"> &lt;achow101&gt;</span> copy-paste from email
<a name="l-203"></a><span class="tm">19:32:25</span><span class="nk"> &lt;gmaxwell&gt;</span> Needs to have an explination of the alert system, why it's gone now. And a description of the future steps that we discussed here.
<a name="l-204"></a><span class="tm">19:33:04</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">achow101:</span> do you want to try drafting something? I would be happy to review/edit.
<a name="l-205"></a><span class="tm">19:33:15</span><span class="nk"> &lt;achow101&gt;</span> sure, I can try writing it
<a name="l-206"></a><span class="tm">19:33:58</span><span class="nk"> &lt;gmaxwell&gt;</span> sounds good.
<a name="l-207"></a><span class="tm">19:34:21</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#action </span><span class="cmdline">achow101 post about alert system for bitcoin.org</span>
<a name="l-208"></a><span class="tm">19:34:44</span><span class="nk"> &lt;wumpus&gt;</span> thanks
<a name="l-209"></a><span class="tm">19:34:56</span><span class="nk"> &lt;btcdrak&gt;</span> Just a random information topic, there is a segwit dev guide for downstream published here https://bitcoincore.org/en/segwit_wallet_dev/
<a name="l-210"></a><span class="tm">19:34:57</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">jtimon:</span> if we're going to do any 'new testnet thing' we should figure out how to extract the good test cases from the existing testnet. E.g. instrumenting for code coverage and syncing testnet while noting which transactions increased coverage.
<a name="l-211"></a><span class="tm">19:35:10</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">btcdrak:</span> awesome!
<a name="l-212"></a><span class="tm">19:35:31</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#link </span><span class="cmdline">segwit dev guide for downstream https://bitcoincore.org/en/segwit_wallet_dev/</span>
<a name="l-213"></a><span class="tm">19:35:57</span><span class="nk"> &lt;gmaxwell&gt;</span> we have other upcoming doc works. We should have a segwit deployment guide-- covering things like explaining how to setup perimiter nodes to shield unupgraded custom stuff-- ready at the start of the segwit queting period.
<a name="l-214"></a><span class="tm">19:36:11</span><span class="nk"> &lt;achow101&gt;</span> apparently no one but me knew that dev guide even existed...
<a name="l-215"></a><span class="tm">19:36:27</span><span class="nk"> &lt;gmaxwell&gt;</span> But we can get contributors outside of the regulars for this meeting, for the audience here advice on content would be good.
<a name="l-216"></a><span class="tm">19:36:31</span><span class="nk"> &lt;morcos&gt;</span> it seems to me a better way to make testnet usable is to just pool some funding to have some small but non-trivial hashpower running it rather than implement more differences in behavior from mainnet
<a name="l-217"></a><span class="tm">19:36:42</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">achow101:</span> a lot of good information exists but the knowledge of that information is pretty sparse
<a name="l-218"></a><span class="tm">19:36:53</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">achow101:</span> has always been a problem in bitcoin :(
<a name="l-219"></a><span class="tm">19:37:04</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">morcos:</span> the problem is that some clown pool will occasionally drop a petahash onto it an drive the difficulty up.
<a name="l-220"></a><span class="tm">19:37:05</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">gmaxwell:</span> is there any recommended tool for coverage in bitcoin core?
<a name="l-221"></a><span class="tm">19:37:35</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jtimon:</span> valgrind?
<a name="l-222"></a><span class="tm">19:37:44</span><span class="nk"> &lt;jcorgan&gt;</span> <span class="hi">gmaxwell:</span> i could likely help with some of the documentation work, if there is someone on the team to work with
<a name="l-223"></a><span class="tm">19:37:56</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">jtimon:</span> lcov works. But to get data inline like that some stunts involving gprof can be done.
<a name="l-224"></a><span class="tm">19:38:26</span><span class="nk"> &lt;gmaxwell&gt;</span> You can ask the gprof stuff to dump the current data with a function call, IIRC.. so presumably one could instrument doing that after processing each transaction.
<a name="l-225"></a><span class="tm">19:38:27</span><span class="nk"> &lt;jtimon&gt;</span> oh, I just recently starting using lcov, nice
<a name="l-226"></a><span class="tm">19:39:25</span><span class="nk"> &lt;gmaxwell&gt;</span> in any case, there are tests in testnet that do not exist in any unit test. It would be good to find most of them and be able to start out a new testnet where the first few hundred blocks excercise all of them.
<a name="l-227"></a><span class="tm">19:39:26</span><span class="nk"> &lt;Chris_Stewart_5&gt;</span> <span class="hi">gmaxwell:</span> Content on what docs? Segwit docs?
<a name="l-228"></a><span class="tm">19:39:34</span><span class="nk"> &lt;wumpus&gt;</span> after each block may be enough granularity
<a name="l-229"></a><span class="tm">19:40:12</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">Chris_Stewart_5:</span> on what materials should be covered in a deployment guide. For non-miners the only really important thing that comes to mind to me is instructions on setting up peremiter nodes.
<a name="l-230"></a><span class="tm">19:40:31</span><span class="nk"> &lt;Chris_Stewart_5&gt;</span> Gotcha.
<a name="l-231"></a><span class="tm">19:40:40</span><span class="nk"> &lt;gmaxwell&gt;</span> but no doubt there are other things.
<a name="l-232"></a><span class="tm">19:40:51</span><span class="nk"> &lt;sdaftuar&gt;</span> all the policy changes!
<a name="l-233"></a><span class="tm">19:41:05</span><span class="nk"> &lt;Chris_Stewart_5&gt;</span> <span class="hi">jtimon:</span> I think cfields has some sort of website that shows lcov coverage
<a name="l-234"></a><span class="tm">19:41:12</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">sdaftuar:</span> fair enough, though I expect those to be 99% invisible, but good to cover them more.
<a name="l-235"></a><span class="tm">19:41:41</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">Chris_Stewart_5:</span> that was a one-time thing for segwit. Just need to fix up the makefile stuff so it can be auto-generated again
<a name="l-236"></a><span class="tm">19:43:00</span><span class="nk"> &lt;wumpus&gt;</span> gah, looks like my backport of #8393 in #8916 is failing the RPC tests
<a name="l-237"></a><span class="tm">19:43:13</span><span class="nk"> &lt;sdaftuar&gt;</span> <span class="hi">wumpus:</span> i'm running locally... compact blocks again
<a name="l-238"></a><span class="tm">19:43:35</span><span class="nk"> &lt;sdaftuar&gt;</span> <span class="hi">wumpus:</span> i can reproduce at least
<a name="l-239"></a><span class="tm">19:43:39</span><span class="nk"> &lt;wumpus&gt;</span> okay thanks!
<a name="l-240"></a><span class="tm">19:43:39</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">Chris_Stewart_5:</span> gmaxwell: awesome, maybe we should consider putting some lcov stuff as tooling? something like in https://github.com/jgriffiths/libwally-core#generating-a-coverage-report ? stupid people like me appreciate these things...
<a name="l-241"></a><span class="tm">19:44:38</span><span class="nk"> &lt;jtimon&gt;</span> maybe I should start with that before a nexttestnet, anyway, I'll come back to you and cfields, we're mixing topics
<a name="l-242"></a><span class="tm">19:44:52</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jtimon:</span> recently created a bitcoin-maintainer-tools repo https://github.com/laanwj/bitcoin-maintainer-tools, would make sense to add to that
<a name="l-243"></a><span class="tm">19:45:24</span><span class="nk"> &lt;Chris_Stewart_5&gt;</span> <span class="hi">jtimon:</span> I think it is an easy way to direct new developers where it might be easiest to contribute to, as they can easily see where we are lacking tests
<a name="l-244"></a><span class="tm">19:45:30</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">jtimon:</span> we have an --enable-lcov (or something like that). But it's broken atm.
<a name="l-245"></a><span class="tm">19:46:21</span><span class="nk"> &lt;jtimon&gt;</span> awesome, so there's work to be done here but there's a base, thank you guys
<a name="l-246"></a><span class="tm">19:46:26</span><span class="nk"> &lt;cfields&gt;</span> just need to get it fixed up again, shouldn't be too tough.
<a name="l-247"></a><span class="tm">19:46:36</span><span class="nk"> &lt;wumpus&gt;</span> we should probably create an issue for that
<a name="l-248"></a><span class="tm">19:46:50</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">wumpus:</span> will check that out, does it contain lcov too? maybe we should consid
<a name="l-249"></a><span class="tm">19:46:58</span><span class="nk"> &lt;gmaxwell&gt;</span> I haven't been too generally impressed with the utility of lcov on the bitcoin core codebase-- better than nothing I guess, but the branch coverage is full of BS unreachable branches due allocations in templaized container objects.
<a name="l-250"></a><span class="tm">19:47:07</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">s//wumpus:</span> will check that out
<a name="l-251"></a><span class="tm">19:47:10</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jtimon:</span> no, it currently contains only a tool for doing per-function binary comparison of builds
<a name="l-252"></a><span class="tm">19:47:52</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jtimon:</span> but I'm generally for sharing our tools more
<a name="l-253"></a><span class="tm">19:48:15</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">gmaxwell:</span> yeah, for a new testchain, take into account that we're still using globals and some hardcoding
<a name="l-254"></a><span class="tm">19:48:49</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jtimon:</span> I have a lot of other ones, but need to clean up and disentangle them from other local stuff first before I can publish them
<a name="l-255"></a><span class="tm">19:49:19</span><span class="nk"> &lt;wumpus&gt;</span> (for example for creating release notes)
<a name="l-256"></a><span class="tm">19:49:30</span><span class="nk"> &lt;jtimon&gt;</span> things like https://github.com/bitcoin/bitcoin/pull/8855 should help with new testchains
<a name="l-257"></a><span class="tm">19:50:18</span><span class="nk"> &lt;gmaxwell&gt;</span> so... another topic, probably mostly for a future meeting.. sybil attacks.
<a name="l-258"></a><span class="tm">19:50:20</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">wumpus:</span> nice, we can incorporate those upstream little by little
<a name="l-259"></a><span class="tm">19:50:21</span><span class="nk"> &lt;wumpus&gt;</span> anyhow let's end the meeting, seems we're not really on a topic anymore
<a name="l-260"></a><span class="tm">19:50:34</span><span class="nk"> &lt;gmaxwell&gt;</span> I am now seeing 60+ connections within seconds of starting a node..
<a name="l-261"></a><span class="tm">19:50:36</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jtimon:</span> I really prefer having meta-tools in a separate repo
<a name="l-262"></a><span class="tm">19:51:17</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jtimon:</span> as they're not really on the same release cycle, and go through lots of changes that don't really need to go through the bitcoin core review process
<a name="l-263"></a><span class="tm">19:51:22</span><span class="nk"> &lt;jtimon&gt;</span> <span class="hi">wumpus:</span> well I don't have a strong opinion, you can always document where those tools are somewhere
<a name="l-264"></a><span class="tm">19:51:29</span><span class="nk"> &lt;wumpus&gt;</span> yes
<a name="l-265"></a><span class="tm">19:51:36</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">sybil attacks</span>
<a name="l-266"></a><span class="tm">19:51:42</span><span class="nk"> &lt;gmaxwell&gt;</span> Does anyone here have any back channels into amazon operations? I'd like to know why they are unresponsive to abuse conmplaints regarding this user.
<a name="l-267"></a><span class="tm">19:52:44</span><span class="nk"> &lt;gmaxwell&gt;</span> So background: someone is mass connecting many times in parallel to all reachable ondes, pretending, poorly, to be a mix of different spv clients.
<a name="l-268"></a><span class="tm">19:52:45</span><span class="nk"> &lt;wumpus&gt;</span> reminds me I should still file a complaint for that
<a name="l-269"></a><span class="tm">19:53:01</span><span class="nk"> &lt;jtimon&gt;</span> suggested topic: libconsensus: verifyBlock vs processBlock (ie the latter takes care of reorgs, updates the utxo, etc)
<a name="l-270"></a><span class="tm">19:53:18</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">sybil01:</span> oh no :)
<a name="l-271"></a><span class="tm">19:53:33</span><span class="nk"> &lt;gmaxwell&gt;</span> Because of the connection management stuff implemented a few versions ago, it doesn't disrupt the network much (these peers can get evicted). But I presume their motivation is to undermine user's privacy through observation.
<a name="l-272"></a><span class="tm">19:54:04</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">gmaxwell:</span> i mean if we fix the privacy leak that makes it useful to do this, maybe they'll go away :)
<a name="l-273"></a><span class="tm">19:54:23</span><span class="nk"> &lt;CodeShark&gt;</span> hi guys...traveling and can't catch entire meeting but will read thr scrollback :)
<a name="l-274"></a><span class="tm">19:54:25</span><span class="nk"> &lt;wumpus&gt;</span> that must be the reason to do this, it would be an extremely ineffective DoS
<a name="l-275"></a><span class="tm">19:54:29</span><span class="nk"> &lt;gmaxwell&gt;</span> Right now, connecting more times in parallel will leak more information and we can reduce that leackage further with already planned future relay improvements. ... which I've only not finished due to focusing on testing segwit and whatnot.
<a name="l-276"></a><span class="tm">19:54:47</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">wumpus:</span> it would be a potent DOS prior to 0.12-ish.
<a name="l-277"></a><span class="tm">19:55:13</span><span class="nk"> &lt;gmaxwell&gt;</span> but yes, I presume they'll stop if we further reduce the privacy leaks. So thats the obvious thing to do.
<a name="l-278"></a><span class="tm">19:55:18</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> but it seems they open a fixed number of connections per node. A DoS would exhaust slots
<a name="l-279"></a><span class="tm">19:55:27</span><span class="nk"> &lt;btcdrak&gt;</span> can we ban multiple connection from the same IP? that would be a start against this particular AWS spy.
<a name="l-280"></a><span class="tm">19:55:34</span><span class="nk"> &lt;gmaxwell&gt;</span> presumably they were doing this before, and prior improvements killed the leaks unless they connected multiple times which made them visible.
<a name="l-281"></a><span class="tm">19:55:48</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">btcdrak:</span> meh, they'll move to routing through different ips
<a name="l-282"></a><span class="tm">19:56:01</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">btcdrak:</span> it would be pretty harmful to do that network wide as there are many instutions and even a country where all connections come from one ip.
<a name="l-283"></a><span class="tm">19:56:03</span><span class="nk"> &lt;wumpus&gt;</span> theyalready use multiple IPs, though they also do multiple connections per IP form some reason
<a name="l-284"></a><span class="tm">19:56:17</span><span class="nk"> &lt;gmaxwell&gt;</span> and they do already use multiple IPs. and they changed them after people started circulating banlists.
<a name="l-285"></a><span class="tm">19:56:53</span><span class="nk"> &lt;BlueMatt&gt;</span> several folks now ban aws nodes wholesale, which sucks because aws nodes are useful due to DDoS protection built-in
<a name="l-286"></a><span class="tm">19:56:58</span><span class="nk"> &lt;wumpus&gt;</span> but yes IPs are cheap anyway, as long as there's profit to be made from this they'll not go away. THough I personally ban multiple connects from a single IP on my nodes.
<a name="l-287"></a><span class="tm">19:56:59</span><span class="nk"> &lt;BlueMatt&gt;</span> (including some of my nodes)
<a name="l-288"></a><span class="tm">19:57:06</span><span class="nk"> &lt;gmaxwell&gt;</span> I'd like to avoid hardcoding netblock specific rules "one connection per IP from amazon IP space" and whatnot. :)
<a name="l-289"></a><span class="tm">19:57:19</span><span class="nk"> &lt;gmaxwell&gt;</span> so in any case, reducing the leakage is always a good move and we should do that.
<a name="l-290"></a><span class="tm">19:57:23</span><span class="nk"> &lt;BlueMatt&gt;</span> yup
<a name="l-291"></a><span class="tm">19:57:36</span><span class="nk"> &lt;sipa&gt;</span> i think we can make the relay delays use deterministic randomness based on netgroup, so nodes in the same range will see the same thing
<a name="l-292"></a><span class="tm">19:57:57</span><span class="nk"> &lt;sipa&gt;</span> and many more ideas
<a name="l-293"></a><span class="tm">19:58:02</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">gmaxwell:</span> for one in every X connections, we could proxy and route messages together for peer-pairs. Then they'd poison their own stats :p
<a name="l-294"></a><span class="tm">19:58:02</span><span class="nk"> &lt;sipa&gt;</span> probably not for this meeting
<a name="l-295"></a><span class="tm">19:58:23</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">cfields:</span> That won't work for reasons I'd rather not say in public, unfortunately.
<a name="l-296"></a><span class="tm">19:58:28</span><span class="nk"> &lt;btcdrak&gt;</span> 1 min 30 seconds to go
<a name="l-297"></a><span class="tm">19:58:46</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">cfields:</span> they don't actually ever send anything
<a name="l-298"></a><span class="tm">19:58:51</span><span class="nk"> &lt;gmaxwell&gt;</span> well it would help. but not do quite what you think.. still could be useful.. many fun things to discuss.
<a name="l-299"></a><span class="tm">19:59:24</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">cfields:</span> they just negotiate the connection, answer pings, and listen. Though poisining the info sounds like fun.
<a name="l-300"></a><span class="tm">20:00:01</span><span class="nk"> &lt;instagibbs&gt;</span> ding ding
<a name="l-301"></a><span class="tm">20:00:01</span><span class="nk"> &lt;sipa&gt;</span> DANG
<a name="l-302"></a><span class="tm">20:00:05</span><span class="nk"> &lt;btcdrak&gt;</span> dong
<a name="l-303"></a><span class="tm">20:00:07</span><span class="nk"> &lt;wumpus&gt;</span> and yes, netblock specific rules are not an option, that'd be Hearnian
<a name="l-304"></a><span class="tm">20:00:10</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#endmeeting</span><span class="cmdline"></span></pre>
</body></html>
