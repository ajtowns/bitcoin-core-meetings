<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<title>#bitcoin-core-dev log</title>
<style type="text/css">
/* For the .log.html */
pre { /*line-height: 125%;*/
      white-space: pre-wrap; }
body { background: #f0f0f0; }

body .tm  { color: #007020 }                      /* time */
body .nk  { color: #062873; font-weight: bold }   /* nick, regular */
body .nka { color: #007020; font-weight: bold }  /* action nick */
body .ac  { color: #00A000 }                      /* action line */
body .hi  { color: #4070a0 }                 /* hilights */
/* Things to make particular MeetBot commands stick out */
body .topic     { color: #007020; font-weight: bold }
body .topicline { color: #000080; font-weight: bold }
body .cmd       { color: #007020; font-weight: bold }
body .cmdline  { font-weight: bold }

</style>
</head>

<body>
<pre><a name="l-1"></a><span class="tm">19:00:17</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#startmeeting</span><span class="cmdline"></span>
<a name="l-2"></a><span class="tm">19:00:17</span><span class="nk"> &lt;lightningbot&gt;</span> Meeting started Thu Apr 13 19:00:17 2017 UTC.  The chair is wumpus. Information about MeetBot at http://wiki.debian.org/MeetBot.
<a name="l-3"></a><span class="tm">19:00:17</span><span class="nk"> &lt;lightningbot&gt;</span> Useful Commands: #action #agreed #help #info #idea #link #topic.
<a name="l-4"></a><span class="tm">19:00:25</span><span class="nk"> &lt;morcos&gt;</span> roger
<a name="l-5"></a><span class="tm">19:00:28</span><span class="nk"> &lt;sdaftuar&gt;</span> hello
<a name="l-6"></a><span class="tm">19:00:30</span><span class="nk"> &lt;CodeShark&gt;</span> hi
<a name="l-7"></a><span class="tm">19:00:32</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#bitcoin-core-dev </span><span class="cmdline">Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr btcdrak sdaftuar jtimon cfields petertodd kanzure blue</span>
<a name="l-8"></a><span class="tm">19:00:33</span><span class="nk"> &lt;wumpus&gt;</span> matt instagibbs phantomcircuit codeshark michagogo marcofalke paveljanik NicolasDorier jl2012 instagibbs
<a name="l-9"></a><span class="tm">19:00:38</span><span class="nk"> &lt;kanzure&gt;</span> hi.
<a name="l-10"></a><span class="tm">19:00:39</span><span class="nk"> &lt;wumpus&gt;</span> hello
<a name="l-11"></a><span class="tm">19:00:45</span><span class="nk"> &lt;cfields_&gt;</span> hi
<a name="l-12"></a><span class="tm">19:00:50</span><span class="nk"> &lt;instagibbs&gt;</span> hi
<a name="l-13"></a><span class="tm">19:00:55</span><span class="nk"> &lt;phantomcircuit&gt;</span> hi
<a name="l-14"></a><span class="tm">19:00:55</span><span class="nk"> &lt;wumpus&gt;</span> topics?
<a name="l-15"></a><span class="tm">19:01:02</span><span class="nk"> &lt;gmaxwell&gt;</span> Hi!
<a name="l-16"></a><span class="tm">19:01:13</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">0.14.1</span>
<a name="l-17"></a><span class="tm">19:01:20</span><span class="nk"> &lt;wumpus&gt;</span> anyone had report of bugs with the rc1?
<a name="l-18"></a><span class="tm">19:01:28</span><span class="nk"> &lt;cfields_&gt;</span> topic suggestion (after 0.14.1): scripted-diffs
<a name="l-19"></a><span class="tm">19:01:32</span><span class="nk"> &lt;gmaxwell&gt;</span> Push the button?
<a name="l-20"></a><span class="tm">19:01:47</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">wumpus:</span> you know that the bug reports only come after releasing it. :P
<a name="l-21"></a><span class="tm">19:01:55</span><span class="nk"> &lt;petertodd&gt;</span> hi
<a name="l-22"></a><span class="tm">19:02:12</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> the serious ones, yes :p
<a name="l-23"></a><span class="tm">19:02:25 </span><span class="nka">* cfields_</span> <span class="ac">scrambles to backport 10176</span>
<a name="l-24"></a><span class="tm">19:02:42</span><span class="nk"> &lt;wumpus&gt;</span> but apparently no one heard anything, so time to tag -final
<a name="l-25"></a><span class="tm">19:03:26</span><span class="nk"> &lt;cfields_&gt;</span> <span class="hi">wumpus:</span> wait for ^^ ? doing now.
<a name="l-26"></a><span class="tm">19:04:36</span><span class="nk"> &lt;wumpus&gt;</span> would be nice but I think that's not a regression since 0.14.0, so I'm not sure it warrants another rc
<a name="l-27"></a><span class="tm">19:05:15</span><span class="nk"> &lt;gmaxwell&gt;</span> can talk about post meeting, certantly nothing but that is in the air.
<a name="l-28"></a><span class="tm">19:05:40</span><span class="nk"> &lt;cfields_&gt;</span> ok
<a name="l-29"></a><span class="tm">19:05:40</span><span class="nk"> &lt;wumpus&gt;</span> if you think it's really important to do we can do another rc, no problem
<a name="l-30"></a><span class="tm">19:06:26</span><span class="nk"> &lt;gmaxwell&gt;</span> I really don't want to delay 0.14.1 further.
<a name="l-31"></a><span class="tm">19:06:36</span><span class="nk"> &lt;cfields_&gt;</span> <span class="hi">wumpus:</span> it was more of a since-we're-releasing-anyway kind of thing
<a name="l-32"></a><span class="tm">19:06:47</span><span class="nk"> &lt;wumpus&gt;</span> I'd prefer not to either; we should fix the wrapping, but could just was well be included for 0.14.2
<a name="l-33"></a><span class="tm">19:07:11</span><span class="nk"> &lt;wumpus&gt;</span> I agree it's something that should be backported to the 0.14 branch
<a name="l-34"></a><span class="tm">19:07:25</span><span class="nk"> &lt;morcos&gt;</span> no opinion either way here
<a name="l-35"></a><span class="tm">19:07:55</span><span class="nk"> &lt;wumpus&gt;</span> ok
<a name="l-36"></a><span class="tm">19:07:58</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">wumpus:</span> I think we should do it in 0.14
<a name="l-37"></a><span class="tm">19:08:00</span><span class="nk"> &lt;BlueMatt&gt;</span> .1
<a name="l-38"></a><span class="tm">19:08:10</span><span class="nk"> &lt;BlueMatt&gt;</span> because its free, we're already doing 0.14.1 and delaying 1 week isnt gonna kill us
<a name="l-39"></a><span class="tm">19:08:43</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">cfields_:</span> new fixes = new rc required
<a name="l-40"></a><span class="tm">19:08:49</span><span class="nk"> &lt;luke-jr&gt;</span> so not worth it in that scenario
<a name="l-41"></a><span class="tm">19:09:26</span><span class="nk"> &lt;BlueMatt_&gt;</span> But delaying 1 week isn't too bad
<a name="l-42"></a><span class="tm">19:09:40</span><span class="nk"> &lt;BlueMatt&gt;</span> wait, who is BlueMatt_ ?
<a name="l-43"></a><span class="tm">19:10:04 </span><span class="nka">* wumpus</span> <span class="ac">confused</span>
<a name="l-44"></a><span class="tm">19:10:23 </span><span class="nka">* BlueMatt_</span> <span class="ac">confused</span>
<a name="l-45"></a><span class="tm">19:10:24 </span><span class="nka">* BlueMatt</span> <span class="ac">has no idea who BlueMatt_ is</span>
<a name="l-46"></a><span class="tm">19:10:31</span><span class="nk"> &lt;instagibbs&gt;</span> :/
<a name="l-47"></a><span class="tm">19:10:31 </span><span class="nka">* BlueMatt_</span> <span class="ac">has no idea who BlueMatt is</span>
<a name="l-48"></a><span class="tm">19:10:47</span><span class="nk"> &lt;kanzure&gt;</span> different timeline, carry on.
<a name="l-49"></a><span class="tm">19:10:52</span><span class="nk"> &lt;luke-jr&gt;</span> whois says it's Matt Corallo
<a name="l-50"></a><span class="tm">19:11:03</span><span class="nk"> &lt;jcorgan&gt;</span> digital ocean ip
<a name="l-51"></a><span class="tm">19:11:12</span><span class="nk"> &lt;BlueMatt&gt;</span> not me
<a name="l-52"></a><span class="tm">19:11:19 </span><span class="nka">* BlueMatt</span> <span class="ac">has no digitalocean-lon vpses</span>
<a name="l-53"></a><span class="tm">19:11:42</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">wumpus:</span> shoot the T1000 (BlueMatt_) and lets move on.
<a name="l-54"></a><span class="tm">19:12:01</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">BlueMatt_:</span> this statement is false
<a name="l-55"></a><span class="tm">19:12:12</span><span class="nk"> &lt;spudowiar&gt;</span> <span class="hi">gmaxwell:</span> I think that's the fake aantonop IP
<a name="l-56"></a><span class="tm">19:12:27</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">sipa:</span> :D
<a name="l-57"></a><span class="tm">19:12:37</span><span class="nk"> &lt;spudowiar&gt;</span> 2017-04-11 21:37:35 -- Mode #bitcoin [+b *!*@178.62.68.75] by gmaxwell
<a name="l-58"></a><span class="tm">19:12:45</span><span class="nk"> &lt;gmaxwell&gt;</span> We've got lots more to discuss.
<a name="l-59"></a><span class="tm">19:12:50</span><span class="nk"> &lt;BlueMatt&gt;</span> yes, lets move on
<a name="l-60"></a><span class="tm">19:13:04</span><span class="nk"> &lt;wumpus&gt;</span> so have we decided anything?
<a name="l-61"></a><span class="tm">19:13:11</span><span class="nk"> &lt;sipa&gt;</span> 0.14.1 yay
<a name="l-62"></a><span class="tm">19:13:56</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">scripted-diffs</span>
<a name="l-63"></a><span class="tm">19:14:15</span><span class="nk"> &lt;cfields_&gt;</span> yes, let's finish discussing after the meeting
<a name="l-64"></a><span class="tm">19:14:45</span><span class="nk"> &lt;cfields_&gt;</span> ok, for reference: #10189
<a name="l-65"></a><span class="tm">19:14:46</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/10189 | devtools/net: add a verifier for scriptable changes. Use it to make CNode::id private. by theuni Â· Pull Request #10189 Â· bitcoin/bitcoin Â· GitHub
<a name="l-66"></a><span class="tm">19:14:46</span><span class="nk"> &lt;luke-jr&gt;</span> mv meeting/* after-meeting/
<a name="l-67"></a><span class="tm">19:15:01</span><span class="nk"> &lt;wumpus&gt;</span> haven't had a time to look at that one yet
<a name="l-68"></a><span class="tm">19:15:29</span><span class="nk"> &lt;cfields_&gt;</span> the idea is for changes that are basically just search/replace, to allow a short script to be placed in the commit message, and verified by Travis
<a name="l-69"></a><span class="tm">19:15:48</span><span class="nk"> &lt;cfields_&gt;</span> if they don't transform the old commit to the new one exactly, travis will reject
<a name="l-70"></a><span class="tm">19:15:58</span><span class="nk"> &lt;cfields_&gt;</span> the aim is to make those kinds of changes easier to review
<a name="l-71"></a><span class="tm">19:16:03</span><span class="nk"> &lt;BlueMatt&gt;</span> is ther emuch to discuss? I think its a good idea
<a name="l-72"></a><span class="tm">19:16:17</span><span class="nk"> &lt;cfields_&gt;</span> <span class="hi">example:</span> https://github.com/bitcoin/bitcoin/pull/10189/commits/d04198309e7e9b21de1604cc4321148b37a46347
<a name="l-73"></a><span class="tm">19:16:20</span><span class="nk"> &lt;luke-jr&gt;</span> IMO we shouldn't trust Travis
<a name="l-74"></a><span class="tm">19:16:33</span><span class="nk"> &lt;gmaxwell&gt;</span> I'm fine with it so long as we don't expect commiters to be running it.  I think someone should write a list of examples, because when I've made mass programatic changes I haven't done it in ways that would look too tidy in a commit message.
<a name="l-75"></a><span class="tm">19:16:34</span><span class="nk"> &lt;wumpus&gt;</span> would that execute arbitrary scripts in commit messages?
<a name="l-76"></a><span class="tm">19:16:36</span><span class="nk"> &lt;luke-jr&gt;</span> which is basicaly what you're suggesting)
<a name="l-77"></a><span class="tm">19:16:37</span><span class="nk"> &lt;cfields_&gt;</span> <span class="hi">BlueMatt:</span> well, you brought up a good point about the safety of random scripts
<a name="l-78"></a><span class="tm">19:16:47</span><span class="nk"> &lt;wumpus&gt;</span> seems kind of dangerous, I certainly wouldn't want to run that locally
<a name="l-79"></a><span class="tm">19:16:50</span><span class="nk"> &lt;cfields_&gt;</span> so i thought it might be worth discussing possibly constraining. Say to sed or so.
<a name="l-80"></a><span class="tm">19:17:00</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">gmaxwell:</span> there are already two examplesa
<a name="l-81"></a><span class="tm">19:17:03</span><span class="nk"> &lt;wumpus&gt;</span> I'm really careful what scripts I run, and wouldn't want anything to be run automatically
<a name="l-82"></a><span class="tm">19:17:13</span><span class="nk"> &lt;BlueMatt&gt;</span> and, yes, agree, jtimon suggested that they only be run if there is a scripted prefix in the commit's title
<a name="l-83"></a><span class="tm">19:17:15</span><span class="nk"> &lt;spudowiar&gt;</span> What sort of damage can be done with, say, sed or awk?
<a name="l-84"></a><span class="tm">19:17:16</span><span class="nk"> &lt;BlueMatt&gt;</span> to make it much more obvious
<a name="l-85"></a><span class="tm">19:17:28</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">wumpus:</span> granted, if you ever compile bitcoin you're running stuff within the repo anyway
<a name="l-86"></a><span class="tm">19:17:28</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">spudowiar:</span> arbritary damage.
<a name="l-87"></a><span class="tm">19:17:31</span><span class="nk"> &lt;spudowiar&gt;</span> I don't think you can do much with sed, not too sure about awk
<a name="l-88"></a><span class="tm">19:17:42</span><span class="nk"> &lt;spudowiar&gt;</span> <span class="hi">gmaxwell:</span> I mean dangerous code execution
<a name="l-89"></a><span class="tm">19:17:47</span><span class="nk"> &lt;cfields_&gt;</span> <span class="hi">wumpus:</span> sure, agreed. Travis can run them, and they can ofc be run manually as well.
<a name="l-90"></a><span class="tm">19:17:51</span><span class="nk"> &lt;sipa&gt;</span> try applying sed to /etc/init.d files
<a name="l-91"></a><span class="tm">19:17:57</span><span class="nk"> &lt;BlueMatt&gt;</span> see-also #10193
<a name="l-92"></a><span class="tm">19:17:58</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/10193 | scripted-diff: Remove #include foreach.hpp&gt; by jtimon Â· Pull Request #10193 Â· bitcoin bitcoin Â· GitHub
<a name="l-93"></a><span class="tm">19:18:01</span><span class="nk"> &lt;BlueMatt&gt;</span> (which is an example)
<a name="l-94"></a><span class="tm">19:18:09</span><span class="nk"> &lt;jcorgan&gt;</span> maybe there should only be a predefined set of opcodes in the script that can run, with a stack...oh wait
<a name="l-95"></a><span class="tm">19:18:14</span><span class="nk"> &lt;wumpus&gt;</span> just make it create a ~/.bashrc, runs next time
<a name="l-96"></a><span class="tm">19:18:22</span><span class="nk"> &lt;gmaxwell&gt;</span> in any case, if it's a travis mostly thing I think thats ducky. I would attempt to use it.
<a name="l-97"></a><span class="tm">19:18:27</span><span class="nk"> &lt;wumpus&gt;</span> I'd really prefer not to do this
<a name="l-98"></a><span class="tm">19:18:54</span><span class="nk"> &lt;luke-jr&gt;</span> I don't see the value in a Travis-"mostly" thing.
<a name="l-99"></a><span class="tm">19:18:55</span><span class="nk"> &lt;spudowiar&gt;</span> What are the benefits?
<a name="l-100"></a><span class="tm">19:18:56</span><span class="nk"> &lt;gmaxwell&gt;</span> I guess the reason to just not commit the script is that they're one time things?
<a name="l-101"></a><span class="tm">19:18:57</span><span class="nk"> &lt;cfields_&gt;</span> <span class="hi">gmaxwell:</span> that was my intention, yes.
<a name="l-102"></a><span class="tm">19:19:05</span><span class="nk"> &lt;luke-jr&gt;</span> it gives a false sense of review
<a name="l-103"></a><span class="tm">19:19:09</span><span class="nk"> &lt;wumpus&gt;</span> if there's a script then reviewers can manually verify it too, after reviewing the script
<a name="l-104"></a><span class="tm">19:19:13</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">gmaxwell:</span> yes, if they're one-time things its annoying to commit them, also annoying to lose them
<a name="l-105"></a><span class="tm">19:19:35</span><span class="nk"> &lt;sipa&gt;</span> when would these scripts be ru
<a name="l-106"></a><span class="tm">19:19:37</span><span class="nk"> &lt;sipa&gt;</span> n
<a name="l-107"></a><span class="tm">19:20:02</span><span class="nk"> &lt;cfields_&gt;</span> yes, i got the idea from bac5c9cf643e9333479ac667426d0b70f8f3aa7f
<a name="l-108"></a><span class="tm">19:20:05</span><span class="nk"> &lt;luke-jr&gt;</span> I wouldn't mind including the scripts in non-first-line commit msg, and having a dev tool to run them, but IMO better if Travis *doesn't* do it
<a name="l-109"></a><span class="tm">19:20:17</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">luke-jr:</span> but reviewers can test it. After reviewing the script. The challenge there is just that you normally don't critically review commit messages in that way. but it's kind of perfect-- in that its one time information about the change.
<a name="l-110"></a><span class="tm">19:20:23</span><span class="nk"> &lt;cfields_&gt;</span> https://github.com/bitcoin/bitcoin/commit/bac5c9cf643e9333479ac667426d0b70f8f3aa7f
<a name="l-111"></a><span class="tm">19:20:55</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">luke-jr:</span> the purpose of travis doing it is for feedback that you've formated it right and it runs on computers other than yours. Not as a review step.
<a name="l-112"></a><span class="tm">19:20:58</span><span class="nk"> &lt;cfields_&gt;</span> if we're going to include a transform in the message like that, I figured we may as well standardize it
<a name="l-113"></a><span class="tm">19:21:00</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">gmaxwell:</span> as long as reviewers do test it, and don't trust Travis
<a name="l-114"></a><span class="tm">19:21:02</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">cfields_:</span> the idea of that was to give reviewers a way to verify it, as well as make it easy for myself to repeat the work if it needs rebase
<a name="l-115"></a><span class="tm">19:21:03</span><span class="nk"> &lt;spudowiar&gt;</span> You could create format like `*.cpp *.h | s/boost::filesystem/fs/g`
<a name="l-116"></a><span class="tm">19:22:25</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">spudowiar:</span> little bobby tables will haunt you
<a name="l-117"></a><span class="tm">19:23:01</span><span class="nk"> &lt;luke-jr&gt;</span> lol
<a name="l-118"></a><span class="tm">19:23:02</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">gmaxwell:</span> note how this is rather like how a merkle sum tree works... the script is a function to transform input to output, and both input and final output are committed via the git commit object
<a name="l-119"></a><span class="tm">19:23:14</span><span class="nk"> &lt;cfields_&gt;</span> ok, put a different way, then: if it could be done so that it worked on nothing but a dummy git index, with no access to the filesystem, would that be more acceptable?
<a name="l-120"></a><span class="tm">19:23:37</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">cfields_:</span> if a transformation of the files could be perfectly sandboxed , I'd be all for it, but I'm kind of afraid of anything that will automatically execute scripts from commit messages, especially as most people review the code changes but not so much the messages :)
<a name="l-121"></a><span class="tm">19:23:46</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">cfields_:</span> I mean, with travis the compilation process can do anything anyway, so I don't see how this is a security risk on top of anything else
<a name="l-122"></a><span class="tm">19:23:53</span><span class="nk"> &lt;gmaxwell&gt;</span> I don't know that sandboxing this is worth the effort. If you want to do that, knock yourself out, I guess?
<a name="l-123"></a><span class="tm">19:23:53</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">cfields_:</span> that's true for your local dev setup too
<a name="l-124"></a><span class="tm">19:24:02</span><span class="nk"> &lt;wumpus&gt;</span> I don't think it's worth the effort, no
<a name="l-125"></a><span class="tm">19:24:18</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">wumpus:</span> that was my concern, hence why I like jtimon's suggestion of only doing it if, eg, the commit title starts with "AUTO-SCRIPT: "
<a name="l-126"></a><span class="tm">19:24:19</span><span class="nk"> &lt;BlueMatt&gt;</span> or something
<a name="l-127"></a><span class="tm">19:24:23</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">petertodd:</span> the only concern I have wrt security is that there is a new thing you need to review before running things. Not just the git diff but the commit messages.
<a name="l-128"></a><span class="tm">19:24:24</span><span class="nk"> &lt;BlueMatt&gt;</span> then its obvious from the first line of the commit
<a name="l-129"></a><span class="tm">19:24:25</span><span class="nk"> &lt;cfields_&gt;</span> <span class="hi">petertodd:</span> i agree. The concern here (I guess) is that we'd get a malicious script committed, then someone would run it locally.
<a name="l-130"></a><span class="tm">19:24:26</span><span class="nk"> &lt;BlueMatt&gt;</span> and you will see it
<a name="l-131"></a><span class="tm">19:24:57</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">cfields_:</span> but that's already a problem anyway: I can commit a malicious commit that adds rm -rf / to the makefile
<a name="l-132"></a><span class="tm">19:25:16</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">cfields_:</span> I dunno about your workflow, but I could be tricked by this, because I'll pull and git diff &lt;where I was before&gt;  which won't show me the commit message(s).
<a name="l-133"></a><span class="tm">19:25:32</span><span class="nk"> &lt;gmaxwell&gt;</span> otherwise I'd argue there is no change.
<a name="l-134"></a><span class="tm">19:25:45</span><span class="nk"> &lt;cfields_&gt;</span> <span class="hi">gmaxwell:</span> but it wouldn't touch anything in that case. You'd have to actively run it.
<a name="l-135"></a><span class="tm">19:25:51</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">petertodd:</span> you can, but changes to the makefile would be apparent to me at least
<a name="l-136"></a><span class="tm">19:25:51</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">gmaxwell:</span> so long as devs never have git hooks that run this automatically I think we're covered
<a name="l-137"></a><span class="tm">19:26:01</span><span class="nk"> &lt;spudowiar&gt;</span> Why not have a script that manually does these checks, prints out each commit message beginning with "AUTO-SCRIPT: " and the commands it would run and asks if you want to run them?
<a name="l-138"></a><span class="tm">19:26:08</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">wumpus:</span> right, but see my reply to gmaxwell above
<a name="l-139"></a><span class="tm">19:26:08</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">petertodd:</span> yea, I'm not too concerned.
<a name="l-140"></a><span class="tm">19:26:11</span><span class="nk"> &lt;wumpus&gt;</span> yes, as long as it's not executed automatically outside of travis it's fine
<a name="l-141"></a><span class="tm">19:26:21</span><span class="nk"> &lt;wumpus&gt;</span> I don't care what is done in travis, that is already somebody else's sandbox
<a name="l-142"></a><span class="tm">19:26:24</span><span class="nk"> &lt;cfields_&gt;</span> yes, that's the case as-is.
<a name="l-143"></a><span class="tm">19:26:26</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">wumpus:</span> +1
<a name="l-144"></a><span class="tm">19:26:28</span><span class="nk"> &lt;gmaxwell&gt;</span> oh actually too spudowiar's suggestion is good  unless run with --force the script could ask for confirmation.
<a name="l-145"></a><span class="tm">19:26:30</span><span class="nk"> &lt;cfields_&gt;</span> nothing is touched locally.
<a name="l-146"></a><span class="tm">19:26:50</span><span class="nk"> &lt;wumpus&gt;</span> my point was just that I just don't want e.g. github_merge.py to execute it automatically
<a name="l-147"></a><span class="tm">19:26:54</span><span class="nk"> &lt;wumpus&gt;</span> great
<a name="l-148"></a><span class="tm">19:27:08</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">wumpus:</span> yup, that'd be a bit crazy :)
<a name="l-149"></a><span class="tm">19:27:09</span><span class="nk"> &lt;cfields_&gt;</span> wait, please back up, I'm not sure if there's a communication breakdown here.
<a name="l-150"></a><span class="tm">19:27:47 </span><span class="nka">* sipa</span> <span class="ac">makes backup</span>
<a name="l-151"></a><span class="tm">19:27:49</span><span class="nk"> &lt;cfields_&gt;</span> as-is, this is travis-only. Nothing runs automatically anywhere but there.
<a name="l-152"></a><span class="tm">19:27:55</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">cfields_:</span> as said I haven't seen the actual PR, just rumors from this channel
<a name="l-153"></a><span class="tm">19:28:10</span><span class="nk"> &lt;spudowiar&gt;</span> Well, Travis can run it with --force, github_merge.py can run it without --force?
<a name="l-154"></a><span class="tm">19:28:14</span><span class="nk"> &lt;wumpus&gt;</span> yes makes sense to me then cfields_
<a name="l-155"></a><span class="tm">19:28:25</span><span class="nk"> &lt;spudowiar&gt;</span> Without --force, no actual commands are run
<a name="l-156"></a><span class="tm">19:28:29</span><span class="nk"> &lt;spudowiar&gt;</span> Unless you interactively say so
<a name="l-157"></a><span class="tm">19:28:34</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">spudowiar:</span> no need to make merge run it at all. just an extra review step available.
<a name="l-158"></a><span class="tm">19:28:35</span><span class="nk"> &lt;cfields_&gt;</span> <span class="hi">spudowiar:</span> there's nothing to run "it".
<a name="l-159"></a><span class="tm">19:28:43</span><span class="nk"> &lt;wumpus&gt;</span> no, github_merge.py won't run it at all, that is a merge script and shouldn't do anything else
<a name="l-160"></a><span class="tm">19:29:02</span><span class="nk"> &lt;wumpus&gt;</span> (I run that on the machine that has the gpg key, so I'm paranoid about it)
<a name="l-161"></a><span class="tm">19:29:10</span><span class="nk"> &lt;gmaxwell&gt;</span> But I do think it would be nice if when you manually run that review step it shows you what it's going to run.. to avoid my workflow issue example.
<a name="l-162"></a><span class="tm">19:29:12</span><span class="nk"> &lt;spudowiar&gt;</span> <span class="hi">cfields_:</span> I'm talking about a hypothetical script
<a name="l-163"></a><span class="tm">19:29:18</span><span class="nk"> &lt;spudowiar&gt;</span> <span class="hi">wumpus:</span> Buy a PGP smartcard :)
<a name="l-164"></a><span class="tm">19:29:47</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">spudowiar:</span> adversary still can cause the PGP smartcard to sign something you didn't aprove
<a name="l-165"></a><span class="tm">19:29:50</span><span class="nk"> &lt;wumpus&gt;</span> ok. seems a communication breakdown here.
<a name="l-166"></a><span class="tm">19:29:58</span><span class="nk"> &lt;wumpus&gt;</span> let's just review the PR, and talk about it again next week
<a name="l-167"></a><span class="tm">19:30:01</span><span class="nk"> &lt;gmaxwell&gt;</span> okay
<a name="l-168"></a><span class="tm">19:30:03</span><span class="nk"> &lt;cfields_&gt;</span> heh, yes please :)
<a name="l-169"></a><span class="tm">19:30:12</span><span class="nk"> &lt;sdaftuar&gt;</span> +1!
<a name="l-170"></a><span class="tm">19:30:17</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#action </span><span class="cmdline">review #10193</span>
<a name="l-171"></a><span class="tm">19:30:20</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/10193 | scripted-diff: Remove #include foreach.hpp&gt; by jtimon Â· Pull Request #10193 Â· bitcoin bitcoin Â· GitHub
<a name="l-172"></a><span class="tm">19:30:20</span><span class="nk"> &lt;morcos&gt;</span> good thing our trolling coordination doesn't suffer from these communication problems
<a name="l-173"></a><span class="tm">19:30:23</span><span class="nk"> &lt;wumpus&gt;</span> other topics?
<a name="l-174"></a><span class="tm">19:31:11</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#action </span><span class="cmdline">review #10189</span>
<a name="l-175"></a><span class="tm">19:31:12</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/10189 | devtools/net: add a verifier for scriptable changes. Use it to make CNode::id private. by theuni Â· Pull Request #10189 Â· bitcoin/bitcoin Â· GitHub
<a name="l-176"></a><span class="tm">19:31:19</span><span class="nk"> &lt;sdaftuar&gt;</span> topic suggestion: goals for 0.15
<a name="l-177"></a><span class="tm">19:31:40</span><span class="nk"> &lt;cfields_&gt;</span> good one.
<a name="l-178"></a><span class="tm">19:31:42</span><span class="nk"> &lt;BlueMatt&gt;</span> ok, so ryanofsky wanted to talk about multi-process, too, i think
<a name="l-179"></a><span class="tm">19:31:48</span><span class="nk"> &lt;BlueMatt&gt;</span> and, ofc, pr review targets for the week
<a name="l-180"></a><span class="tm">19:31:49</span><span class="nk"> &lt;BlueMatt&gt;</span> :)
<a name="l-181"></a><span class="tm">19:31:56</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">goals for 0.15</span>
<a name="l-182"></a><span class="tm">19:32:27</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">sdaftuar:</span> my interpretation of "goals for 0.15" is "everyone has their own goals, and should mention the PRs they want reviewed to further their goals as review priorities, and we should all help them :)"
<a name="l-183"></a><span class="tm">19:32:53</span><span class="nk"> &lt;gmaxwell&gt;</span> Per-txo dbcache and non-atomic flushing please...
<a name="l-184"></a><span class="tm">19:32:58</span><span class="nk"> &lt;wumpus&gt;</span> agree with BlueMatt, though people could state what their goals for 0.15 are
<a name="l-185"></a><span class="tm">19:33:01</span><span class="nk"> &lt;jonasschnelli&gt;</span> My goals for 0.15 are: HD auto-restore, Qt feebumper and multiwallet
<a name="l-186"></a><span class="tm">19:33:15</span><span class="nk"> &lt;spudowiar&gt;</span> Watch only HD wallets sound good for 0.15 :)
<a name="l-187"></a><span class="tm">19:33:20</span><span class="nk"> &lt;gmaxwell&gt;</span> and multiwallet.
<a name="l-188"></a><span class="tm">19:33:21</span><span class="nk"> &lt;jonasschnelli&gt;</span> Oh.. yes. That!
<a name="l-189"></a><span class="tm">19:33:26</span><span class="nk"> &lt;sdaftuar&gt;</span> <span class="hi">gmaxwell:</span> agreed, also i think it would be good to get the new fee estimation in place
<a name="l-190"></a><span class="tm">19:33:26</span><span class="nk"> &lt;jonasschnelli&gt;</span> (hd watch only)
<a name="l-191"></a><span class="tm">19:33:40</span><span class="nk"> &lt;BlueMatt&gt;</span> multithreaded net_processing (and wallet) with CValidationInterface generating callbacks into it
<a name="l-192"></a><span class="tm">19:33:54</span><span class="nk"> &lt;BlueMatt&gt;</span> ie disconnecting validation and everything else with CValidationInterface in betwene :)
<a name="l-193"></a><span class="tm">19:34:02</span><span class="nk"> &lt;sipa&gt;</span> when is 0.15 feature freeze?
<a name="l-194"></a><span class="tm">19:34:05</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">luke-jr:</span> are you planning to update the multiwallet prepare pull according to review comments, or should I take it over?
<a name="l-195"></a><span class="tm">19:34:07</span><span class="nk"> &lt;achow101&gt;</span> is replacing accounts with labels planned for 0.15?
<a name="l-196"></a><span class="tm">19:34:13</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">sdaftuar:</span> I was going to bring that up. I think that we really need a high level description of the algorithim that we could give to non-developers (e.g. academics) to review.  I don't know if that should hold the improvements but we need to get to that.
<a name="l-197"></a><span class="tm">19:34:20</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">luke-jr:</span> it's kind of blocking other things right now I think
<a name="l-198"></a><span class="tm">19:34:32</span><span class="nk"> &lt;morcos&gt;</span> yes, re: fee estimation.. i understand its a giant pain in the ass to review...  and for little perceived gain.  but i do think its worth it, and merging it sooner rather than later is better in case there are any edge case improvements needed.
<a name="l-199"></a><span class="tm">19:34:44</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">wumpus:</span> when I get home
<a name="l-200"></a><span class="tm">19:34:45</span><span class="nk"> &lt;BlueMatt&gt;</span> I do NOT think its little perceived gain
<a name="l-201"></a><span class="tm">19:34:50</span><span class="nk"> &lt;cfields_&gt;</span> my big goals are: finally move to libevent for connman, deterministic toolchain creator (so we can drop our reliance on ubuntu's toolchain)
<a name="l-202"></a><span class="tm">19:34:58</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#link </span><span class="cmdline">Release schedule for 0.15.0 https://github.com/bitcoin/bitcoin/issues/9961</span>
<a name="l-203"></a><span class="tm">19:35:00</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">cfields_:</span> woooh!
<a name="l-204"></a><span class="tm">19:35:06</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">morcos:</span> one of the topics discussed at the wallet dev meetup thing was about how shit fee estimates across the ecosystem are
<a name="l-205"></a><span class="tm">19:35:08</span><span class="nk"> &lt;wumpus&gt;</span> yes libevent please
<a name="l-206"></a><span class="tm">19:35:09</span><span class="nk"> &lt;BlueMatt&gt;</span> and bitcoin core is a big part of that
<a name="l-207"></a><span class="tm">19:35:10</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">gmaxwell:</span> heh... it's more art than science i think
<a name="l-208"></a><span class="tm">19:35:14</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">jonasschnelli:</span> I don't know about HD watch only, we have a lot of overhang in the HD change that isn't done yet. We really need to hammer out all these corner cases before we go adding more major new features in key management.
<a name="l-209"></a><span class="tm">19:35:24</span><span class="nk"> &lt;wumpus&gt;</span> I'd also really like to get the UNIX p2p/rpc stuff in
<a name="l-210"></a><span class="tm">19:35:35</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">gmaxwell:</span> can you explain "a lot"?
<a name="l-211"></a><span class="tm">19:35:41</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">morcos:</span> your previous warrants to me about weekend fee estimates in your new design being good represent a huge win for the ecosystem
<a name="l-212"></a><span class="tm">19:36:07</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">wumpus:</span> (tomorrow)
<a name="l-213"></a><span class="tm">19:36:09</span><span class="nk"> &lt;wumpus&gt;</span> it's all very low-risk and shouldn't affect non-unix-socket use cases
<a name="l-214"></a><span class="tm">19:36:11</span><span class="nk"> &lt;sdaftuar&gt;</span> <span class="hi">BlueMatt:</span> I also think the ability to return non-conservative (ie, lower) fee estimates is important
<a name="l-215"></a><span class="tm">19:36:17</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">jonasschnelli:</span> all the things related to recovery are broken and we even don't know how to fix some of them.
<a name="l-216"></a><span class="tm">19:36:18</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">BlueMatt:</span> yes, but exactly the kind of thing that need real world experimentation, b/c they change the real world conditions
<a name="l-217"></a><span class="tm">19:36:18</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">luke-jr:</span> thanks
<a name="l-218"></a><span class="tm">19:36:22</span><span class="nk"> &lt;sipa&gt;</span> i want pertxoutcache, remove memory peak at flushing, better dbcache eviction policy, ...
<a name="l-219"></a><span class="tm">19:36:44</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">gmaxwell:</span> Yes. I'm working on the recover (one of my 0.15 goals: "HD auto-restore")
<a name="l-220"></a><span class="tm">19:36:52</span><span class="nk"> &lt;BlueMatt&gt;</span> OKOK, so review priorities towards all these amazing things? whats up this week :)
<a name="l-221"></a><span class="tm">19:36:54</span><span class="nk"> &lt;sipa&gt;</span> oh, and segwit activated? pretty please?
<a name="l-222"></a><span class="tm">19:36:58</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">morcos:</span> right but there are incentives and security implications in the design, that deserve wider review than we'll get from people who will infer it from the code. Even if the description wasn't completely precise it would help.
<a name="l-223"></a><span class="tm">19:37:00</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">sipa:</span> lol
<a name="l-224"></a><span class="tm">19:37:08</span><span class="nk"> &lt;cfields_&gt;</span> <span class="hi">wumpus:</span> yes. I've looked over that and it kinda clashes with my libevent changes. But it makes sense to get yours in first, then I can adapt mine.
<a name="l-225"></a><span class="tm">19:37:22 </span><span class="nka">* BlueMatt</span> <span class="ac">registers #10179</span>
<a name="l-226"></a><span class="tm">19:37:23</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/10179 | Give CValidationInterface Support for calling notifications on the CScheduler Thread by TheBlueMatt Â· Pull Request #10179 Â· bitcoin/bitcoin Â· GitHub
<a name="l-227"></a><span class="tm">19:37:27</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">cfields_:</span> the RPC pull (the first one) shouldn't collide
<a name="l-228"></a><span class="tm">19:37:28</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">sipa:</span> would likely help to get 0.14.1 out...
<a name="l-229"></a><span class="tm">19:37:39</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">cfields_:</span> I'm fine with including that one only for now, it's most of the code
<a name="l-230"></a><span class="tm">19:37:40</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">gmaxwell:</span> ack
<a name="l-231"></a><span class="tm">19:37:46</span><span class="nk"> &lt;cfields_&gt;</span> <span class="hi">wumpus:</span> no, the other. But it's a non-issue either way.
<a name="l-232"></a><span class="tm">19:38:10</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">cfields_:</span> the p2p-over-unix-socket is a very small patch on top of that, Im fine with doing that after libevent which means it can share the code with the RPC path
<a name="l-233"></a><span class="tm">19:38:29</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">gmaxwell:</span> yes, writing up the high level design is actually simpler than explaining the actual implementation.  the high level design is pretty simple.. maybe i'll put more effort into the last commit which adds commentary
<a name="l-234"></a><span class="tm">19:38:31</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">cfields_:</span> though it depends on the time frame I guess
<a name="l-235"></a><span class="tm">19:38:40</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">morcos:</span> I think that would be really helpful.
<a name="l-236"></a><span class="tm">19:38:46</span><span class="nk"> &lt;cfields_&gt;</span> sounds good.
<a name="l-237"></a><span class="tm">19:38:59</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">morcos:</span> Also for general review, I've lost track of the overall design of the estimator.
<a name="l-238"></a><span class="tm">19:39:11</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">morcos:</span> i would like to see a 1-page document explaining what it tries to accomplish
<a name="l-239"></a><span class="tm">19:39:20</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">morcos:</span> in any case I strongly support improving it, the current one is dumb on weekends.
<a name="l-240"></a><span class="tm">19:39:25</span><span class="nk"> &lt;cfields_&gt;</span> <span class="hi">sipa:</span> let's activate segwit after the meeting. We only have 20 min left :p
<a name="l-241"></a><span class="tm">19:39:32</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">cfields_:</span> ack
<a name="l-242"></a><span class="tm">19:39:37</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#action </span><span class="cmdline">activate segwit</span>
<a name="l-243"></a><span class="tm">19:39:41</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">sipa:</span> ok
<a name="l-244"></a><span class="tm">19:39:45</span><span class="nk"> &lt;gmaxwell&gt;</span> jinx
<a name="l-245"></a><span class="tm">19:39:59</span><span class="nk"> &lt;sipa&gt;</span> (i have no clue how the estimator works, or ever worked, beside "something with buckets")
<a name="l-246"></a><span class="tm">19:40:04</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">gmaxwell:</span> yes this is much better on weekends (optionally)
<a name="l-247"></a><span class="tm">19:40:06</span><span class="nk"> &lt;instagibbs&gt;</span> ack on explanation, I was asking really dumb questions about it yesterday, may help
<a name="l-248"></a><span class="tm">19:40:22</span><span class="nk"> &lt;gmaxwell&gt;</span> So we should bring up again per-txo and non-atomic flushing.  These changes are straight forward but call for a lot of heroic crash testing.
<a name="l-249"></a><span class="tm">19:41:01</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">gmaxwell:</span> I'm waiting for non-atomic to support disconnects
<a name="l-250"></a><span class="tm">19:41:05</span><span class="nk"> &lt;BlueMatt&gt;</span> then I'll re-review :)
<a name="l-251"></a><span class="tm">19:41:41</span><span class="nk"> &lt;bitcoin-git&gt;</span> [13bitcoin] 15jnewbery opened pull request #10204: [rpc] rename disconnectnode argument (06master...06rename_disconnect_node_argument) 02https://github.com/bitcoin/bitcoin/pull/10204
<a name="l-252"></a><span class="tm">19:42:00</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">gmaxwell:</span> agree, it needs to support reorgs
<a name="l-253"></a><span class="tm">19:42:08</span><span class="nk"> &lt;sipa&gt;</span> also... even harder to test
<a name="l-254"></a><span class="tm">19:42:28</span><span class="nk"> &lt;cfields_&gt;</span> high-level question about per-txo: what's the desired/expected outcome when downgrading from 0.15 to 0.14 ?
<a name="l-255"></a><span class="tm">19:42:33</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">sipa:</span> hm? with the current code we finish the flush all at once.
<a name="l-256"></a><span class="tm">19:42:50</span><span class="nk"> &lt;gmaxwell&gt;</span> needing to support reorgs is only an issue with the changes we discussed post per-txo.
<a name="l-257"></a><span class="tm">19:43:20</span><span class="nk"> &lt;MarcoFalke&gt;</span> <span class="hi">wumpus:</span> The pull jnewbery just opened could go into 0.14.1 if we do another rc anyway
<a name="l-258"></a><span class="tm">19:43:32</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">gmaxwell:</span> a crash in the middle a flush after a disconnect cannot be recovered from with the current code
<a name="l-259"></a><span class="tm">19:43:32</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">MarcoFalke:</span> yep
<a name="l-260"></a><span class="tm">19:43:37</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">cfields_:</span> per-txo cannot be downgraded. reindex. Gotta take the cost at some point.  Non-atomic is downgradable on clean shutdown, reindex otherwise.
<a name="l-261"></a><span class="tm">19:43:48</span><span class="nk"> &lt;jnewbery&gt;</span> MarcoFalke has suggested that I split off the non-backwards compatible rpc argument name change from #10143 into its own PR so it can be backported
<a name="l-262"></a><span class="tm">19:43:50</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/10143 | [net] Allow disconnectnode RPC to be called with node id by jnewbery Â· Pull Request #10143 Â· bitcoin/bitcoin Â· GitHub
<a name="l-263"></a><span class="tm">19:43:58</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">sipa:</span> gotcha.
<a name="l-264"></a><span class="tm">19:44:31</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">cfields_:</span> We're going to have to take a non-downgradable change for per-txo at some point, I don't think never doing it is a realistic option, the improvement is too significant.
<a name="l-265"></a><span class="tm">19:44:33</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jnewbery:</span> makes sense, it's still fairly safe to rename named arguments now, but they should be backported
<a name="l-266"></a><span class="tm">19:45:15</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">cfields_:</span> the overall changes to the dbcache are too burdensom to realisitcally support a version that can support both.
<a name="l-267"></a><span class="tm">19:45:35</span><span class="nk"> &lt;sipa&gt;</span> i still wish for non-atomic flush in 0.14.2
<a name="l-268"></a><span class="tm">19:45:38</span><span class="nk"> &lt;cfields_&gt;</span> <span class="hi">gmaxwell:</span> sure, makes sense. is it worth trying to slip in a bit of smarts into 0.14.1/0.14.2 gracefully saying that (in the event of an attempted downgrade) the format has changed?
<a name="l-269"></a><span class="tm">19:45:41 </span><span class="nka">* sipa</span> <span class="ac">keeps dreaming</span>
<a name="l-270"></a><span class="tm">19:46:02</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">cfields_:</span> yes, that would be more reasonable than getting a generic corruption message.
<a name="l-271"></a><span class="tm">19:46:10</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">cfields_:</span> yes, something for 0.14.2
<a name="l-272"></a><span class="tm">19:46:12</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">cfields_:</span> we could add a change in 0.14 that would make explicit downgrade easy
<a name="l-273"></a><span class="tm">19:46:13</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">sipa:</span> too big a change
<a name="l-274"></a><span class="tm">19:46:18</span><span class="nk"> &lt;wumpus&gt;</span> no more new things for 0.14.1 please
<a name="l-275"></a><span class="tm">19:46:19</span><span class="nk"> &lt;cfields_&gt;</span> .2, ignore for .1.
<a name="l-276"></a><span class="tm">19:46:32</span><span class="nk"> &lt;gmaxwell&gt;</span> "Your database format is from the future, so sad for you. Please run reindex."
<a name="l-277"></a><span class="tm">19:46:35</span><span class="nk"> &lt;cfields_&gt;</span> <span class="hi">wumpus:</span> sorry, realized my mistake too late :)
<a name="l-278"></a><span class="tm">19:46:47</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">morcos:</span> i said wish, not demand :)
<a name="l-279"></a><span class="tm">19:47:24</span><span class="nk"> &lt;sdaftuar&gt;</span> <span class="hi">sipa:</span> feature freeze for 0.15 is 2017-07-16
<a name="l-280"></a><span class="tm">19:47:30</span><span class="nk"> &lt;luke-jr&gt;</span> sh AI sipa in 0.14.2
<a name="l-281"></a><span class="tm">19:47:44</span><span class="nk"> &lt;gmaxwell&gt;</span> T1000 is back.
<a name="l-282"></a><span class="tm">19:47:45</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">sdaftuar:</span> yeah, i saw, wumpus gave link
<a name="l-283"></a><span class="tm">19:48:06</span><span class="nk"> &lt;luke-jr&gt;</span> I wish*
<a name="l-284"></a><span class="tm">19:48:34</span><span class="nk"> &lt;gmaxwell&gt;</span> /mode #bitcoin-dev +b *!*@178.62.68.75
<a name="l-285"></a><span class="tm">19:48:39</span><span class="nk"> &lt;luke-jr_&gt;</span> :(
<a name="l-286"></a><span class="tm">19:48:52</span><span class="nk"> &lt;luke-jr_&gt;</span> I can't think of a good nick :(
<a name="l-287"></a><span class="tm">19:49:00</span><span class="nk"> &lt;wumpus&gt;</span> apparently we need to make meetings invite-to-speak only
<a name="l-288"></a><span class="tm">19:49:17</span><span class="nk"> &lt;wumpus&gt;</span> stupid childish trolls are why we can't have nice things
<a name="l-289"></a><span class="tm">19:49:17</span><span class="nk"> &lt;kanzure&gt;</span> you used wrong ip address last time
<a name="l-290"></a><span class="tm">19:49:36</span><span class="nk"> &lt;spudowiar&gt;</span> <span class="hi">wumpus:</span> If you did that, I wouldn't be able to participate :(
<a name="l-291"></a><span class="tm">19:49:40</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">wumpus:</span> lets discuss in the meta meeting. :P
<a name="l-292"></a><span class="tm">19:49:45</span><span class="nk"> &lt;luke-jr_&gt;</span> <span class="hi">spudowiar:</span> Well, no one gives a fuck
<a name="l-293"></a><span class="tm">19:49:52</span><span class="nk"> &lt;cfields_&gt;</span> <span class="hi">kanzure:</span> no need, they're easy to spot. just ignore.
<a name="l-294"></a><span class="tm">19:49:56</span><span class="nk"> &lt;gmaxwell&gt;</span> (after the meeting)
<a name="l-295"></a><span class="tm">19:50:19</span><span class="nk"> &lt;gmaxwell&gt;</span> in any case, lots of good things in flight. I think progress for 15 is good right now.
<a name="l-296"></a><span class="tm">19:50:26</span><span class="nk"> &lt;BlueMatt&gt;</span> ok, so 10 minutes left
<a name="l-297"></a><span class="tm">19:50:28</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">ryanofsky:</span> ?
<a name="l-298"></a><span class="tm">19:50:33</span><span class="nk"> &lt;BlueMatt&gt;</span> did you want to talk about multi-proces
<a name="l-299"></a><span class="tm">19:50:43</span><span class="nk"> &lt;BlueMatt&gt;</span> also please folks list your review-priority for this week :)
<a name="l-300"></a><span class="tm">19:50:55</span><span class="nk"> &lt;spudowiar&gt;</span> If that gets merged I will hug ryanofsky :)
<a name="l-301"></a><span class="tm">19:50:59</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">spudowiar:</span> I don't see why not; would just make it more work to invite everyone
<a name="l-302"></a><span class="tm">19:51:11</span><span class="nk"> &lt;ryanofsky&gt;</span> not sure, what there is to say, #10102 is not complete, but the code that's there could use some review
<a name="l-303"></a><span class="tm">19:51:12</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/10102 | bitcoin-qt: spawn bitcoind and communicate over pipe (Experimental, WIP) by ryanofsky Â· Pull Request #10102 Â· bitcoin/bitcoin Â· GitHub
<a name="l-304"></a><span class="tm">19:51:20</span><span class="nk"> &lt;spudowiar&gt;</span> <span class="hi">wumpus:</span> No one would invite me :(
<a name="l-305"></a><span class="tm">19:51:36</span><span class="nk"> &lt;sipa&gt;</span> i'm not sure what the appeal of multi process is
<a name="l-306"></a><span class="tm">19:51:37</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">multiprocess</span>
<a name="l-307"></a><span class="tm">19:51:47</span><span class="nk"> &lt;wumpus&gt;</span> process isolation
<a name="l-308"></a><span class="tm">19:52:00</span><span class="nk"> &lt;sipa&gt;</span> i'd like to see the wallet go into a separate process from the networking
<a name="l-309"></a><span class="tm">19:52:03</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">sipa:</span> #10102
<a name="l-310"></a><span class="tm">19:52:04</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/10102 | bitcoin-qt: spawn bitcoind and communicate over pipe (Experimental, WIP) by ryanofsky Â· Pull Request #10102 Â· bitcoin/bitcoin Â· GitHub
<a name="l-311"></a><span class="tm">19:52:18</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">sipa:</span> then review my PRs, those do the first step of splitting it off neatly
<a name="l-312"></a><span class="tm">19:52:26</span><span class="nk"> &lt;cfields_&gt;</span> <span class="hi">ryanofsky:</span> I've been wanting to split out net into a separate process, but the barrier was creating an IPC. So I'm all for it.
<a name="l-313"></a><span class="tm">19:52:29</span><span class="nk"> &lt;BlueMatt&gt;</span> then we can use ryanofsky's multiprocess stuff to do the process :)
<a name="l-314"></a><span class="tm">19:52:31</span><span class="nk"> &lt;wumpus&gt;</span> not having the gui and the rest in one address space would be a good start
<a name="l-315"></a><span class="tm">19:52:32</span><span class="nk"> &lt;sipa&gt;</span> that that's qt from the rest
<a name="l-316"></a><span class="tm">19:52:49</span><span class="nk"> &lt;sipa&gt;</span> that seems like a pointless gimmick to me
<a name="l-317"></a><span class="tm">19:53:01</span><span class="nk"> &lt;jonasschnelli&gt;</span> Yes. The wallet seems to be more important.
<a name="l-318"></a><span class="tm">19:53:06</span><span class="nk"> &lt;wumpus&gt;</span> sigh
<a name="l-319"></a><span class="tm">19:53:11</span><span class="nk"> &lt;gmaxwell&gt;</span> If it could disconect and reconnect it would have some value.
<a name="l-320"></a><span class="tm">19:53:15</span><span class="nk"> &lt;ryanofsky&gt;</span> agreed the wallet is more important
<a name="l-321"></a><span class="tm">19:53:18 </span><span class="nka">* BlueMatt</span> <span class="ac">wasnt sure whether folks would like the many-process approach, over two-processes (wallet, and other)</span>
<a name="l-322"></a><span class="tm">19:53:29</span><span class="nk"> &lt;jonasschnelli&gt;</span> not saying the Qt part is not important
<a name="l-323"></a><span class="tm">19:53:41</span><span class="nk"> &lt;ryanofsky&gt;</span> reason for starting with qt is that wallet work will depend on matt's changes
<a name="l-324"></a><span class="tm">19:53:41</span><span class="nk"> &lt;jnewbery&gt;</span> I'd like one process per wallet for multi-wallet
<a name="l-325"></a><span class="tm">19:53:44</span><span class="nk"> &lt;spudowiar&gt;</span> Oh, I thought that was wallet as well (my offer of hug has been withdrawn, ryanofsky)
<a name="l-326"></a><span class="tm">19:53:54</span><span class="nk"> &lt;wumpus&gt;</span> the gui has more pressing problems though: too much happens synchronous with the core in the GUI loop
<a name="l-327"></a><span class="tm">19:54:05</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">wumpus:</span> thats a good point
<a name="l-328"></a><span class="tm">19:54:09</span><span class="nk"> &lt;ryanofsky&gt;</span> and qt seemed like it might be a less controversial place to start since we already have separate bitcoind and bitcoin-qt executables
<a name="l-329"></a><span class="tm">19:54:18</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">ryanofsky:</span> yes I agree
<a name="l-330"></a><span class="tm">19:54:44</span><span class="nk"> &lt;cfields_&gt;</span> i suspect this will probably go down like the scripted-diffs discussion. Maybe we should assign ourselves homework to read the PR fully and discuss next week?
<a name="l-331"></a><span class="tm">19:54:48</span><span class="nk"> &lt;jonasschnelli&gt;</span> Architectural wise: splitting of Qt makes more sense.. security: wallet. Splitting of the wallet with something similar to an ssh/gpg-agent shouldn't be very complicated.
<a name="l-332"></a><span class="tm">19:55:03</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">ryanofsky:</span> would make sense to not have them share all that code
<a name="l-333"></a><span class="tm">19:55:03</span><span class="nk"> &lt;sipa&gt;</span> hmm, i withdraw my comment about it being pointless
<a name="l-334"></a><span class="tm">19:55:10</span><span class="nk"> &lt;gmaxwell&gt;</span> I've read the PR.
<a name="l-335"></a><span class="tm">19:55:35</span><span class="nk"> &lt;wumpus&gt;</span> also having one example of IPC between process could make other splits easier
<a name="l-336"></a><span class="tm">19:55:40</span><span class="nk"> &lt;gmaxwell&gt;</span> But this is not a good design.
<a name="l-337"></a><span class="tm">19:55:46</span><span class="nk"> &lt;gmaxwell&gt;</span> as such an example.
<a name="l-338"></a><span class="tm">19:55:58</span><span class="nk"> &lt;jnewbery&gt;</span> 5 minutes left.
<a name="l-339"></a><span class="tm">19:55:59</span><span class="nk"> &lt;jnewbery&gt;</span> Suggested topic: PR review requests
<a name="l-340"></a><span class="tm">19:56:11</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> have you commented about the design in the PR?
<a name="l-341"></a><span class="tm">19:56:20</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">high-priority PR review requests</span>
<a name="l-342"></a><span class="tm">19:56:33</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="cmd">#10179</span><span class="cmdline"></span>
<a name="l-343"></a><span class="tm">19:56:34</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/10179 | Give CValidationInterface Support for calling notifications on the CScheduler Thread by TheBlueMatt Â· Pull Request #10179 Â· bitcoin/bitcoin Â· GitHub
<a name="l-344"></a><span class="tm">19:56:34</span><span class="nk"> &lt;BlueMatt&gt;</span> for me
<a name="l-345"></a><span class="tm">19:57:09</span><span class="nk"> &lt;sipa&gt;</span> <span class="cmd">#9792 </span><span class="cmdline">plz</span>
<a name="l-346"></a><span class="tm">19:57:11</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/9792 | FastRandomContext improvements and switch to ChaCha20 by sipa Â· Pull Request #9792 Â· bitcoin/bitcoin Â· GitHub
<a name="l-347"></a><span class="tm">19:57:12</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">wumpus:</span> #9942 can be merged i think which will at least make the rest of the fee estimation changes smaller to review
<a name="l-348"></a><span class="tm">19:57:13</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/9942 | Refactor CBlockPolicyEstimator by morcos Â· Pull Request #9942 Â· bitcoin/bitcoin Â· GitHub
<a name="l-349"></a><span class="tm">19:57:18</span><span class="nk"> &lt;spudowiar&gt;</span> <span class="hi">wumpus:</span> For external signing, currently messing about with external command, using stdio but other IPC example would be useful
<a name="l-350"></a><span class="tm">19:57:24</span><span class="nk"> &lt;spudowiar&gt;</span> Oops, topic's moved on, sorry
<a name="l-351"></a><span class="tm">19:57:26</span><span class="nk"> &lt;gmaxwell&gt;</span> (What this PR does is pulls in a compat library to just break the function boundaries, to work across processes, it is not an actual IPC.  And for just making the GUI more concurrent and perhaps reconnectable that fine.  But that is not how we should seperate the wallet.
<a name="l-352"></a><span class="tm">19:57:31</span><span class="nk"> &lt;gmaxwell&gt;</span> )
<a name="l-353"></a><span class="tm">19:57:42</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">wumpus:</span> I can comment more if I haven't.
<a name="l-354"></a><span class="tm">19:58:10</span><span class="nk"> &lt;spudowiar&gt;</span> Wallet communicating over the JSON-RPC interface would be quite good, but then you have the issue that wallet functionality is provided over the JSON-RPC interface?
<a name="l-355"></a><span class="tm">19:58:24</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">morcos:</span> BlueMatt: ok added them to the project  https://github.com/bitcoin/bitcoin/projects/8
<a name="l-356"></a><span class="tm">19:58:27</span><span class="nk"> &lt;jnewbery&gt;</span> I'd like some review on #10044. The concept had some ACKs in the meeting a few weeks ago.
<a name="l-357"></a><span class="tm">19:58:28</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/10044 | Run functional tests in `make check` by jnewbery Â· Pull Request #10044 Â· bitcoin/bitcoin Â· GitHub
<a name="l-358"></a><span class="tm">19:58:41</span><span class="nk"> &lt;wumpus&gt;</span> also sipa's
<a name="l-359"></a><span class="tm">19:58:46</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">wumpus:</span> ok, in 9942 case i think it has enough acks already
<a name="l-360"></a><span class="tm">19:59:03</span><span class="nk"> &lt;cfields_&gt;</span> <span class="hi">jnewbery:</span> will do.
<a name="l-361"></a><span class="tm">19:59:16</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jnewbery:</span> also added
<a name="l-362"></a><span class="tm">19:59:35</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">spudowiar:</span> JSON-RPC already provides wallet..
<a name="l-363"></a><span class="tm">20:00:00</span><span class="nk"> &lt;BlueMatt&gt;</span> DONG
<a name="l-364"></a><span class="tm">20:00:04</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#endmeeting</span><span class="cmdline"></span></pre>
</body></html>
