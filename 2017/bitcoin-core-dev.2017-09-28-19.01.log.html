<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<title>#bitcoin-core-dev log</title>
<style type="text/css">
/* For the .log.html */
pre { /*line-height: 125%;*/
      white-space: pre-wrap; }
body { background: #f0f0f0; }

body .tm  { color: #007020 }                      /* time */
body .nk  { color: #062873; font-weight: bold }   /* nick, regular */
body .nka { color: #007020; font-weight: bold }  /* action nick */
body .ac  { color: #00A000 }                      /* action line */
body .hi  { color: #4070a0 }                 /* hilights */
/* Things to make particular MeetBot commands stick out */
body .topic     { color: #007020; font-weight: bold }
body .topicline { color: #000080; font-weight: bold }
body .cmd       { color: #007020; font-weight: bold }
body .cmdline  { font-weight: bold }

</style>
</head>

<body>
<pre><a name="l-1"></a><span class="tm">19:01:29</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#startmeeting</span><span class="cmdline"></span>
<a name="l-2"></a><span class="tm">19:01:29</span><span class="nk"> &lt;lightningbot&gt;</span> Meeting started Thu Sep 28 19:01:29 2017 UTC.  The chair is wumpus. Information about MeetBot at http://wiki.debian.org/MeetBot.
<a name="l-3"></a><span class="tm">19:01:29</span><span class="nk"> &lt;lightningbot&gt;</span> Useful Commands: #action #agreed #help #info #idea #link #topic.
<a name="l-4"></a><span class="tm">19:01:35</span><span class="nk"> &lt;achow101&gt;</span> hi
<a name="l-5"></a><span class="tm">19:01:36</span><span class="nk"> &lt;meshcollider&gt;</span> Hello again
<a name="l-6"></a><span class="tm">19:01:47</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#bitcoin-core-dev </span><span class="cmdline">Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr btcdrak sdaftuar jtimon cfields petertodd kanzure bluematt instagibbs phantomcircuit codeshark michagogo marcofalke paveljanik NicolasDorier jl2012 achow101</span>
<a name="l-7"></a><span class="tm">19:01:48</span><span class="nk"> &lt;meshcollider&gt;</span> lightningbot?
<a name="l-8"></a><span class="tm">19:02:10</span><span class="nk"> &lt;cfields&gt;</span> hi
<a name="l-9"></a><span class="tm">19:02:20</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">luke-jr:</span> yes, you could ignore DST for yourself and live in GMT time, the difficulty is shop opening times and such :)
<a name="l-10"></a><span class="tm">19:02:22</span><span class="nk"> &lt;jnewbery&gt;</span> hi
<a name="l-11"></a><span class="tm">19:02:23</span><span class="nk"> &lt;kanzure&gt;</span> hi.
<a name="l-12"></a><span class="tm">19:02:29</span><span class="nk"> &lt;Chris_Stewart_5&gt;</span> hello
<a name="l-13"></a><span class="tm">19:02:32</span><span class="nk"> &lt;wumpus&gt;</span> oh no the bot is missing
<a name="l-14"></a><span class="tm">19:02:38</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#action </span><span class="cmdline">find the bot</span>
<a name="l-15"></a><span class="tm">19:02:46</span><span class="nk"> &lt;achow101&gt;</span> is it?
<a name="l-16"></a><span class="tm">19:02:58</span><span class="nk"> &lt;petertodd&gt;</span> <span class="hi">wumpus:</span> one of the perils of replacing humans with machines
<a name="l-17"></a><span class="tm">19:03:13</span><span class="nk"> &lt;wumpus&gt;</span> ehh.. no it isn't, sorry
<a name="l-18"></a><span class="tm">19:03:33</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">petertodd:</span> but it lives in the cloud! humans can't live in a cloud!
<a name="l-19"></a><span class="tm">19:03:42</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">High priority for review</span>
<a name="l-20"></a><span class="tm">19:04:00 </span><span class="nka">* BlueMatt</span> <span class="ac">'s is staying....</span>
<a name="l-21"></a><span class="tm">19:04:01</span><span class="nk"> &lt;BlueMatt&gt;</span> again
<a name="l-22"></a><span class="tm">19:04:22</span><span class="nk"> &lt;BlueMatt&gt;</span> 10663 got merged
<a name="l-23"></a><span class="tm">19:04:25</span><span class="nk"> &lt;BlueMatt&gt;</span> same with 10871
<a name="l-24"></a><span class="tm">19:04:44</span><span class="nk"> &lt;jonasschnelli&gt;</span> hi
<a name="l-25"></a><span class="tm">19:04:45</span><span class="nk"> &lt;wumpus&gt;</span> yes, finally
<a name="l-26"></a><span class="tm">19:04:57</span><span class="nk"> &lt;BlueMatt&gt;</span> =D
<a name="l-27"></a><span class="tm">19:05:19</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">BlueMatt:</span> yours has wallet in the name, that seems to put a curse on it with regard to reviewers
<a name="l-28"></a><span class="tm">19:05:31</span><span class="nk"> &lt;luke-jr&gt;</span> XD
<a name="l-29"></a><span class="tm">19:05:33</span><span class="nk"> &lt;jonasschnelli&gt;</span> Maybe someone can review #10387 (in high prio), ideally cfields
<a name="l-30"></a><span class="tm">19:05:35</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/10387 | Implement BIP159, define and signal NODE_NETWORK_LIMITED (pruned peers) by jonasschnelli · Pull Request #10387 · bitcoin/bitcoin · GitHub
<a name="l-31"></a><span class="tm">19:05:45</span><span class="nk"> &lt;jonasschnelli&gt;</span> Would be great to have this in 0.16
<a name="l-32"></a><span class="tm">19:05:55</span><span class="nk"> &lt;wumpus&gt;</span> which reminds me
<a name="l-33"></a><span class="tm">19:05:57</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">jonasschnelli:</span> will do asap
<a name="l-34"></a><span class="tm">19:06:01</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">put up 0.16 release schedule</span>
<a name="l-35"></a><span class="tm">19:06:04</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">cfields:</span> thanks!
<a name="l-36"></a><span class="tm">19:06:11</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">wumpus:</span> yea, I think so...I havent been pushing it cause folks want 0.15.1 first, but afterwards I really want that to go in asap, cause I really want to have it in early in 0.16 so it simmers for months
<a name="l-37"></a><span class="tm">19:06:40</span><span class="nk"> &lt;wumpus&gt;</span> 10387 is already in "high priority for review"
<a name="l-38"></a><span class="tm">19:06:45</span><span class="nk"> &lt;jonasschnelli&gt;</span> Yes
<a name="l-39"></a><span class="tm">19:06:49</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">BlueMatt:</span> seems it has had quite some review though
<a name="l-40"></a><span class="tm">19:06:52</span><span class="nk"> &lt;jonasschnelli&gt;</span> Just no reviews. :)
<a name="l-41"></a><span class="tm">19:06:58</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="cmd">#11089 </span><span class="cmdline">needs to get removed from high priority, it needs major rebase</span>
<a name="l-42"></a><span class="tm">19:07:00</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/11089 | Enable various p2sh-p2wpkh functionality by luke-jr · Pull Request #11089 · bitcoin/bitcoin · GitHub
<a name="l-43"></a><span class="tm">19:07:02</span><span class="nk"> &lt;achow101&gt;</span> <span class="cmd">#10637 </span><span class="cmdline">for high prio review?</span>
<a name="l-44"></a><span class="tm">19:07:05</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/10637 | Coin Selection with Murchs algorithm by achow101 · Pull Request #10637 · bitcoin/bitcoin · GitHub
<a name="l-45"></a><span class="tm">19:07:17</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">BlueMatt:</span> ok
<a name="l-46"></a><span class="tm">19:07:22</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">jonasschnelli:</span> Oh, I'm surprised that patch is so large, I was kinda hoping to see it widely backported so pruned nodes on older branches could see it advertised.
<a name="l-47"></a><span class="tm">19:07:26</span><span class="nk"> &lt;jonasschnelli&gt;</span> Maybe next to the release schedule for 0.16, ... what do we want in 0.16?
<a name="l-48"></a><span class="tm">19:07:37</span><span class="nk"> &lt;sipa&gt;</span> most of 11089's functionality is included in #11403
<a name="l-49"></a><span class="tm">19:07:38</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/11403 | SegWit wallet support by sipa · Pull Request #11403 · bitcoin/bitcoin · GitHub
<a name="l-50"></a><span class="tm">19:07:44</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">gmaxwell:</span> I'm happy if you see a way how to reduce it
<a name="l-51"></a><span class="tm">19:07:47</span><span class="nk"> &lt;jonasschnelli&gt;</span> Or split it
<a name="l-52"></a><span class="tm">19:08:07</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">jonasschnelli:</span> yea, will look. Sorry, didn't see it until now.
<a name="l-53"></a><span class="tm">19:08:12</span><span class="nk"> &lt;wumpus&gt;</span> 11089 removed for now
<a name="l-54"></a><span class="tm">19:08:13</span><span class="nk"> &lt;jonasschnelli&gt;</span> Although +264 −13 shouldn't be too large
<a name="l-55"></a><span class="tm">19:08:27</span><span class="nk"> &lt;jonasschnelli&gt;</span> (incl. new test)
<a name="l-56"></a><span class="tm">19:08:54</span><span class="nk"> &lt;morcos&gt;</span> oh man i feel like i'm buried under PR's to review ...   maybe i'd make some progress if you could review via tweet
<a name="l-57"></a><span class="tm">19:09:02</span><span class="nk"> &lt;jonasschnelli&gt;</span> heh
<a name="l-58"></a><span class="tm">19:09:18</span><span class="nk"> &lt;luke-jr&gt;</span> would be nice to have GUI multiwallet in 0.16, but #10615 is stuck on desires for refactoring :/
<a name="l-59"></a><span class="tm">19:09:19</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/10615 | RPC: Allow rpcauth configs to specify a 4th parameter naming a specific wallet (multiwallet RPC support) by luke-jr · Pull Request #10615 · bitcoin/bitcoin · GitHub
<a name="l-60"></a><span class="tm">19:09:40</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">luke-jr:</span> I think it is unacceptable to add so many more ifdef WALLET in bitcoin server
<a name="l-61"></a><span class="tm">19:09:45</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">luke-jr:</span> can you remove the rpcauth part? It's not necesdarry and contraversial.
<a name="l-62"></a><span class="tm">19:09:48</span><span class="nk"> &lt;wumpus&gt;</span> this is tagged for 0.16 right now (both issues and PRs):https://github.com/bitcoin/bitcoin/milestones/0.16.0
<a name="l-63"></a><span class="tm">19:09:48</span><span class="nk"> &lt;BlueMatt&gt;</span> (and believe it would be easy to remove them)
<a name="l-64"></a><span class="tm">19:09:52</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">jonasschnelli:</span> I don't understand why the flags set would change at runtime?  Setting the flag is a property of the node's configuration.
<a name="l-65"></a><span class="tm">19:10:03</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">morcos:</span> well there is @BitcoinMerges...
<a name="l-66"></a><span class="tm">19:10:08</span><span class="nk"> &lt;gmaxwell&gt;</span> (and in our case we don't have any configuration where it shouldn't be set, AFAIK)
<a name="l-67"></a><span class="tm">19:10:23</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">morcos:</span> well at least we can fit twice as much code in a tweet now...
<a name="l-68"></a><span class="tm">19:10:24</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">sipa:</span> that's brilliant, at least it would constantly remind me
<a name="l-69"></a><span class="tm">19:10:29</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">gmaxwell:</span> maybe no longer required with a single NODE_NETWORK_LIMITED bit
<a name="l-70"></a><span class="tm">19:10:32</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jonasschnelli:</span> I think that's possible, but I don't see why it should be controversial, and doesn't help with BlueMatt's refactoring wants
<a name="l-71"></a><span class="tm">19:10:49</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">luke-jr:</span> it's a fact that it is contraversial
<a name="l-72"></a><span class="tm">19:10:57</span><span class="nk"> &lt;jonasschnelli&gt;</span> * controversial
<a name="l-73"></a><span class="tm">19:11:05</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">jonasschnelli:</span> ah! right, so this code was originally based on the more complex spec.
<a name="l-74"></a><span class="tm">19:11:11</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">luke-jr:</span> I dont think I'm the only one who objects to ifdef wallet's being added to http server cpp files........
<a name="l-75"></a><span class="tm">19:11:31</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">gmaxwell:</span> thanks for pointing out... i'll review it and check if I can remove the runtime switching
<a name="l-76"></a><span class="tm">19:11:34</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">BlueMatt:</span> no, you aren't, that's obviously wrong, we've been working hard to remove those as they cause circular refs :(
<a name="l-77"></a><span class="tm">19:11:49</span><span class="nk"> &lt;jnewbery&gt;</span> <span class="hi">luke-jr:</span> cherry-picking the non-controversial commits from your PR gives us the GUI functionality without adding a bunch of server-&gt;wallet dependencies or the rpcauth stuff
<a name="l-78"></a><span class="tm">19:12:15</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jnewbery:</span> I don't see how that's possible
<a name="l-79"></a><span class="tm">19:12:20</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">jonasschnelli:</span> my completely ignorant (only barely read the patch) thought is that there should be one commit which should be a nearly one line change to just set the bit everywhere.. then another commit or two for the relay, then another for selection.  And the first commit we'd backport, maybe the second, but not the third.
<a name="l-80"></a><span class="tm">19:12:45</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">BlueMatt:</span> so httprpc calls a callback for "populate JSONRequest with metadata" which is only used for this one thing?
<a name="l-81"></a><span class="tm">19:12:50</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">BlueMatt:</span> or what did you have in mind?
<a name="l-82"></a><span class="tm">19:12:53</span><span class="nk"> &lt;wumpus&gt;</span> see e.g. #7965. We want to go toward 0 wallet references in bitcoin_server
<a name="l-83"></a><span class="tm">19:12:54</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/7965 | Remaining instances of ENABLE_WALLET in `libbitcoin_server.a` · Issue #7965 · bitcoin/bitcoin · GitHub
<a name="l-84"></a><span class="tm">19:13:14</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">gmaxwell:</span> I thought it is basically like that (factored in a bit more commits though)
<a name="l-85"></a><span class="tm">19:13:17</span><span class="nk"> &lt;achow101&gt;</span> <span class="hi">wumpus:</span> we can check getinfo off that list now
<a name="l-86"></a><span class="tm">19:13:25</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">achow101:</span> thanks good point
<a name="l-87"></a><span class="tm">19:13:30</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">luke-jr:</span> yes, that would be sufficient
<a name="l-88"></a><span class="tm">19:13:33</span><span class="nk"> &lt;BlueMatt&gt;</span> imo
<a name="l-89"></a><span class="tm">19:13:54</span><span class="nk"> &lt;luke-jr&gt;</span> ok, I'll try that
<a name="l-90"></a><span class="tm">19:13:58</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">achow101:</span> updated
<a name="l-91"></a><span class="tm">19:14:15</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">luke-jr:</span> you may wish to seek concept acks on the *idea* of rpc auth-based multiwallet
<a name="l-92"></a><span class="tm">19:14:20</span><span class="nk"> &lt;BlueMatt&gt;</span> I'm ok with it, but I dont know if others are
<a name="l-93"></a><span class="tm">19:14:28</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="cmd">#action </span><span class="cmdline">refactor #10615 for a "populate JSONRequest" callback, and separate out rpcauth stuff</span>
<a name="l-94"></a><span class="tm">19:14:29</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/10615 | RPC: Allow rpcauth configs to specify a 4th parameter naming a specific wallet (multiwallet RPC support) by luke-jr · Pull Request #10615 · bitcoin/bitcoin · GitHub
<a name="l-95"></a><span class="tm">19:14:54</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">jonasschnelli:</span> ah, right though the setter isn't simple like I expected but now I understand why.
<a name="l-96"></a><span class="tm">19:14:54</span><span class="nk"> &lt;jonasschnelli&gt;</span> BlueMatt , luke-jr : the rpcauth multiwallet is completely orthogonal to GUI multiwallet
<a name="l-97"></a><span class="tm">19:14:59</span><span class="nk"> &lt;gmaxwell&gt;</span> and that should be fixable.
<a name="l-98"></a><span class="tm">19:15:23</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jonasschnelli:</span> indeed, let's not confound things unnecessarily
<a name="l-99"></a><span class="tm">19:15:34</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jonasschnelli:</span> yeah, I'll split it off
<a name="l-100"></a><span class="tm">19:15:48</span><span class="nk"> &lt;jonasschnelli&gt;</span> yes. It's smells like smuggling in controversial stuff packed in a nice feature
<a name="l-101"></a><span class="tm">19:15:55</span><span class="nk"> &lt;gmaxwell&gt;</span> Yes, please split those things up. (I say this as a supporter of rpcauth based multiwallet control)
<a name="l-102"></a><span class="tm">19:16:04</span><span class="nk"> &lt;sipa&gt;</span> i'm ok with rpcauth-based multiwallet, but i think it may be a longer-term thing; it would probably require some review of security of non-wallet RPCs (should a wallet-specific rpc user be allowed to call stop?)
<a name="l-103"></a><span class="tm">19:16:25</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">sipa:</span> well, it wasn't meant to be a security thing, but maybe we can consider that
<a name="l-104"></a><span class="tm">19:16:44</span><span class="nk"> &lt;sipa&gt;</span> yeah, just saying - i think multiwallet gui can be done much faster
<a name="l-105"></a><span class="tm">19:16:47</span><span class="nk"> &lt;luke-jr&gt;</span> right
<a name="l-106"></a><span class="tm">19:16:48</span><span class="nk"> &lt;BlueMatt&gt;</span> I was assuming rpcauth-based multiwallet would only allow you to call wallet functions
<a name="l-107"></a><span class="tm">19:16:52</span><span class="nk"> &lt;sipa&gt;</span> everyone clearly wants it
<a name="l-108"></a><span class="tm">19:16:56</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">sipa:</span> main interest I have in it is anti-footgun. Can't spend accidentally what you don't have access too.
<a name="l-109"></a><span class="tm">19:16:58</span><span class="nk"> &lt;jonasschnelli&gt;</span> rpcauth opens up the usecase and suddenly users think Core is a 100k multiuser wallet system
<a name="l-110"></a><span class="tm">19:17:08</span><span class="nk"> &lt;jonasschnelli&gt;</span> we just need to be sure we want this
<a name="l-111"></a><span class="tm">19:17:08</span><span class="nk"> &lt;wumpus&gt;</span> yes, multiwallet GUI isn't controversial in any way
<a name="l-112"></a><span class="tm">19:17:18</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">jonasschnelli:</span> Then we can simply say it isn't. I don't think that is a good argument.
<a name="l-113"></a><span class="tm">19:17:38</span><span class="nk"> &lt;morcos&gt;</span> yeah lets pleast punt on rpcauth for now... seems better use of our time to move towards splitting off wallet
<a name="l-114"></a><span class="tm">19:17:41</span><span class="nk"> &lt;wumpus&gt;</span> the gui even has some scaffolding already to be able to handle multiple wallets IIRC, of course it's not complete
<a name="l-115"></a><span class="tm">19:17:43</span><span class="nk"> &lt;achow101&gt;</span> <span class="hi">gmaxwell:</span> people will probably still use it that way though
<a name="l-116"></a><span class="tm">19:17:46</span><span class="nk"> &lt;luke-jr&gt;</span> leaving `stop` etc accessible makes it clearly not that IMO
<a name="l-117"></a><span class="tm">19:17:48</span><span class="nk"> &lt;jonasschnelli&gt;</span> We may end up in the same situation like the accounts... i'm not against it. But we should discuss it wisely and not related to GUI multiwallet
<a name="l-118"></a><span class="tm">19:18:01</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">morcos:</span> +1, I'm kind of sick of discussing that tbh
<a name="l-119"></a><span class="tm">19:18:12</span><span class="nk"> &lt;jonasschnelli&gt;</span> `/rpcauth (ack)
<a name="l-120"></a><span class="tm">19:18:17</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">wumpus:</span> #11383 is there already, just needs to get past this initial stuff
<a name="l-121"></a><span class="tm">19:18:19</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/11383 | Basic Multiwallet GUI support by luke-jr · Pull Request #11383 · bitcoin/bitcoin · GitHub
<a name="l-122"></a><span class="tm">19:18:25</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">luke-jr:</span> yes
<a name="l-123"></a><span class="tm">19:18:38</span><span class="nk"> &lt;wumpus&gt;</span> so anything that needs to be discussed with regard to  GUI multiwallet?
<a name="l-124"></a><span class="tm">19:19:04</span><span class="nk"> &lt;luke-jr&gt;</span> someone mentioned that they think the current design is too unobservable
<a name="l-125"></a><span class="tm">19:19:05</span><span class="nk"> &lt;wumpus&gt;</span> if not, any other topics?
<a name="l-126"></a><span class="tm">19:19:14</span><span class="nk"> &lt;jonasschnelli&gt;</span> the UI itself is not clear yeat. But luke-jr first approach is something we could have in 0.16
<a name="l-127"></a><span class="tm">19:19:25</span><span class="nk"> &lt;BlueMatt&gt;</span> yes, next topic?
<a name="l-128"></a><span class="tm">19:19:40</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">topic:</span> I wanted to ask if there are opinions against the concept of RPC long poll
<a name="l-129"></a><span class="tm">19:19:47</span><span class="nk"> &lt;jonasschnelli&gt;</span> I'd like to work on this for 0.16
<a name="l-130"></a><span class="tm">19:19:48</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">RPC long poll</span>
<a name="l-131"></a><span class="tm">19:19:49</span><span class="nk"> &lt;sipa&gt;</span> i'd like to bring up segwit wallet support
<a name="l-132"></a><span class="tm">19:20:00</span><span class="nk"> &lt;luke-jr&gt;</span> proposed topic: would be nice to get some code review on https://github.com/BitcoinHardfork/bitcoin/pulls PRs before November in case we need it (other PRs welcome)
<a name="l-133"></a><span class="tm">19:20:10</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">jonasschnelli:</span> please give a tl;dr; of what it is :)
<a name="l-134"></a><span class="tm">19:20:12</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jonasschnelli:</span> no, no problems with it, I think it's superior to other ways we've considered
<a name="l-135"></a><span class="tm">19:20:14</span><span class="nk"> &lt;jonasschnelli&gt;</span> RPC long poll would allow similar push benefits then ZMQ offers but without any dependencies
<a name="l-136"></a><span class="tm">19:20:29</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">jonasschnelli:</span> long poll for what specifically?
<a name="l-137"></a><span class="tm">19:20:36</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jonasschnelli:</span> we already have RPC long poll
<a name="l-138"></a><span class="tm">19:20:37</span><span class="nk"> &lt;wumpus&gt;</span> for any of the current notifications
<a name="l-139"></a><span class="tm">19:20:43</span><span class="nk"> &lt;wumpus&gt;</span> blocks, transactions, wallet events
<a name="l-140"></a><span class="tm">19:20:47</span><span class="nk"> &lt;gmaxwell&gt;</span> you mean like blocks and transactions...
<a name="l-141"></a><span class="tm">19:20:48</span><span class="nk"> &lt;jonasschnelli&gt;</span> you open an http connection (with a timeout of lets say 60seconds)... once a new block/tx pops in, you get it back and reopen the timeout 60 channel
<a name="l-142"></a><span class="tm">19:20:49</span><span class="nk"> &lt;gmaxwell&gt;</span> ah.
<a name="l-143"></a><span class="tm">19:20:58</span><span class="nk"> &lt;jonasschnelli&gt;</span> It's how Cellphone OSes do push notifications
<a name="l-144"></a><span class="tm">19:21:00</span><span class="nk"> &lt;wumpus&gt;</span> yes. the stuff that now requires launching an external notify script
<a name="l-145"></a><span class="tm">19:21:03</span><span class="nk"> &lt;jonasschnelli&gt;</span> very nat friendlly
<a name="l-146"></a><span class="tm">19:21:11</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jonasschnelli:</span> yes, it's very basic and easy to use
<a name="l-147"></a><span class="tm">19:21:19</span><span class="nk"> &lt;gmaxwell&gt;</span> Well. "Better than ZMQ"-- part of the argument against it in the past was socket monopolization but with libevent now that should be much less of an issue.
<a name="l-148"></a><span class="tm">19:21:22</span><span class="nk"> &lt;jonasschnelli&gt;</span> Very easy to use... no ZMQ library, just an http client
<a name="l-149"></a><span class="tm">19:21:24</span><span class="nk"> &lt;sdaftuar&gt;</span> how does reopening work?  i don't understand how you avoid missing transactions in between
<a name="l-150"></a><span class="tm">19:21:41</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">gmaxwell:</span> hopefully. libevent has a history of having problems in this area IIRC
<a name="l-151"></a><span class="tm">19:21:46</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">sdaftuar:</span> you just open the http channel again... there is a queue on the server..
<a name="l-152"></a><span class="tm">19:21:47</span><span class="nk"> &lt;wumpus&gt;</span> it's not meant as a competition to ZMQ, ZMQ will stay
<a name="l-153"></a><span class="tm">19:21:51</span><span class="nk"> &lt;jonasschnelli&gt;</span> losing notifications is impossible
<a name="l-154"></a><span class="tm">19:21:57</span><span class="nk"> &lt;jonasschnelli&gt;</span> (or very unlikely)
<a name="l-155"></a><span class="tm">19:22:02</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">sdaftuar:</span> you have a session
<a name="l-156"></a><span class="tm">19:22:12</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">jonasschnelli:</span> impossible and very unlikely are not the same. :P
<a name="l-157"></a><span class="tm">19:22:21</span><span class="nk"> &lt;cfields&gt;</span> didn't we have this discussion wrt waitfornewblock and friends? I'm missing how this is different
<a name="l-158"></a><span class="tm">19:22:23</span><span class="nk"> &lt;wumpus&gt;</span> zmq is for low latency notifications, longpoll is for easy notifications over the same channel RPC already works
<a name="l-159"></a><span class="tm">19:22:25</span><span class="nk"> &lt;jonasschnelli&gt;</span> yeah.. probably same level then ZMQ (where you can also loose nots)
<a name="l-160"></a><span class="tm">19:22:43</span><span class="nk"> &lt;wumpus&gt;</span> zmq requires careful extra setup
<a name="l-161"></a><span class="tm">19:22:50</span><span class="nk"> &lt;luke-jr&gt;</span> or order the events, and have the client request with the last-seen-event (as GBT does)
<a name="l-162"></a><span class="tm">19:22:52</span><span class="nk"> &lt;jonasschnelli&gt;</span> It would allow clients to better interect with Core without opening an ZMQ &amp; RPC channel (only RPC)
<a name="l-163"></a><span class="tm">19:22:56</span><span class="nk"> &lt;gmaxwell&gt;</span> if you are using it to notice new transactions, losing a message means you fail to credit a customer with a $10,000 deposit... and look like a theif or even actually lose the money. :)
<a name="l-164"></a><span class="tm">19:23:00</span><span class="nk"> &lt;jonasschnelli&gt;</span> and it would allow *auth based notifications"
<a name="l-165"></a><span class="tm">19:23:03</span><span class="nk"> &lt;jonasschnelli&gt;</span> like wallet notifications
<a name="l-166"></a><span class="tm">19:23:10</span><span class="nk"> &lt;jonasschnelli&gt;</span> (which should be behing the auth)
<a name="l-167"></a><span class="tm">19:23:33</span><span class="nk"> &lt;jonasschnelli&gt;</span> notifications may lead to an RPC roundtrip...
<a name="l-168"></a><span class="tm">19:23:40</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> true, but the -Xnotify that launches a script can also fail to launch a script in some cases, losing notification
<a name="l-169"></a><span class="tm">19:23:41</span><span class="nk"> &lt;BlueMatt&gt;</span> if its for wallet you can just use it to get info about when you need to call listsinceblock
<a name="l-170"></a><span class="tm">19:23:43</span><span class="nk"> &lt;gmaxwell&gt;</span> ZMQ has wire protocol incompatiblity between versions, which makes it harder to use except in very tightly coupled setups.
<a name="l-171"></a><span class="tm">19:23:44</span><span class="nk"> &lt;jonasschnelli&gt;</span> It just ellimitens constant triggering
<a name="l-172"></a><span class="tm">19:23:50</span><span class="nk"> &lt;BlueMatt&gt;</span> which isnt so bad...but for mempool its unclear how you can do it safely
<a name="l-173"></a><span class="tm">19:23:55</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> we have to be realistic too
<a name="l-174"></a><span class="tm">19:23:59</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">wumpus:</span> but on the next notification you'll notice it
<a name="l-175"></a><span class="tm">19:24:11</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">wumpus:</span> Is there a reason we can't give a reliable notification?
<a name="l-176"></a><span class="tm">19:24:12</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">sipa:</span> yes, that's why the zmq notifications have sequence numebrs too
<a name="l-177"></a><span class="tm">19:24:15</span><span class="nk"> &lt;luke-jr&gt;</span> we probably don't want to use the same LP for wallet and non-wallet
<a name="l-178"></a><span class="tm">19:24:41</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">sipa:</span> you'll notice that you've lost an event, you just don't know what it is so need to do reconciliation in that case
<a name="l-179"></a><span class="tm">19:24:54</span><span class="nk"> &lt;jonasschnelli&gt;</span> My LP PR (which I'm currently re-doing) has sequence numbers
<a name="l-180"></a><span class="tm">19:25:02</span><span class="nk"> &lt;cfields&gt;</span> ah
<a name="l-181"></a><span class="tm">19:25:04</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> well the problem is that send buffers can be full
<a name="l-182"></a><span class="tm">19:25:16</span><span class="nk"> &lt;jonasschnelli&gt;</span> If you miss a notification, do a data re-sync
<a name="l-183"></a><span class="tm">19:25:19</span><span class="nk"> &lt;sipa&gt;</span> i wonder if we shouldn't think about something more generic... you configure "i have an RPC client, which is interested in all events which satisfy condition X, Y, Z....", and then there can be means for the client to read the event log, or get notifications when there are new events, ...
<a name="l-184"></a><span class="tm">19:25:20</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> 100%(ish) reliable notifications means storing them to disk if the client isn't processing them
<a name="l-185"></a><span class="tm">19:25:34</span><span class="nk"> &lt;sipa&gt;</span> and the server keeps track of what the client has seen and hasn't
<a name="l-186"></a><span class="tm">19:25:50</span><span class="nk"> &lt;BlueMatt&gt;</span> (as long as all of those events come out of the CValidationInterface =D)
<a name="l-187"></a><span class="tm">19:25:53</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">sipa:</span> that makes me think of pruning - "I need to use block data, so don't prune until I say I'm done with it"
<a name="l-188"></a><span class="tm">19:25:53</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> I mean reliable messaging/notification is a huge topic in itself..
<a name="l-189"></a><span class="tm">19:26:02</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">sipa:</span> not the same thing, but perhaps has some overlap
<a name="l-190"></a><span class="tm">19:26:04</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">wumpus:</span> or allowing the send buffer to grow to the point that it gets swapped out and ultimately crashes. :)
<a name="l-191"></a><span class="tm">19:26:10</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">luke-jr:</span> indeed, it seems related
<a name="l-192"></a><span class="tm">19:26:19</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> yes, in which case it's lost too
<a name="l-193"></a><span class="tm">19:26:21</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">sipa:</span> my LP PR does basically something like that. You can register a UUID for notifications and the server keeps track what you have received and what not
<a name="l-194"></a><span class="tm">19:26:29</span><span class="nk"> &lt;jonasschnelli&gt;</span> It's multi-client capable
<a name="l-195"></a><span class="tm">19:26:46</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">luke-jr:</span> yeah there's certainly overlap there
<a name="l-196"></a><span class="tm">19:26:52</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">wumpus:</span> yes, though cold start init is something that everything has to have and has to have tested, as it happens at every start.
<a name="l-197"></a><span class="tm">19:26:56</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">luke-jr:</span> block consumers ideally should be able to set a low-water mark
<a name="l-198"></a><span class="tm">19:27:14</span><span class="nk"> &lt;luke-jr&gt;</span> maybe they should share jonasschnelli's UUID
<a name="l-199"></a><span class="tm">19:27:18</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> well it needs reconciliation, you could also do that if you miss a notification ( which can be detected from the sequence number)
<a name="l-200"></a><span class="tm">19:27:40</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> so if you have something to handle potential crashes, you also have something to handle the case where a message gets lost
<a name="l-201"></a><span class="tm">19:27:42</span><span class="nk"> &lt;luke-jr&gt;</span> although for block consumption, we'd want to store it in a persistent db IMO
<a name="l-202"></a><span class="tm">19:28:02</span><span class="nk"> &lt;luke-jr&gt;</span> (or could use rwconf and have a config param, but that seems ugly for this)
<a name="l-203"></a><span class="tm">19:28:16</span><span class="nk"> &lt;gmaxwell&gt;</span> obligitory question: Is any user asking for this or is it just interesting?
<a name="l-204"></a><span class="tm">19:28:39</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">gmaxwell:</span> Yes. Me as an user... :)
<a name="l-205"></a><span class="tm">19:28:42</span><span class="nk"> &lt;wumpus&gt;</span> yes yes yes
<a name="l-206"></a><span class="tm">19:28:48</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">gmaxwell:</span> the block consumption part would allow Armory to do pruning, at least ;0
<a name="l-207"></a><span class="tm">19:28:51</span><span class="nk"> &lt;wumpus&gt;</span> joinmarket for example would like a better notification mechanism
<a name="l-208"></a><span class="tm">19:28:52</span><span class="nk"> &lt;jonasschnelli&gt;</span> (for the hardware wallet client i'm working)
<a name="l-209"></a><span class="tm">19:28:55</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">luke-jr:</span> hmm, so clients could issue a single rpc command and have new blocks announcements replayed after a day offline?
<a name="l-210"></a><span class="tm">19:29:09</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> they currently have a hack where you have to set walletnotify in bitcoin.conf, which isn't very flexible and easy to forget
<a name="l-211"></a><span class="tm">19:29:15</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">cfields:</span> I don't see why not
<a name="l-212"></a><span class="tm">19:29:23</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> if their software could just subscribe to events through RPC, that problem'd be solved
<a name="l-213"></a><span class="tm">19:29:33</span><span class="nk"> &lt;cfields&gt;</span> that's interesting
<a name="l-214"></a><span class="tm">19:29:34</span><span class="nk"> &lt;jonasschnelli&gt;</span> See also https://github.com/bitcoin/bitcoin/pull/10554
<a name="l-215"></a><span class="tm">19:29:35</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">wumpus:</span> why doesn't it just poll?
<a name="l-216"></a><span class="tm">19:29:36</span><span class="nk"> &lt;wumpus&gt;</span> no need for restarting bitcoind even!
<a name="l-217"></a><span class="tm">19:29:37</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="cmd">#10554</span><span class="cmdline"></span>
<a name="l-218"></a><span class="tm">19:29:39</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/10554 | ZMQ: add publishers for wallet transactions. by somdoron · Pull Request #10554 · bitcoin/bitcoin · GitHub
<a name="l-219"></a><span class="tm">19:29:41</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">jonasschnelli:</span> if its not a big bother, then, as wumpus points out, can you ask the joinmarket guys if your proposed protocol is sufficient for them? would be good to be in sync on it
<a name="l-220"></a><span class="tm">19:29:52</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">related:</span> my GUI NetWatch branch has a circular memory-efficient buffer of weak-linked txs and blocks
<a name="l-221"></a><span class="tm">19:29:53</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> because polling sucks
<a name="l-222"></a><span class="tm">19:29:55</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">BlueMatt:</span> good point
<a name="l-223"></a><span class="tm">19:30:10</span><span class="nk"> &lt;wumpus&gt;</span> it causes extra delays, at least, and uses more CPU time
<a name="l-224"></a><span class="tm">19:30:25</span><span class="nk"> &lt;wumpus&gt;</span> (depending on how fast you poll)
<a name="l-225"></a><span class="tm">19:30:40</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">wumpus:</span> and the UX may suck,... LP gives you a TX, block within ms not s
<a name="l-226"></a><span class="tm">19:30:51</span><span class="nk"> &lt;wumpus&gt;</span> I really don't understand why we're arguing whether to add a sane notification system at all and considering repetitive polling good enough
<a name="l-227"></a><span class="tm">19:30:52</span><span class="nk"> &lt;gmaxwell&gt;</span> ISTM the caller will need a consierable amount of complexity to avoid losing data, vs sending a poll every coupld seconds.  Polling faster than seconds hardly makes sense in the context of bitcoin in any case, since txn take seconds to propagate through the network.
<a name="l-228"></a><span class="tm">19:31:08</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">wumpus:</span> because we already have one almost unused unreliable notification system.
<a name="l-229"></a><span class="tm">19:31:16</span><span class="nk"> &lt;wumpus&gt;</span> sigh, never mind
<a name="l-230"></a><span class="tm">19:31:19</span><span class="nk"> &lt;wumpus&gt;</span> another topic?
<a name="l-231"></a><span class="tm">19:31:24</span><span class="nk"> &lt;jonasschnelli&gt;</span> sipa had one
<a name="l-232"></a><span class="tm">19:31:34</span><span class="nk"> &lt;gmaxwell&gt;</span> bleh, I'm not trying to bludgon it.
<a name="l-233"></a><span class="tm">19:31:35</span><span class="nk"> &lt;wumpus&gt;</span> and no, zmq is not unused
<a name="l-234"></a><span class="tm">19:31:52</span><span class="nk"> &lt;jonasschnelli&gt;</span> IMO it is heavely used in some enterprises
<a name="l-235"></a><span class="tm">19:31:53</span><span class="nk"> &lt;wumpus&gt;</span> just that you're not using  or it's not good/reliable enough for you it doesn't mean no one is using it
<a name="l-236"></a><span class="tm">19:32:10</span><span class="nk"> &lt;gmaxwell&gt;</span> I've never encountered someone using it in production. I don't doubt that it is somewhere.
<a name="l-237"></a><span class="tm">19:32:17</span><span class="nk"> &lt;wumpus&gt;</span> as I've said many times, loss of messages can be handled if it can be detected, and it can be detected using the sequence numbers
<a name="l-238"></a><span class="tm">19:32:23 </span><span class="nka">* BlueMatt</span> <span class="ac">'s preferred method of notification is the "hey, you should poll now" method</span>
<a name="l-239"></a><span class="tm">19:32:26</span><span class="nk"> &lt;sipa&gt;</span> i think there is a lot of merit in creating a reliable event logging system for clients to observe
<a name="l-240"></a><span class="tm">19:32:36</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">BlueMatt:</span> indeed, blocknotify is sane IMO
<a name="l-241"></a><span class="tm">19:32:41</span><span class="nk"> &lt;sipa&gt;</span> if we have that, adding a notification for "you have new events!" seems both trivial and obvious
<a name="l-242"></a><span class="tm">19:32:52</span><span class="nk"> &lt;jnewbery&gt;</span> suggested topic: next Bitcoin Core meetup
<a name="l-243"></a><span class="tm">19:32:58</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">BlueMatt:</span> ZMQ / LP is  "hey, you should poll now"
<a name="l-244"></a><span class="tm">19:32:59</span><span class="nk"> &lt;cfields&gt;</span> agreed. and agree with wumpus. Seems like a no-brainer to me.
<a name="l-245"></a><span class="tm">19:33:00</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jnewbery:</span> another one?
<a name="l-246"></a><span class="tm">19:33:01</span><span class="nk"> &lt;jonasschnelli&gt;</span> We only send hashes
<a name="l-247"></a><span class="tm">19:33:19</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">jonasschnelli:</span> I wouldnt even send hashes
<a name="l-248"></a><span class="tm">19:33:27</span><span class="nk"> &lt;gmaxwell&gt;</span> But we don't get a report flow on it that suggests that its in use...  And the advice I give is to poll because it's reliable, hard to get wrong, and has no scaling issues on any system that can keep up with the network.   And the reason I was asking questions is because I was trying to understand what the gain in having another one would be... one thought I had was maybe it would be more reliab
<a name="l-249"></a><span class="tm">19:33:30</span><span class="nk"> &lt;BlueMatt&gt;</span> just do the old "disconnect upon new data" pattern
<a name="l-250"></a><span class="tm">19:33:33</span><span class="nk"> &lt;gmaxwell&gt;</span> le, but I see why thats hard.
<a name="l-251"></a><span class="tm">19:33:35</span><span class="nk"> &lt;luke-jr&gt;</span> blocknotify='killall -USR1 programname' ☺
<a name="l-252"></a><span class="tm">19:34:08</span><span class="nk"> &lt;sipa&gt;</span> 19:19:49 &lt; sipa&gt; i'd like to bring up segwit wallet support
<a name="l-253"></a><span class="tm">19:34:20</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">gmaxwell:</span> you can do polling in addition to processing notifications, that's what I mean with 'reconciliation'
<a name="l-254"></a><span class="tm">19:34:24</span><span class="nk"> &lt;morcos&gt;</span> notification system for topic suggestions?
<a name="l-255"></a><span class="tm">19:34:39</span><span class="nk"> &lt;gmaxwell&gt;</span> Obviously if people want to work on it, I don't mind. I'll even spend some time reviewing it.  But there are so many other things we've left half complete... so thats just my reservation. I'm sorry for frustrating you.
<a name="l-256"></a><span class="tm">19:35:01</span><span class="nk"> &lt;wumpus&gt;</span> anyhow, time for sipa's topic
<a name="l-257"></a><span class="tm">19:35:06</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">segwit wallet support</span>
<a name="l-258"></a><span class="tm">19:35:13</span><span class="nk"> &lt;sipa&gt;</span> yay!
<a name="l-259"></a><span class="tm">19:35:14</span><span class="nk"> &lt;morcos&gt;</span> for the record i'm also wary about adding more and more notification systems, but that's not to say i don't think we shouldn't improve from where we are now
<a name="l-260"></a><span class="tm">19:35:25</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">morcos:</span> you've just missed that topic
<a name="l-261"></a><span class="tm">19:35:29</span><span class="nk"> &lt;wumpus&gt;</span> :p
<a name="l-262"></a><span class="tm">19:35:50</span><span class="nk"> &lt;sipa&gt;</span> so, i have a PR #11403 which i think implements most of what we want, except some import/export and message signing
<a name="l-263"></a><span class="tm">19:35:52</span><span class="nk"> &lt;gribble&gt;</span> https://github.com/bitcoin/bitcoin/issues/11403 | SegWit wallet support by sipa · Pull Request #11403 · bitcoin/bitcoin · GitHub
<a name="l-264"></a><span class="tm">19:36:00</span><span class="nk"> &lt;sipa&gt;</span> however, i think there are 2 differences compared to what we discussed before
<a name="l-265"></a><span class="tm">19:36:44</span><span class="nk"> &lt;sipa&gt;</span> 1) importprivkey works, and actually imports all corresponding addresses for that given key (P2PKH, P2SH-P2WPKH, P2WPKH)
<a name="l-266"></a><span class="tm">19:36:48</span><span class="nk"> &lt;wumpus&gt;</span> nice
<a name="l-267"></a><span class="tm">19:37:42</span><span class="nk"> &lt;sipa&gt;</span> that's not how i want things to work long term, but it's very hard and probably confusing to users to almost everywhere follow the "a key corresponds to all 3 forms of corresponding addresses", except when importing (and importing is inevitably needed anyway for testing)
<a name="l-268"></a><span class="tm">19:38:38</span><span class="nk"> &lt;sipa&gt;</span> 2) once you generate a segwit address with this patch, you can't really downgrade to older software anymore (unless you go fix your missing addresses with addwitnessaddress), though no new backup is needed
<a name="l-269"></a><span class="tm">19:39:05</span><span class="nk"> &lt;luke-jr&gt;</span> why 2?
<a name="l-270"></a><span class="tm">19:39:06</span><span class="nk"> &lt;BlueMatt&gt;</span> wait, why?
<a name="l-271"></a><span class="tm">19:39:07</span><span class="nk"> &lt;morcos&gt;</span> 2 confuses me
<a name="l-272"></a><span class="tm">19:39:19</span><span class="nk"> &lt;sipa&gt;</span> which differs from the earlier idea of every new addresses effectively calling addwitnessaddress
<a name="l-273"></a><span class="tm">19:39:24</span><span class="nk"> &lt;BlueMatt&gt;</span> yea, what we discussed was auto-addwitnessaddress
<a name="l-274"></a><span class="tm">19:39:34</span><span class="nk"> &lt;morcos&gt;</span> i think it depends on what we are expecting 0.16 to do
<a name="l-275"></a><span class="tm">19:39:39</span><span class="nk"> &lt;sipa&gt;</span> well, auto-addwitnessaddress doesn't actually achieve what you want either
<a name="l-276"></a><span class="tm">19:40:58</span><span class="nk"> &lt;morcos&gt;</span> if the manual upgrade of a wallet to 0.16 is going to auto add all 3 versions of all keys, then what you are suggesting seems maybe ok...   but that will lead to more bloat in 0.16 as opposed to just having the scripts already in the wallet moved over
<a name="l-277"></a><span class="tm">19:41:37</span><span class="nk"> &lt;sipa&gt;</span> effectively what the patch does is just implicitly making redeemscripts for all your keys known, without writing them to the file
<a name="l-278"></a><span class="tm">19:42:00</span><span class="nk"> &lt;meshcollider&gt;</span> Oh so if you wrote them to the file downgrading would be fine
<a name="l-279"></a><span class="tm">19:42:32</span><span class="nk"> &lt;achow101&gt;</span> <span class="hi">sipa:</span> why not write them?
<a name="l-280"></a><span class="tm">19:42:32</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">meshcollider:</span> not really... new transactions you receive while downgrading are risky
<a name="l-281"></a><span class="tm">19:42:41</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">achow101:</span> bloat, and it doesn't fully solve the problem
<a name="l-282"></a><span class="tm">19:42:45</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">sipa:</span> yes, why did you decide to do that over the previous discussion?
<a name="l-283"></a><span class="tm">19:43:03</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">morcos:</span> don't add segwit stuff for old keys..
<a name="l-284"></a><span class="tm">19:43:32</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">BlueMatt:</span> because keys the old version adds to the keypool during auto-topup won't get their witnesses added, and will go undetected
<a name="l-285"></a><span class="tm">19:43:39</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">meshcollider:</span> writing them doesn't make downgrading fine though, because the downgraded one won't be adding them for things in the keypool. so in the presences of restores they'd potentially silently lose funds.
<a name="l-286"></a><span class="tm">19:43:55</span><span class="nk"> &lt;luke-jr&gt;</span> would be pretty ugly if the address list tripled in size simply with an upgrade; ideally we should only list one type per key, perhaps excepting the import case
<a name="l-287"></a><span class="tm">19:44:06</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">sipa:</span> huh? I figured youd "auto-addwitnessaddress" when you getnewaddress/get the address for gui/etc
<a name="l-288"></a><span class="tm">19:44:10</span><span class="nk"> &lt;BlueMatt&gt;</span> not when the key is generated
<a name="l-289"></a><span class="tm">19:44:17</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">BlueMatt:</span> that won't work at all
<a name="l-290"></a><span class="tm">19:44:27</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">luke-jr:</span> we're kinda stuck with that right now, obviously when we change the wallet design we can move to a model where there is a 1:1 matching between chains and keys. But thats a major redesign.
<a name="l-291"></a><span class="tm">19:44:30</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">BlueMatt:</span> as old versions will then miss all transactions received while offline
<a name="l-292"></a><span class="tm">19:44:32</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">gmaxwell:</span> if you getnewaddress with an older version, you won't get a segwit address, so they don't *need* to be added..
<a name="l-293"></a><span class="tm">19:44:33</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">sipa:</span> yes, please explain why
<a name="l-294"></a><span class="tm">19:44:42</span><span class="nk"> &lt;sipa&gt;</span> (their keypool entries won't have witnesses, so won't be watched for)
<a name="l-295"></a><span class="tm">19:44:48</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">gmaxwell:</span> we can leave existing keys alone, at least
<a name="l-296"></a><span class="tm">19:44:48</span><span class="nk"> &lt;BlueMatt&gt;</span> ah, i see your point
<a name="l-297"></a><span class="tm">19:44:56</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">BlueMatt:</span> then backup and restore is completely no durable and you'll miss payments if you start with a restored wallet...
<a name="l-298"></a><span class="tm">19:44:59</span><span class="nk"> &lt;gmaxwell&gt;</span> yea.
<a name="l-299"></a><span class="tm">19:45:29</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">gmaxwell:</span> only if you restore a backup with an old version?
<a name="l-300"></a><span class="tm">19:45:36</span><span class="nk"> &lt;luke-jr&gt;</span> that seems like a very niche problem area
<a name="l-301"></a><span class="tm">19:45:42</span><span class="nk"> &lt;sipa&gt;</span> there is a possible best-effort approach of adding witnesses for all keypool entries and new addresses... but given that that's not even water tight...
<a name="l-302"></a><span class="tm">19:45:51</span><span class="nk"> &lt;luke-jr&gt;</span> "when restoring a backup, don't use old versions" seems the straightforward "fix"
<a name="l-303"></a><span class="tm">19:45:55</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">luke-jr:</span> no, the best we could do is store a flag where the segwittyness starts and handle that, but because users are _already_ using addwitnessaddress this would not resolve their current recovery problems while adding for all does.
<a name="l-304"></a><span class="tm">19:46:26</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">luke-jr:</span> this whole discussion is about old restores, if you don't do that all is fantastic in sipa's code.
<a name="l-305"></a><span class="tm">19:46:40</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">gmaxwell:</span> so I'm a user. I upgrade, and suddenly my address list has 500 new addresses. So instead of making new ones, I just use those up..
<a name="l-306"></a><span class="tm">19:46:46</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">sipa:</span> so downgrades are broken anyway cause they wont know to scan for witness-ified scripts anyway
<a name="l-307"></a><span class="tm">19:46:50</span><span class="nk"> &lt;BlueMatt&gt;</span> (and you have to do a rescan or so)
<a name="l-308"></a><span class="tm">19:46:54</span><span class="nk"> &lt;gmaxwell&gt;</span> by old restores I mean downgrade.
<a name="l-309"></a><span class="tm">19:47:08</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">gmaxwell:</span> it sounds like sipa's code will fail to work properly if you simply downgrade with a wallet that's used a segwit address
<a name="l-310"></a><span class="tm">19:47:20</span><span class="nk"> &lt;luke-jr&gt;</span> no backup/restore involved
<a name="l-311"></a><span class="tm">19:47:26</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">sipa:</span> so it sounds like we're back to needing to bump wallet version?
<a name="l-312"></a><span class="tm">19:47:41</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">BlueMatt:</span> that would be nice, yes...
<a name="l-313"></a><span class="tm">19:47:45</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">luke-jr:</span> right, it doesn't downgrade.
<a name="l-314"></a><span class="tm">19:48:05</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">luke-jr:</span> but downgrading is just not possible to support here. At best it can look kinda like it works but lose funds.
<a name="l-315"></a><span class="tm">19:48:10</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">sipa:</span> so are we back to the wallet-overhaul-ish approach, then?
<a name="l-316"></a><span class="tm">19:48:13</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">sipa:</span> it would be really helpful if you would spell this all out in a document.  including how it'll interact with 0.16
<a name="l-317"></a><span class="tm">19:48:18</span><span class="nk"> &lt;luke-jr&gt;</span> if it doesn't downgrade, I see no value in this temporary approach
<a name="l-318"></a><span class="tm">19:48:24</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">morcos:</span> it's spelled out
<a name="l-319"></a><span class="tm">19:48:25</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">BlueMatt:</span> NO
<a name="l-320"></a><span class="tm">19:48:28</span><span class="nk"> &lt;gmaxwell&gt;</span> jesus fucking christ.
<a name="l-321"></a><span class="tm">19:48:39</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">BlueMatt:</span> all we need is a version number
<a name="l-322"></a><span class="tm">19:48:41</span><span class="nk"> &lt;morcos&gt;</span> lets find flaws in the overall plan now, and not wait and realize we made a mistake now that makes 0.16 more difficult
<a name="l-323"></a><span class="tm">19:48:47</span><span class="nk"> &lt;sipa&gt;</span> overhauling will take far longer
<a name="l-324"></a><span class="tm">19:48:49</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">sipa:</span> where is it spelled out
<a name="l-325"></a><span class="tm">19:48:53</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">morcos:</span> it doesn't make 0.16 harder
<a name="l-326"></a><span class="tm">19:48:54</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">luke-jr:</span> If you don't see value in supporting segwit this year then I don't have anything more to discuss with you.
<a name="l-327"></a><span class="tm">19:48:56</span><span class="nk"> &lt;morcos&gt;</span> i agree, overhaul is goign to take a long time
<a name="l-328"></a><span class="tm">19:49:05</span><span class="nk"> &lt;morcos&gt;</span> but i just want to understand now what we are going to do
<a name="l-329"></a><span class="tm">19:49:10</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">sipa:</span> well at a minimum its now blocked on hd upgrade, then, no?
<a name="l-330"></a><span class="tm">19:49:21</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">BlueMatt:</span> no
<a name="l-331"></a><span class="tm">19:49:24</span><span class="nk"> &lt;BlueMatt&gt;</span> why not?
<a name="l-332"></a><span class="tm">19:49:34</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">BlueMatt:</span> there is a pretty straight forward fix, set the version to maximum and introduce a new version field.
<a name="l-333"></a><span class="tm">19:49:47</span><span class="nk"> &lt;BlueMatt&gt;</span> argh, lets not
<a name="l-334"></a><span class="tm">19:49:52</span><span class="nk"> &lt;sipa&gt;</span> hd upgrade requires a new backup
<a name="l-335"></a><span class="tm">19:49:54</span><span class="nk"> &lt;sipa&gt;</span> _this doesn't_
<a name="l-336"></a><span class="tm">19:50:12</span><span class="nk"> &lt;BlueMatt&gt;</span> hd upgrade requires no more backup than keypool topup
<a name="l-337"></a><span class="tm">19:50:15</span><span class="nk"> &lt;sipa&gt;</span> it should simply be "minimum software version to read this file is X"
<a name="l-338"></a><span class="tm">19:50:22</span><span class="nk"> &lt;BlueMatt&gt;</span> (hd upgrade doesnt neccessarily imply you *must* wipe your keypool)
<a name="l-339"></a><span class="tm">19:50:35</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">BlueMatt:</span> it will write a hd master key though, which must be backed up
<a name="l-340"></a><span class="tm">19:50:36</span><span class="nk"> &lt;BlueMatt&gt;</span> (and is also quite simple)
<a name="l-341"></a><span class="tm">19:51:01</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">sipa:</span> no more than topping up your keypool? or you mean you'd want to be able to use segwit-wallet without keypool topup and with an encrypted (and locked) wallet?
<a name="l-342"></a><span class="tm">19:51:25</span><span class="nk"> &lt;sipa&gt;</span> so to be clear... it *is* possible to make downgrade work, if restoring a backup with an older version isn't a concern - though at the cost of some bloat
<a name="l-343"></a><span class="tm">19:51:33</span><span class="nk"> &lt;sipa&gt;</span> and it may make expectations unclear
<a name="l-344"></a><span class="tm">19:52:07</span><span class="nk"> &lt;BlueMatt&gt;</span> you mean as long as you dont restore a backup, just use the latest wallet, right?
<a name="l-345"></a><span class="tm">19:52:15</span><span class="nk"> &lt;BlueMatt&gt;</span> ie via the addwitnessaddress method?
<a name="l-346"></a><span class="tm">19:52:18</span><span class="nk"> &lt;sipa&gt;</span> yes
<a name="l-347"></a><span class="tm">19:52:22</span><span class="nk"> &lt;gmaxwell&gt;</span> restoring a backup is always a concern though.  I don't understand why downgrading suddenly shows up as a hard requirement. It's something that you generally can't do with a new feature except through the cheat of introducing it first but disabled.
<a name="l-348"></a><span class="tm">19:52:51</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">gmaxwell:</span> yes, but we generally "support" it in the sense that you have to manually do -walletupgrade if you want new features
<a name="l-349"></a><span class="tm">19:52:56</span><span class="nk"> &lt;sdaftuar&gt;</span> <span class="hi">gmaxwell:</span> i agree that restoring a backup is important, and supporting downgrade not a big deal
<a name="l-350"></a><span class="tm">19:53:01</span><span class="nk"> &lt;morcos&gt;</span> <span class="hi">sipa:</span> i'm sorry if i missed this, but can you point me to where this is spelled out or just explain what we will do when you upgrade to a 0.16 wallet?  Add 3x number of keys pkscripts to your ismine set?  which we'll do for all keys in your wallet for all time?
<a name="l-351"></a><span class="tm">19:53:04</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">BlueMatt:</span> don't restore a backup, don't run concurrent copies... perhaps some other corner cases we haven't considered.
<a name="l-352"></a><span class="tm">19:53:06</span><span class="nk"> &lt;BlueMatt&gt;</span> and thus we support running the latest version and going back to the previous release eg if there's some critical issue for you
<a name="l-353"></a><span class="tm">19:53:13</span><span class="nk"> &lt;sipa&gt;</span> &gt; Every wallet key implicitly adds its corresponding P2WPKH script to the wallet's known redeemscripts - without writing to the file. This is simpler, needs significantly less space on disk, needs no one-time upgrade for existing keys, but does mean that once a SegWit address has been used, you can't really downgrade to older software anymore.
<a name="l-354"></a><span class="tm">19:53:16</span><span class="nk"> &lt;BlueMatt&gt;</span> "don't restore a backup"???
<a name="l-355"></a><span class="tm">19:53:21</span><span class="nk"> &lt;sipa&gt;</span> ^ from my PR description
<a name="l-356"></a><span class="tm">19:53:41</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">sipa:</span> yes, to me that implies we need to bump wallet version
<a name="l-357"></a><span class="tm">19:53:45</span><span class="nk"> &lt;morcos&gt;</span> i would distinguish that from the addwitness approach where you wouldn't have to do that (but you could have an i'm upgrading from a backup option that does do that to make sure you didn't miss anything)
<a name="l-358"></a><span class="tm">19:53:53</span><span class="nk"> &lt;BlueMatt&gt;</span> which is fine, but that leads us back to the question of hd upgrade
<a name="l-359"></a><span class="tm">19:54:04</span><span class="nk"> &lt;BlueMatt&gt;</span> we can do some hack to let people upgrade to segwit-wallet without an hd upgrade
<a name="l-360"></a><span class="tm">19:54:12</span><span class="nk"> &lt;BlueMatt&gt;</span> or we can jsut implement hd upgrade, which I think is rather trivial
<a name="l-361"></a><span class="tm">19:54:28</span><span class="nk"> &lt;promag&gt;</span> <span class="hi">instagibbs:</span> is https://github.com/bitcoin/bitcoin/pull/11407/files#diff-06ca130427d8b52a085dc51ffea1a541R545 really necessary?
<a name="l-362"></a><span class="tm">19:54:32</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">BlueMatt:</span> Trivial but invalidates their backups.
<a name="l-363"></a><span class="tm">19:54:37</span><span class="nk"> &lt;instagibbs&gt;</span> promag, meeting wait please
<a name="l-364"></a><span class="tm">19:54:47</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">gmaxwell:</span> see previous discussion on keypool? or do you mean locked wallets?
<a name="l-365"></a><span class="tm">19:54:50</span><span class="nk"> &lt;BlueMatt&gt;</span> thats a rather narrow use-case, no?
<a name="l-366"></a><span class="tm">19:55:15</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">BlueMatt:</span> yeah, i don't know
<a name="l-367"></a><span class="tm">19:55:25</span><span class="nk"> &lt;sipa&gt;</span> i may be convinced of doing the addwitnessaddress approach
<a name="l-368"></a><span class="tm">19:55:36 </span><span class="nka">* BlueMatt</span> <span class="ac">would prefer hd-upgrade over dirty hacks, but I'm open to discussion</span>
<a name="l-369"></a><span class="tm">19:55:55</span><span class="nk"> &lt;sipa&gt;</span> though i'm uneasy with the inability to restore while downgrading
<a name="l-370"></a><span class="tm">19:56:06</span><span class="nk"> &lt;BlueMatt&gt;</span> yea, I'd tend to agree
<a name="l-371"></a><span class="tm">19:56:19</span><span class="nk"> &lt;luke-jr&gt;</span> what if we bump the wallet version only in backups?
<a name="l-372"></a><span class="tm">19:56:20</span><span class="nk"> &lt;sipa&gt;</span> on the other hand - everything will be fixed by upgrading again and rescanning
<a name="l-373"></a><span class="tm">19:56:26</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">BlueMatt:</span> hdupgrade invalidates backups, even without a locked wallet. Though thats another point you have to unlock to do it.
<a name="l-374"></a><span class="tm">19:56:35</span><span class="nk"> &lt;wumpus&gt;</span> 3 minutes to go
<a name="l-375"></a><span class="tm">19:57:05</span><span class="nk"> &lt;gmaxwell&gt;</span> I think if restore isn't reliable we shouldn't run with the older version. Thats a big footgun in a mixed wallet where you may not notice a non-trivial percentage of funds vanishing.
<a name="l-376"></a><span class="tm">19:57:23</span><span class="nk"> &lt;luke-jr&gt;</span> backups don't need to use the same version as the latest-wallet
<a name="l-377"></a><span class="tm">19:57:34</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">luke-jr:</span> people use cp to make backups
<a name="l-378"></a><span class="tm">19:57:39</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">sipa:</span> that's broken
<a name="l-379"></a><span class="tm">19:57:43</span><span class="nk"> &lt;luke-jr&gt;</span> :/
<a name="l-380"></a><span class="tm">19:57:51</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">luke-jr:</span> irrelevant - it will cause lost funds
<a name="l-381"></a><span class="tm">19:58:04</span><span class="nk"> &lt;luke-jr&gt;</span> it can cause lost funds even as-is
<a name="l-382"></a><span class="tm">19:58:26</span><span class="nk"> &lt;gmaxwell&gt;</span> <span class="hi">luke-jr:</span> yes, but it's a minor addition to make it not load in older software.
<a name="l-383"></a><span class="tm">19:58:52</span><span class="nk"> &lt;jnewbery&gt;</span> suggested topic: next Bitcoin Core meetup
<a name="l-384"></a><span class="tm">19:58:52</span><span class="nk"> &lt;sipa&gt;</span> so, open for discussion perhaps on the PR: auto-add witnesses so downgrading when not restoring a backup works, or some scheme of versioning to make old software fail
<a name="l-385"></a><span class="tm">19:58:57</span><span class="nk"> &lt;sipa&gt;</span> endtopic
<a name="l-386"></a><span class="tm">19:58:59</span><span class="nk"> &lt;wumpus&gt;</span> <span class="topic">#topic </span><span class="topicline">suggested topic: next Bitcoin Core meetup (jnewbery)</span>
<a name="l-387"></a><span class="tm">19:59:01</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">sdaftuar:</span> points out that downgrade + restore is always broken
<a name="l-388"></a><span class="tm">19:59:06</span><span class="nk"> &lt;achow101&gt;</span> <span class="hi">jnewbery:</span> already?
<a name="l-389"></a><span class="tm">19:59:08</span><span class="nk"> &lt;BlueMatt&gt;</span> cause even if you bump the version number....
<a name="l-390"></a><span class="tm">19:59:10</span><span class="nk"> &lt;instagibbs&gt;</span> NYC :D
<a name="l-391"></a><span class="tm">19:59:15</span><span class="nk"> &lt;BlueMatt&gt;</span> hence why its nice to have an explicit walletupgrade
<a name="l-392"></a><span class="tm">19:59:34</span><span class="nk"> &lt;jnewbery&gt;</span> ok, just a quick announcement - we're in the early stages of planning the next one in NYC the week of March 5th 2018
<a name="l-393"></a><span class="tm">19:59:34</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jnewbery:</span> what timeframe were you thinking of?
<a name="l-394"></a><span class="tm">19:59:40</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">BlueMatt:</span> can you elaborate on sdaftuar's point after meeting?
<a name="l-395"></a><span class="tm">19:59:44</span><span class="nk"> &lt;jnewbery&gt;</span> more details to follow by email
<a name="l-396"></a><span class="tm">19:59:47</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">luke-jr:</span> yes
<a name="l-397"></a><span class="tm">20:00:02</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">achow101:</span> better to plan it long in advance so people can take it into account, instead of on short notice
<a name="l-398"></a><span class="tm">20:00:15</span><span class="nk"> &lt;luke-jr&gt;</span> I'm expecting a baby in February, so I will probably pass on the March meetup
<a name="l-399"></a><span class="tm">20:00:17</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">jnewbery:</span> thanks for the date! thanks for organising.
<a name="l-400"></a><span class="tm">20:00:18</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">jnewbery:</span> woohoo! thanks for planning!
<a name="l-401"></a><span class="tm">20:00:24</span><span class="nk"> &lt;sipa&gt;</span> <span class="hi">jnewbery:</span> cool, on the way back from Financial Crypto :)
<a name="l-402"></a><span class="tm">20:00:26</span><span class="nk"> &lt;instagibbs&gt;</span> \o/ marked on it calender
<a name="l-403"></a><span class="tm">20:00:30 </span><span class="nka">* jonasschnelli</span> <span class="ac">can't attend NYC... to bad</span>
<a name="l-404"></a><span class="tm">20:00:30</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jnewbery:</span> works for me
<a name="l-405"></a><span class="tm">20:01:12</span><span class="nk"> &lt;cfields&gt;</span> <span class="hi">luke-jr:</span> didn't know that, congrats :)
<a name="l-406"></a><span class="tm">20:01:18</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jonasschnelli:</span> that's two times US in a row, let's plan another one in europe next
<a name="l-407"></a><span class="tm">20:01:19</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">cfields:</span> thx
<a name="l-408"></a><span class="tm">20:01:45</span><span class="nk"> &lt;promag&gt;</span> europe +1
<a name="l-409"></a><span class="tm">20:01:47</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">wumpus:</span> I can organise fall 2018 in Europe
<a name="l-410"></a><span class="tm">20:01:50</span><span class="nk"> &lt;luke-jr&gt;</span> we haven't done Australia or Russia yet. but those might just be inconvenient for too many people :p
<a name="l-411"></a><span class="tm">20:01:52</span><span class="nk"> &lt;jnewbery&gt;</span> New York is almost in Europe. Just a short flight :)
<a name="l-412"></a><span class="tm">20:02:00</span><span class="nk"> &lt;meshcollider&gt;</span> Australia +1 ;)
<a name="l-413"></a><span class="tm">20:02:01</span><span class="nk"> &lt;luke-jr&gt;</span> <span class="hi">jnewbery:</span> lol
<a name="l-414"></a><span class="tm">20:02:01</span><span class="nk"> &lt;achow101&gt;</span> lol
<a name="l-415"></a><span class="tm">20:02:16</span><span class="nk"> &lt;jonasschnelli&gt;</span> <span class="hi">jnewbery:</span> hehe
<a name="l-416"></a><span class="tm">20:02:22</span><span class="nk"> &lt;wumpus&gt;</span> austrialia would be fine with me too, russia meh
<a name="l-417"></a><span class="tm">20:02:26</span><span class="nk"> &lt;instagibbs&gt;</span> not incredibly bad for Tokyo folks
<a name="l-418"></a><span class="tm">20:02:27 </span><span class="nka">* cfields</span> <span class="ac">votes for fanquake to host one at his place</span>
<a name="l-419"></a><span class="tm">20:02:48</span><span class="nk"> &lt;wumpus&gt;</span> anyhow thanks everyone, it's time to wrap up the meeting
<a name="l-420"></a><span class="tm">20:02:52 </span><span class="nka">* sipa</span> <span class="ac">votes for Iceland in the summer</span>
<a name="l-421"></a><span class="tm">20:03:06</span><span class="nk"> &lt;jonasschnelli&gt;</span> Iceland would be cool...
<a name="l-422"></a><span class="tm">20:03:18</span><span class="nk"> &lt;jonasschnelli&gt;</span> and cold
<a name="l-423"></a><span class="tm">20:03:19</span><span class="nk"> &lt;wumpus&gt;</span> <span class="hi">jonasschnelli:</span> finally a meeting in UTC+0!
<a name="l-424"></a><span class="tm">20:03:20</span><span class="nk"> &lt;BlueMatt&gt;</span> <span class="hi">wumpus:</span> long since time
<a name="l-425"></a><span class="tm">20:03:20</span><span class="nk"> &lt;meshcollider&gt;</span> https://www.irccloud.com/pastebin/XrHj6tr8
<a name="l-426"></a><span class="tm">20:03:23</span><span class="nk"> &lt;wumpus&gt;</span> <span class="cmd">#endmeeting</span><span class="cmdline"></span></pre>
</body></html>
